<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Poglavje 5 P2.2 Node.js, MVC in različna okolja | Spletno programiranje 2023/2024</title>
  <meta name="description" content="Skripta za pomoč pri predmetu Spletno programiranje 2022/2023" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Poglavje 5 P2.2 Node.js, MVC in različna okolja | Spletno programiranje 2023/2024" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Skripta za pomoč pri predmetu Spletno programiranje 2022/2023" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Poglavje 5 P2.2 Node.js, MVC in različna okolja | Spletno programiranje 2023/2024" />
  
  <meta name="twitter:description" content="Skripta za pomoč pri predmetu Spletno programiranje 2022/2023" />
  

<meta name="author" content="izr. prof. dr. Dejan Lavbič" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="JavaScript.html"/>
<link rel="next" href="PB-REST-API.html"/>
<script src="assets/lib/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="assets/lib/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/lib/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/lib/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/lib/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/lib/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/lib/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="assets/lib/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="assets/lib/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="assets/lib/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="assets/lib/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="assets/lib/kePrint-0.0.1/kePrint.js"></script>
<link href="assets/lib/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="assets/style/stil.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html#terminski-plan-izvajanja-predmeta">SP 2023/2024 terminski plan</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Uvod</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#splošne-informacije"><i class="fa fa-check"></i>Splošne informacije</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#predavatelj"><i class="fa fa-check"></i>Predavatelj</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#asistent"><i class="fa fa-check"></i>Asistent</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#terminski-plan-izvajanja-predmeta"><i class="fa fa-check"></i>Terminski plan izvajanja predmeta</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#pravila-igre"><i class="fa fa-check"></i>Pravila igre</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#predavanja"><i class="fa fa-check"></i>Predavanja</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#vaje"><i class="fa fa-check"></i>Vaje</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#ocenjevanje"><i class="fa fa-check"></i>Ocenjevanje</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#pisni-izpiti"><i class="fa fa-check"></i>Pisni izpiti</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#priporočena-literatura"><i class="fa fa-check"></i>Priporočena literatura</a></li>
</ul></li>
<li class="part"><span><b>I sklop: Uvod v spletno programiranje</b></span></li>
<li class="chapter" data-level="1" data-path="P11.html"><a href="P11.html"><i class="fa fa-check"></i><b>1</b> <span class="sklop1 oznaka">P1.1</span> Svetovni splet in celostni razvoj programske opreme</a>
<ul>
<li class="chapter" data-level="1.1" data-path="P11.html"><a href="P11.html#infrastrukturni-in-arhitekturni-pogled-na-svetovni-splet"><i class="fa fa-check"></i><b>1.1</b> Infrastrukturni in arhitekturni pogled na svetovni splet</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="P11.html"><a href="P11.html#moorov-zakon"><i class="fa fa-check"></i><b>1.1.1</b> Moorov zakon</a></li>
<li class="chapter" data-level="1.1.2" data-path="P11.html"><a href="P11.html#internet-vs.-svetovni-splet"><i class="fa fa-check"></i><b>1.1.2</b> Internet vs. (svetovni) splet</a></li>
<li class="chapter" data-level="1.1.3" data-path="P11.html"><a href="P11.html#razvoj-interneta"><i class="fa fa-check"></i><b>1.1.3</b> Razvoj interneta</a></li>
<li class="chapter" data-level="1.1.4" data-path="P11.html"><a href="P11.html#razvoj-WWW"><i class="fa fa-check"></i><b>1.1.4</b> Razvoj (svetovnega) spleta</a></li>
<li class="chapter" data-level="1.1.5" data-path="P11.html"><a href="P11.html#arhitektura-odjemalecstrežnik"><i class="fa fa-check"></i><b>1.1.5</b> Arhitektura odjemalec/strežnik</a></li>
<li class="chapter" data-level="1.1.6" data-path="P11.html"><a href="P11.html#večnivojska-arhitektura"><i class="fa fa-check"></i><b>1.1.6</b> Večnivojska arhitektura</a></li>
<li class="chapter" data-level="1.1.7" data-path="P11.html"><a href="P11.html#pomembni-mejniki-in-akterji"><i class="fa fa-check"></i><b>1.1.7</b> Pomembni mejniki in akterji</a></li>
<li class="chapter" data-level="1.1.8" data-path="P11.html"><a href="P11.html#trenutno-stanje-na-trgu"><i class="fa fa-check"></i><b>1.1.8</b> Trenutno stanje na trgu</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="P11.html"><a href="P11.html#uporabljen-pristop-pri-predmetu"><i class="fa fa-check"></i><b>1.2</b> Uporabljen pristop pri predmetu</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="P11.html"><a href="P11.html#tehnologije-ki-jih-bomo-uporabljali"><i class="fa fa-check"></i><b>1.2.1</b> Tehnologije, ki jih bomo uporabljali</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="P11.html"><a href="P11.html#celostni-razvoj-programske-opreme-z-mean-arhitekturo"><i class="fa fa-check"></i><b>1.3</b> Celostni razvoj programske opreme z MEAN arhitekturo</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="P11.html"><a href="P11.html#Node-js-niti"><i class="fa fa-check"></i><b>1.3.1</b> Node.js</a></li>
<li class="chapter" data-level="1.3.2" data-path="P11.html"><a href="P11.html#express"><i class="fa fa-check"></i><b>1.3.2</b> Express</a></li>
<li class="chapter" data-level="1.3.3" data-path="P11.html"><a href="P11.html#MongoDB-uvod"><i class="fa fa-check"></i><b>1.3.3</b> MongoDB</a></li>
<li class="chapter" data-level="1.3.4" data-path="P11.html"><a href="P11.html#angular"><i class="fa fa-check"></i><b>1.3.4</b> Angular</a></li>
<li class="chapter" data-level="1.3.5" data-path="P11.html"><a href="P11.html#podporna-orodja-ogrodja-in-knjižnice"><i class="fa fa-check"></i><b>1.3.5</b> Podporna orodja, ogrodja in knjižnice</a></li>
<li class="chapter" data-level="1.3.6" data-path="P11.html"><a href="P11.html#git"><i class="fa fa-check"></i><b>1.3.6</b> Git</a></li>
<li class="chapter" data-level="1.3.7" data-path="P11.html"><a href="P11.html#heroku"><i class="fa fa-check"></i><b>1.3.7</b> Heroku</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="P11.html"><a href="P11.html#razvoj-dejanske-aplikacije"><i class="fa fa-check"></i><b>1.4</b> Razvoj dejanske aplikacije</a></li>
<li class="chapter" data-level="1.5" data-path="P11.html"><a href="P11.html#nacrtovanje-aplikacije-po-mean-arhitekturi"><i class="fa fa-check"></i><b>1.5</b> Načrtovanje aplikacije po MEAN arhitekturi</a></li>
<li class="chapter" data-level="1.6" data-path="P11.html"><a href="P11.html#dobre-prakse-pri-načrtovanju-in-implementaciji-aplikacije"><i class="fa fa-check"></i><b>1.6</b> Dobre prakse pri načrtovanju in implementaciji aplikacije</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="P11.html"><a href="P11.html#uporaba-api-ja-za-dostop-do-podatkovne-ravni"><i class="fa fa-check"></i><b>1.6.1</b> Uporaba API-ja za dostop do podatkovne ravni</a></li>
<li class="chapter" data-level="1.6.2" data-path="P11.html"><a href="P11.html#koraki-pri-nacrtovanju-nove-spletne-aplikacije"><i class="fa fa-check"></i><b>1.6.2</b> Koraki pri načrtovanju nove spletne aplikacije</a></li>
<li class="chapter" data-level="1.6.3" data-path="P11.html"><a href="P11.html#koraki-pri-implementaciji-nove-spletne-aplikacije"><i class="fa fa-check"></i><b>1.6.3</b> Koraki pri implementaciji nove spletne aplikacije</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="P11.html"><a href="P11.html#okolje"><i class="fa fa-check"></i><b>1.7</b> Okolje</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="P11.html"><a href="P11.html#razvojno-okolje"><i class="fa fa-check"></i><b>1.7.1</b> Razvojno okolje</a></li>
<li class="chapter" data-level="1.7.2" data-path="P11.html"><a href="P11.html#produkcijsko-okolje"><i class="fa fa-check"></i><b>1.7.2</b> Produkcijsko okolje</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="P11.html"><a href="P11.html#git-1"><i class="fa fa-check"></i><b>1.8</b> Git</a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="P11.html"><a href="P11.html#osnovne-operacije-vcs"><i class="fa fa-check"></i><b>1.8.1</b> Osnovne operacije VCS</a></li>
<li class="chapter" data-level="1.8.2" data-path="P11.html"><a href="P11.html#posebnosti-porazdeljenih-sistemov-za-obvladovanje-verzij-dvcs"><i class="fa fa-check"></i><b>1.8.2</b> Posebnosti porazdeljenih sistemov za obvladovanje verzij (DVCS)</a></li>
<li class="chapter" data-level="1.8.3" data-path="P11.html"><a href="P11.html#dobre-prakse-uporabe-git"><i class="fa fa-check"></i><b>1.8.3</b> Dobre prakse uporabe Git</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="LP1.html"><a href="LP1.html"><i class="fa fa-check"></i><b>2</b> <span class="sklop4 oznaka">1. LP</span> Dinamična spletna aplikacija na strani strežnika in odjemalca</a>
<ul>
<li class="chapter" data-level="2.1" data-path="LP1.html"><a href="LP1.html#pravila-zahteve-in-omejitve"><i class="fa fa-check"></i><b>2.1</b> Pravila, zahteve in omejitve</a></li>
<li class="chapter" data-level="2.2" data-path="LP1.html"><a href="LP1.html#LP11"><i class="fa fa-check"></i><b>2.2</b> <span class="sklop1 oznaka">1. del</span> Osnutek aplikacije in wireframe model</a></li>
<li class="chapter" data-level="2.3" data-path="LP1.html"><a href="LP1.html#LP12"><i class="fa fa-check"></i><b>2.3</b> <span class="sklop2 oznaka">2. del</span> Arhitektura aplikacije in različna razvojna okolja</a></li>
<li class="chapter" data-level="2.4" data-path="LP1.html"><a href="LP1.html#LP13"><i class="fa fa-check"></i><b>2.4</b> <span class="sklop3 oznaka">3. del</span> Zaledni del in dostop do podatkovne baze</a></li>
<li class="chapter" data-level="2.5" data-path="LP1.html"><a href="LP1.html#LP14"><i class="fa fa-check"></i><b>2.5</b> <span class="sklop4 oznaka">4. del</span> Uporabniški vmesnik, SPA in avtentikacija</a></li>
<li class="chapter" data-level="2.6" data-path="LP1.html"><a href="LP1.html#kriteriji-vrednotenja"><i class="fa fa-check"></i><b>2.6</b> Kriteriji vrednotenja</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="HTML-CSS.html"><a href="HTML-CSS.html"><i class="fa fa-check"></i><b>3</b> <span class="sklop1 oznaka">P1.2</span> Osnovna spletna standarda HTML in CSS</a>
<ul>
<li class="chapter" data-level="3.1" data-path="HTML-CSS.html"><a href="HTML-CSS.html#html-tehnologija"><i class="fa fa-check"></i><b>3.1</b> HTML</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="HTML-CSS.html"><a href="HTML-CSS.html#enostaven-primer-html5-dokumenta"><i class="fa fa-check"></i><b>3.1.1</b> Enostaven primer HTML5 dokumenta</a></li>
<li class="chapter" data-level="3.1.2" data-path="HTML-CSS.html"><a href="HTML-CSS.html#ustreznost-html5-dokumenta"><i class="fa fa-check"></i><b>3.1.2</b> Ustreznost HTML5 dokumenta</a></li>
<li class="chapter" data-level="3.1.3" data-path="HTML-CSS.html"><a href="HTML-CSS.html#naslovi"><i class="fa fa-check"></i><b>3.1.3</b> Naslovi</a></li>
<li class="chapter" data-level="3.1.4" data-path="HTML-CSS.html"><a href="HTML-CSS.html#povezave"><i class="fa fa-check"></i><b>3.1.4</b> Povezave</a></li>
<li class="chapter" data-level="3.1.5" data-path="HTML-CSS.html"><a href="HTML-CSS.html#slike"><i class="fa fa-check"></i><b>3.1.5</b> Slike</a></li>
<li class="chapter" data-level="3.1.6" data-path="HTML-CSS.html"><a href="HTML-CSS.html#posebni-znaki-in-vodoravne-črte"><i class="fa fa-check"></i><b>3.1.6</b> Posebni znaki in vodoravne črte</a></li>
<li class="chapter" data-level="3.1.7" data-path="HTML-CSS.html"><a href="HTML-CSS.html#seznami"><i class="fa fa-check"></i><b>3.1.7</b> Seznami</a></li>
<li class="chapter" data-level="3.1.8" data-path="HTML-CSS.html"><a href="HTML-CSS.html#tabele"><i class="fa fa-check"></i><b>3.1.8</b> Tabele</a></li>
<li class="chapter" data-level="3.1.9" data-path="HTML-CSS.html"><a href="HTML-CSS.html#Spletni-obrazci-HTML"><i class="fa fa-check"></i><b>3.1.9</b> Spletni obrazci</a></li>
<li class="chapter" data-level="3.1.10" data-path="HTML-CSS.html"><a href="HTML-CSS.html#interne-povezave"><i class="fa fa-check"></i><b>3.1.10</b> Interne povezave</a></li>
<li class="chapter" data-level="3.1.11" data-path="HTML-CSS.html"><a href="HTML-CSS.html#meta-elementi"><i class="fa fa-check"></i><b>3.1.11</b> Meta elementi</a></li>
<li class="chapter" data-level="3.1.12" data-path="HTML-CSS.html"><a href="HTML-CSS.html#napredni-gradniki-spletnih-obrazcev"><i class="fa fa-check"></i><b>3.1.12</b> Napredni gradniki spletnih obrazcev</a></li>
<li class="chapter" data-level="3.1.13" data-path="HTML-CSS.html"><a href="HTML-CSS.html#samodejno-dopolnjevanje-vrednosti-pri-vnosnih-poljih"><i class="fa fa-check"></i><b>3.1.13</b> Samodejno dopolnjevanje vrednosti pri vnosnih poljih</a></li>
<li class="chapter" data-level="3.1.14" data-path="HTML-CSS.html"><a href="HTML-CSS.html#elementi-za-opredelitev-strukture-strani"><i class="fa fa-check"></i><b>3.1.14</b> Elementi za opredelitev strukture strani</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="HTML-CSS.html"><a href="HTML-CSS.html#prekrivni-slogi-css"><i class="fa fa-check"></i><b>3.2</b> Prekrivni slogi (CSS)</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="HTML-CSS.html"><a href="HTML-CSS.html#uvod-1"><i class="fa fa-check"></i><b>3.2.1</b> Uvod</a></li>
<li class="chapter" data-level="3.2.2" data-path="HTML-CSS.html"><a href="HTML-CSS.html#neposredno-opredeljeni-slogi"><i class="fa fa-check"></i><b>3.2.2</b> Neposredno opredeljeni slogi</a></li>
<li class="chapter" data-level="3.2.3" data-path="HTML-CSS.html"><a href="HTML-CSS.html#vgrajeni-slogi"><i class="fa fa-check"></i><b>3.2.3</b> Vgrajeni slogi</a></li>
<li class="chapter" data-level="3.2.4" data-path="HTML-CSS.html"><a href="HTML-CSS.html#konfliktni-slogi"><i class="fa fa-check"></i><b>3.2.4</b> Konfliktni slogi</a></li>
<li class="chapter" data-level="3.2.5" data-path="HTML-CSS.html"><a href="HTML-CSS.html#zunanji-slogi"><i class="fa fa-check"></i><b>3.2.5</b> Zunanji slogi</a></li>
<li class="chapter" data-level="3.2.6" data-path="HTML-CSS.html"><a href="HTML-CSS.html#pozicioniranje-elementov"><i class="fa fa-check"></i><b>3.2.6</b> Pozicioniranje elementov</a></li>
<li class="chapter" data-level="3.2.7" data-path="HTML-CSS.html"><a href="HTML-CSS.html#ozadje"><i class="fa fa-check"></i><b>3.2.7</b> Ozadje</a></li>
<li class="chapter" data-level="3.2.8" data-path="HTML-CSS.html"><a href="HTML-CSS.html#dimenzije-elementa"><i class="fa fa-check"></i><b>3.2.8</b> Dimenzije elementa</a></li>
<li class="chapter" data-level="3.2.9" data-path="HTML-CSS.html"><a href="HTML-CSS.html#model-škatle"><i class="fa fa-check"></i><b>3.2.9</b> Model škatle</a></li>
<li class="chapter" data-level="3.2.10" data-path="HTML-CSS.html"><a href="HTML-CSS.html#plavajoči-elementi"><i class="fa fa-check"></i><b>3.2.10</b> Plavajoči elementi</a></li>
<li class="chapter" data-level="3.2.11" data-path="HTML-CSS.html"><a href="HTML-CSS.html#vrste-medijev"><i class="fa fa-check"></i><b>3.2.11</b> Vrste medijev</a></li>
<li class="chapter" data-level="3.2.12" data-path="HTML-CSS.html"><a href="HTML-CSS.html#spustni-meniji"><i class="fa fa-check"></i><b>3.2.12</b> Spustni meniji</a></li>
<li class="chapter" data-level="3.2.13" data-path="HTML-CSS.html"><a href="HTML-CSS.html#senca-na-besedilu"><i class="fa fa-check"></i><b>3.2.13</b> Senca na besedilu</a></li>
<li class="chapter" data-level="3.2.14" data-path="HTML-CSS.html"><a href="HTML-CSS.html#zaobljeni-robovi"><i class="fa fa-check"></i><b>3.2.14</b> Zaobljeni robovi</a></li>
<li class="chapter" data-level="3.2.15" data-path="HTML-CSS.html"><a href="HTML-CSS.html#barva"><i class="fa fa-check"></i><b>3.2.15</b> Barva</a></li>
<li class="chapter" data-level="3.2.16" data-path="HTML-CSS.html"><a href="HTML-CSS.html#senca-na-modelu-škatle"><i class="fa fa-check"></i><b>3.2.16</b> Senca na modelu škatle</a></li>
<li class="chapter" data-level="3.2.17" data-path="HTML-CSS.html"><a href="HTML-CSS.html#uporaba-pisav-s-spleta"><i class="fa fa-check"></i><b>3.2.17</b> Uporaba pisav s spleta</a></li>
<li class="chapter" data-level="3.2.18" data-path="HTML-CSS.html"><a href="HTML-CSS.html#prilagodljiv-model-škatle-in-izbira-poljubnega-ugnezdenega-elementa"><i class="fa fa-check"></i><b>3.2.18</b> Prilagodljiv model škatle in izbira poljubnega ugnezdenega elementa</a></li>
<li class="chapter" data-level="3.2.19" data-path="HTML-CSS.html"><a href="HTML-CSS.html#postavitev-v-več-stolpcev"><i class="fa fa-check"></i><b>3.2.19</b> Postavitev v več stolpcev</a></li>
<li class="chapter" data-level="3.2.20" data-path="HTML-CSS.html"><a href="HTML-CSS.html#poizvedovanje-po-medijih"><i class="fa fa-check"></i><b>3.2.20</b> Poizvedovanje po medijih</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="HTML-CSS.html"><a href="HTML-CSS.html#bootstrap-1"><i class="fa fa-check"></i><b>3.3</b> Bootstrap</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="HTML-CSS.html"><a href="HTML-CSS.html#uvod-in-način-uporabe"><i class="fa fa-check"></i><b>3.3.1</b> Uvod in način uporabe</a></li>
<li class="chapter" data-level="3.3.2" data-path="HTML-CSS.html"><a href="HTML-CSS.html#enostavni-primer"><i class="fa fa-check"></i><b>3.3.2</b> Enostavni primer</a></li>
<li class="chapter" data-level="3.3.3" data-path="HTML-CSS.html"><a href="HTML-CSS.html#prilagajanje-vsebine-z-mrežnim-sistemom"><i class="fa fa-check"></i><b>3.3.3</b> Prilagajanje vsebine z mrežnim sistemom</a></li>
<li class="chapter" data-level="3.3.4" data-path="HTML-CSS.html"><a href="HTML-CSS.html#tipografija"><i class="fa fa-check"></i><b>3.3.4</b> Tipografija</a></li>
<li class="chapter" data-level="3.3.5" data-path="HTML-CSS.html"><a href="HTML-CSS.html#tabele-1"><i class="fa fa-check"></i><b>3.3.5</b> Tabele</a></li>
<li class="chapter" data-level="3.3.6" data-path="HTML-CSS.html"><a href="HTML-CSS.html#slike-1"><i class="fa fa-check"></i><b>3.3.6</b> Slike</a></li>
<li class="chapter" data-level="3.3.7" data-path="HTML-CSS.html"><a href="HTML-CSS.html#opozorila"><i class="fa fa-check"></i><b>3.3.7</b> Opozorila</a></li>
<li class="chapter" data-level="3.3.8" data-path="HTML-CSS.html"><a href="HTML-CSS.html#gumbi"><i class="fa fa-check"></i><b>3.3.8</b> Gumbi</a></li>
<li class="chapter" data-level="3.3.9" data-path="HTML-CSS.html"><a href="HTML-CSS.html#ikone"><i class="fa fa-check"></i><b>3.3.9</b> Ikone</a></li>
<li class="chapter" data-level="3.3.10" data-path="HTML-CSS.html"><a href="HTML-CSS.html#oznake"><i class="fa fa-check"></i><b>3.3.10</b> Oznake</a></li>
<li class="chapter" data-level="3.3.11" data-path="HTML-CSS.html"><a href="HTML-CSS.html#kazalnik-poteka"><i class="fa fa-check"></i><b>3.3.11</b> Kazalnik poteka</a></li>
<li class="chapter" data-level="3.3.12" data-path="HTML-CSS.html"><a href="HTML-CSS.html#prehodi-po-straneh"><i class="fa fa-check"></i><b>3.3.12</b> Prehodi po straneh</a></li>
<li class="chapter" data-level="3.3.13" data-path="HTML-CSS.html"><a href="HTML-CSS.html#plošča"><i class="fa fa-check"></i><b>3.3.13</b> Plošča</a></li>
<li class="chapter" data-level="3.3.14" data-path="HTML-CSS.html"><a href="HTML-CSS.html#spustni-meni"><i class="fa fa-check"></i><b>3.3.14</b> Spustni meni</a></li>
<li class="chapter" data-level="3.3.15" data-path="HTML-CSS.html"><a href="HTML-CSS.html#spletni-obrazci"><i class="fa fa-check"></i><b>3.3.15</b> Spletni obrazci</a></li>
<li class="chapter" data-level="3.3.16" data-path="HTML-CSS.html"><a href="HTML-CSS.html#modalno-okno"><i class="fa fa-check"></i><b>3.3.16</b> Modalno okno</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="HTML-CSS.html"><a href="HTML-CSS.html#praktični-prikaz-uporabe-css"><i class="fa fa-check"></i><b>3.4</b> Praktični prikaz uporabe CSS</a></li>
</ul></li>
<li class="part"><span><b>II sklop: JavaScript - programski jezik na strani odjemalca in strežnika</b></span></li>
<li class="chapter" data-level="4" data-path="JavaScript.html"><a href="JavaScript.html"><i class="fa fa-check"></i><b>4</b> <span class="sklop2 oznaka">P2.1</span> JavaScript, jezik svetovnega spleta</a>
<ul>
<li class="chapter" data-level="4.1" data-path="JavaScript.html"><a href="JavaScript.html#razvoj-jezika"><i class="fa fa-check"></i><b>4.1</b> Razvoj jezika</a></li>
<li class="chapter" data-level="4.2" data-path="JavaScript.html"><a href="JavaScript.html#vrednosti-podatkovni-tipi-in-operatorji"><i class="fa fa-check"></i><b>4.2</b> Vrednosti, podatkovni tipi in operatorji</a></li>
<li class="chapter" data-level="4.3" data-path="JavaScript.html"><a href="JavaScript.html#struktura-programa"><i class="fa fa-check"></i><b>4.3</b> Struktura programa</a></li>
<li class="chapter" data-level="4.4" data-path="JavaScript.html"><a href="JavaScript.html#kontrolni-stavki"><i class="fa fa-check"></i><b>4.4</b> Kontrolni stavki</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="JavaScript.html"><a href="JavaScript.html#if-stavek"><i class="fa fa-check"></i><b>4.4.1</b> <code>if</code> stavek</a></li>
<li class="chapter" data-level="4.4.2" data-path="JavaScript.html"><a href="JavaScript.html#if...else-stavek"><i class="fa fa-check"></i><b>4.4.2</b> <code>if...else</code> stavek</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="JavaScript.html"><a href="JavaScript.html#operatorji"><i class="fa fa-check"></i><b>4.5</b> Operatorji</a></li>
<li class="chapter" data-level="4.6" data-path="JavaScript.html"><a href="JavaScript.html#struktura-ponavljanja"><i class="fa fa-check"></i><b>4.6</b> Struktura ponavljanja</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="JavaScript.html"><a href="JavaScript.html#while-stavek"><i class="fa fa-check"></i><b>4.6.1</b> <code>while</code> stavek</a></li>
<li class="chapter" data-level="4.6.2" data-path="JavaScript.html"><a href="JavaScript.html#for-stavek"><i class="fa fa-check"></i><b>4.6.2</b> <code>for</code> stavek</a></li>
<li class="chapter" data-level="4.6.3" data-path="JavaScript.html"><a href="JavaScript.html#do...while-stavek"><i class="fa fa-check"></i><b>4.6.3</b> <code>do...while</code> stavek</a></li>
<li class="chapter" data-level="4.6.4" data-path="JavaScript.html"><a href="JavaScript.html#break-in-continue"><i class="fa fa-check"></i><b>4.6.4</b> <code>break</code> in <code>continue</code></a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="JavaScript.html"><a href="JavaScript.html#funkcije"><i class="fa fa-check"></i><b>4.7</b> Funkcije</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="JavaScript.html"><a href="JavaScript.html#opredelitev-funkcije"><i class="fa fa-check"></i><b>4.7.1</b> Opredelitev funkcije</a></li>
<li class="chapter" data-level="4.7.2" data-path="JavaScript.html"><a href="JavaScript.html#parametri-in-kontekst"><i class="fa fa-check"></i><b>4.7.2</b> Parametri in kontekst</a></li>
<li class="chapter" data-level="4.7.3" data-path="JavaScript.html"><a href="JavaScript.html#zaprtje"><i class="fa fa-check"></i><b>4.7.3</b> Zaprtje</a></li>
<li class="chapter" data-level="4.7.4" data-path="JavaScript.html"><a href="JavaScript.html#rekurzija"><i class="fa fa-check"></i><b>4.7.4</b> Rekurzija</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="JavaScript.html"><a href="JavaScript.html#podatkovne-strukture"><i class="fa fa-check"></i><b>4.8</b> Podatkovne strukture</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="JavaScript.html"><a href="JavaScript.html#nizi-in-njihove-lastnosti"><i class="fa fa-check"></i><b>4.8.1</b> Nizi in njihove lastnosti</a></li>
<li class="chapter" data-level="4.8.2" data-path="JavaScript.html"><a href="JavaScript.html#objekt-argumentov-funkcije"><i class="fa fa-check"></i><b>4.8.2</b> Objekt argumentov funkcije</a></li>
<li class="chapter" data-level="4.8.3" data-path="JavaScript.html"><a href="JavaScript.html#json"><i class="fa fa-check"></i><b>4.8.3</b> JSON</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="JavaScript.html"><a href="JavaScript.html#funkcije-višjega-reda"><i class="fa fa-check"></i><b>4.9</b> Funkcije višjega reda</a>
<ul>
<li class="chapter" data-level="4.9.1" data-path="JavaScript.html"><a href="JavaScript.html#abstrakcija"><i class="fa fa-check"></i><b>4.9.1</b> Abstrakcija</a></li>
<li class="chapter" data-level="4.9.2" data-path="JavaScript.html"><a href="JavaScript.html#funkcije-višjega-reda-1"><i class="fa fa-check"></i><b>4.9.2</b> Funkcije višjega reda</a></li>
<li class="chapter" data-level="4.9.3" data-path="JavaScript.html"><a href="JavaScript.html#posredovanje-argumentov"><i class="fa fa-check"></i><b>4.9.3</b> Posredovanje argumentov</a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="JavaScript.html"><a href="JavaScript.html#objekti"><i class="fa fa-check"></i><b>4.10</b> Objekti</a>
<ul>
<li class="chapter" data-level="4.10.1" data-path="JavaScript.html"><a href="JavaScript.html#metode"><i class="fa fa-check"></i><b>4.10.1</b> Metode</a></li>
<li class="chapter" data-level="4.10.2" data-path="JavaScript.html"><a href="JavaScript.html#prototipi"><i class="fa fa-check"></i><b>4.10.2</b> Prototipi</a></li>
<li class="chapter" data-level="4.10.3" data-path="JavaScript.html"><a href="JavaScript.html#konstruktorji"><i class="fa fa-check"></i><b>4.10.3</b> Konstruktorji</a></li>
<li class="chapter" data-level="4.10.4" data-path="JavaScript.html"><a href="JavaScript.html#razredna-notacija"><i class="fa fa-check"></i><b>4.10.4</b> Razredna notacija</a></li>
<li class="chapter" data-level="4.10.5" data-path="JavaScript.html"><a href="JavaScript.html#prekrivanje-lastnosti"><i class="fa fa-check"></i><b>4.10.5</b> Prekrivanje lastnosti</a></li>
<li class="chapter" data-level="4.10.6" data-path="JavaScript.html"><a href="JavaScript.html#get-in-set-metode"><i class="fa fa-check"></i><b>4.10.6</b> <code>Get</code> in <code>set</code> metode</a></li>
<li class="chapter" data-level="4.10.7" data-path="JavaScript.html"><a href="JavaScript.html#primerek"><i class="fa fa-check"></i><b>4.10.7</b> Primerek</a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="JavaScript.html"><a href="JavaScript.html#hrošči-in-obvladovanje-napak"><i class="fa fa-check"></i><b>4.11</b> Hrošči in obvladovanje napak</a>
<ul>
<li class="chapter" data-level="4.11.1" data-path="JavaScript.html"><a href="JavaScript.html#strog-način-delovanja"><i class="fa fa-check"></i><b>4.11.1</b> Strog način delovanja</a></li>
<li class="chapter" data-level="4.11.2" data-path="JavaScript.html"><a href="JavaScript.html#testiranje"><i class="fa fa-check"></i><b>4.11.2</b> Testiranje</a></li>
<li class="chapter" data-level="4.11.3" data-path="JavaScript.html"><a href="JavaScript.html#obvladovanje-izjem"><i class="fa fa-check"></i><b>4.11.3</b> Obvladovanje izjem</a></li>
</ul></li>
<li class="chapter" data-level="4.12" data-path="JavaScript.html"><a href="JavaScript.html#regularni-izrazi"><i class="fa fa-check"></i><b>4.12</b> Regularni izrazi</a>
<ul>
<li class="chapter" data-level="4.12.1" data-path="JavaScript.html"><a href="JavaScript.html#kreiranje-regularnega-izraza"><i class="fa fa-check"></i><b>4.12.1</b> Kreiranje regularnega izraza</a></li>
<li class="chapter" data-level="4.12.2" data-path="JavaScript.html"><a href="JavaScript.html#testiranje-ujemanja"><i class="fa fa-check"></i><b>4.12.2</b> Testiranje ujemanja</a></li>
<li class="chapter" data-level="4.12.3" data-path="JavaScript.html"><a href="JavaScript.html#testiranje-ujemanja-množice-znakov"><i class="fa fa-check"></i><b>4.12.3</b> Testiranje ujemanja množice znakov</a></li>
<li class="chapter" data-level="4.12.4" data-path="JavaScript.html"><a href="JavaScript.html#ponavljanje-delov-vzorca"><i class="fa fa-check"></i><b>4.12.4</b> Ponavljanje delov vzorca</a></li>
<li class="chapter" data-level="4.12.5" data-path="JavaScript.html"><a href="JavaScript.html#združevanje-delov-vzorca"><i class="fa fa-check"></i><b>4.12.5</b> Združevanje delov vzorca</a></li>
<li class="chapter" data-level="4.12.6" data-path="JavaScript.html"><a href="JavaScript.html#ujemanje-in-grupiranje"><i class="fa fa-check"></i><b>4.12.6</b> Ujemanje in grupiranje</a></li>
<li class="chapter" data-level="4.12.7" data-path="JavaScript.html"><a href="JavaScript.html#omejevanje-besed"><i class="fa fa-check"></i><b>4.12.7</b> Omejevanje besed</a></li>
<li class="chapter" data-level="4.12.8" data-path="JavaScript.html"><a href="JavaScript.html#vzorci-z-več-možnostmi"><i class="fa fa-check"></i><b>4.12.8</b> Vzorci z več možnostmi</a></li>
<li class="chapter" data-level="4.12.9" data-path="JavaScript.html"><a href="JavaScript.html#zamenjava-podnizov"><i class="fa fa-check"></i><b>4.12.9</b> Zamenjava podnizov</a></li>
<li class="chapter" data-level="4.12.10" data-path="JavaScript.html"><a href="JavaScript.html#požrešna-metoda-ujemanja"><i class="fa fa-check"></i><b>4.12.10</b> Požrešna metoda ujemanja</a></li>
<li class="chapter" data-level="4.12.11" data-path="JavaScript.html"><a href="JavaScript.html#dinamično-kreiranje-regexp-objektov"><i class="fa fa-check"></i><b>4.12.11</b> Dinamično kreiranje <code>RegExp</code> objektov</a></li>
<li class="chapter" data-level="4.12.12" data-path="JavaScript.html"><a href="JavaScript.html#sprehod-po-zadetkih-ujemanja"><i class="fa fa-check"></i><b>4.12.12</b> Sprehod po zadetkih ujemanja</a></li>
</ul></li>
<li class="chapter" data-level="4.13" data-path="JavaScript.html"><a href="JavaScript.html#moduli"><i class="fa fa-check"></i><b>4.13</b> Moduli</a>
<ul>
<li class="chapter" data-level="4.13.1" data-path="JavaScript.html"><a href="JavaScript.html#uporaba-funkcij-v-vlogi-imenskega-prostora"><i class="fa fa-check"></i><b>4.13.1</b> Uporaba funkcij v vlogi imenskega prostora</a></li>
<li class="chapter" data-level="4.13.2" data-path="JavaScript.html"><a href="JavaScript.html#objekti-kot-vmesniki"><i class="fa fa-check"></i><b>4.13.2</b> Objekti kot vmesniki</a></li>
<li class="chapter" data-level="4.13.3" data-path="JavaScript.html"><a href="JavaScript.html#izvajanje-podatkov-v-obliki-kode"><i class="fa fa-check"></i><b>4.13.3</b> Izvajanje podatkov v obliki kode</a></li>
</ul></li>
<li class="chapter" data-level="4.14" data-path="JavaScript.html"><a href="JavaScript.html#javascript-in-spletni-brskalnik"><i class="fa fa-check"></i><b>4.14</b> JavaScript in spletni brskalnik</a>
<ul>
<li class="chapter" data-level="4.14.1" data-path="JavaScript.html"><a href="JavaScript.html#html-in-javascript"><i class="fa fa-check"></i><b>4.14.1</b> HTML in JavaScript</a></li>
<li class="chapter" data-level="4.14.2" data-path="JavaScript.html"><a href="JavaScript.html#zaščiteno-okolje"><i class="fa fa-check"></i><b>4.14.2</b> Zaščiteno okolje</a></li>
</ul></li>
<li class="chapter" data-level="4.15" data-path="JavaScript.html"><a href="JavaScript.html#objektni-model-dokumenta"><i class="fa fa-check"></i><b>4.15</b> Objektni model dokumenta</a>
<ul>
<li class="chapter" data-level="4.15.1" data-path="JavaScript.html"><a href="JavaScript.html#struktura-dokumenta-in-predstavitev-v-obliki-drevesa"><i class="fa fa-check"></i><b>4.15.1</b> Struktura dokumenta in predstavitev v obliki drevesa</a></li>
<li class="chapter" data-level="4.15.2" data-path="JavaScript.html"><a href="JavaScript.html#iskanje-elementov"><i class="fa fa-check"></i><b>4.15.2</b> Iskanje elementov</a></li>
<li class="chapter" data-level="4.15.3" data-path="JavaScript.html"><a href="JavaScript.html#spreminjanje-dokumenta"><i class="fa fa-check"></i><b>4.15.3</b> Spreminjanje dokumenta</a></li>
<li class="chapter" data-level="4.15.4" data-path="JavaScript.html"><a href="JavaScript.html#dodajanje-elementov"><i class="fa fa-check"></i><b>4.15.4</b> Dodajanje elementov</a></li>
<li class="chapter" data-level="4.15.5" data-path="JavaScript.html"><a href="JavaScript.html#uporaba-lastnih-atributov"><i class="fa fa-check"></i><b>4.15.5</b> Uporaba lastnih atributov</a></li>
<li class="chapter" data-level="4.15.6" data-path="JavaScript.html"><a href="JavaScript.html#postavitev-na-strani"><i class="fa fa-check"></i><b>4.15.6</b> Postavitev na strani</a></li>
<li class="chapter" data-level="4.15.7" data-path="JavaScript.html"><a href="JavaScript.html#oblikovanje-in-prekrivni-slogi"><i class="fa fa-check"></i><b>4.15.7</b> Oblikovanje in prekrivni slogi</a></li>
</ul></li>
<li class="chapter" data-level="4.16" data-path="JavaScript.html"><a href="JavaScript.html#obvladovanje-dogodkov"><i class="fa fa-check"></i><b>4.16</b> Obvladovanje dogodkov</a>
<ul>
<li class="chapter" data-level="4.16.1" data-path="JavaScript.html"><a href="JavaScript.html#dogodki-na-html-gradnikih"><i class="fa fa-check"></i><b>4.16.1</b> Dogodki na HTML gradnikih</a></li>
<li class="chapter" data-level="4.16.2" data-path="JavaScript.html"><a href="JavaScript.html#objekt-dogodka"><i class="fa fa-check"></i><b>4.16.2</b> Objekt dogodka</a></li>
<li class="chapter" data-level="4.16.3" data-path="JavaScript.html"><a href="JavaScript.html#širjenje-obvladovanja-dogodkov"><i class="fa fa-check"></i><b>4.16.3</b> Širjenje obvladovanja dogodkov</a></li>
<li class="chapter" data-level="4.16.4" data-path="JavaScript.html"><a href="JavaScript.html#privzete-akcije"><i class="fa fa-check"></i><b>4.16.4</b> Privzete akcije</a></li>
<li class="chapter" data-level="4.16.5" data-path="JavaScript.html"><a href="JavaScript.html#pritisk-tipke-na-tipkovnici"><i class="fa fa-check"></i><b>4.16.5</b> Pritisk tipke na tipkovnici</a></li>
<li class="chapter" data-level="4.16.6" data-path="JavaScript.html"><a href="JavaScript.html#dogodki-z-miško"><i class="fa fa-check"></i><b>4.16.6</b> Dogodki z miško</a></li>
<li class="chapter" data-level="4.16.7" data-path="JavaScript.html"><a href="JavaScript.html#fokusiranje"><i class="fa fa-check"></i><b>4.16.7</b> Fokusiranje</a></li>
<li class="chapter" data-level="4.16.8" data-path="JavaScript.html"><a href="JavaScript.html#dogodek-nalaganja"><i class="fa fa-check"></i><b>4.16.8</b> Dogodek nalaganja</a></li>
<li class="chapter" data-level="4.16.9" data-path="JavaScript.html"><a href="JavaScript.html#časovniki"><i class="fa fa-check"></i><b>4.16.9</b> Časovniki</a></li>
<li class="chapter" data-level="4.16.10" data-path="JavaScript.html"><a href="JavaScript.html#čas-poteka"><i class="fa fa-check"></i><b>4.16.10</b> Čas poteka</a></li>
</ul></li>
<li class="chapter" data-level="4.17" data-path="JavaScript.html"><a href="JavaScript.html#http"><i class="fa fa-check"></i><b>4.17</b> HTTP</a>
<ul>
<li class="chapter" data-level="4.17.1" data-path="JavaScript.html"><a href="JavaScript.html#spletni-brskalniki-in-http"><i class="fa fa-check"></i><b>4.17.1</b> Spletni brskalniki in HTTP</a></li>
<li class="chapter" data-level="4.17.2" data-path="JavaScript.html"><a href="JavaScript.html#posredovanje-zahteve"><i class="fa fa-check"></i><b>4.17.2</b> Posredovanje zahteve</a></li>
<li class="chapter" data-level="4.17.3" data-path="JavaScript.html"><a href="JavaScript.html#http-peskovnik"><i class="fa fa-check"></i><b>4.17.3</b> HTTP peskovnik</a></li>
<li class="chapter" data-level="4.17.4" data-path="JavaScript.html"><a href="JavaScript.html#abstrakcija-zahtev"><i class="fa fa-check"></i><b>4.17.4</b> Abstrakcija zahtev</a></li>
<li class="chapter" data-level="4.17.5" data-path="JavaScript.html"><a href="JavaScript.html#promises"><i class="fa fa-check"></i><b>4.17.5</b> Promises</a></li>
</ul></li>
<li class="chapter" data-level="4.18" data-path="JavaScript.html"><a href="JavaScript.html#spletni-obrazci-in-vnosna-polja"><i class="fa fa-check"></i><b>4.18</b> Spletni obrazci in vnosna polja</a>
<ul>
<li class="chapter" data-level="4.18.1" data-path="JavaScript.html"><a href="JavaScript.html#vnosna-polja"><i class="fa fa-check"></i><b>4.18.1</b> Vnosna polja</a></li>
<li class="chapter" data-level="4.18.2" data-path="JavaScript.html"><a href="JavaScript.html#fokus-vnosa-s-tipkovnico"><i class="fa fa-check"></i><b>4.18.2</b> Fokus vnosa s tipkovnico</a></li>
<li class="chapter" data-level="4.18.3" data-path="JavaScript.html"><a href="JavaScript.html#onemogočeni-elementi-spletnega-obrazca"><i class="fa fa-check"></i><b>4.18.3</b> Onemogočeni elementi spletnega obrazca</a></li>
<li class="chapter" data-level="4.18.4" data-path="JavaScript.html"><a href="JavaScript.html#spletni-obrazec-kot-celota"><i class="fa fa-check"></i><b>4.18.4</b> Spletni obrazec kot celota</a></li>
<li class="chapter" data-level="4.18.5" data-path="JavaScript.html"><a href="JavaScript.html#besedilna-vnosna-polja"><i class="fa fa-check"></i><b>4.18.5</b> Besedilna vnosna polja</a></li>
<li class="chapter" data-level="4.18.6" data-path="JavaScript.html"><a href="JavaScript.html#gradniki-večkratne-izbire"><i class="fa fa-check"></i><b>4.18.6</b> Gradniki (večkratne) izbire</a></li>
<li class="chapter" data-level="4.18.7" data-path="JavaScript.html"><a href="JavaScript.html#izbirna-polja"><i class="fa fa-check"></i><b>4.18.7</b> Izbirna polja</a></li>
<li class="chapter" data-level="4.18.8" data-path="JavaScript.html"><a href="JavaScript.html#vnosno-polje-datoteke"><i class="fa fa-check"></i><b>4.18.8</b> Vnosno polje datoteke</a></li>
<li class="chapter" data-level="4.18.9" data-path="JavaScript.html"><a href="JavaScript.html#shranjevanje-podatkov-na-odjemalcu"><i class="fa fa-check"></i><b>4.18.9</b> Shranjevanje podatkov na odjemalcu</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="Node-js.html"><a href="Node-js.html"><i class="fa fa-check"></i><b>5</b> <span class="sklop2 oznaka">P2.2</span> Node.js, MVC in različna okolja</a>
<ul>
<li class="chapter" data-level="5.1" data-path="Node-js.html"><a href="Node-js.html#node.js"><i class="fa fa-check"></i><b>5.1</b> Node.js</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="Node-js.html"><a href="Node-js.html#ozadje-1"><i class="fa fa-check"></i><b>5.1.1</b> Ozadje</a></li>
<li class="chapter" data-level="5.1.2" data-path="Node-js.html"><a href="Node-js.html#asinhronost"><i class="fa fa-check"></i><b>5.1.2</b> Asinhronost</a></li>
<li class="chapter" data-level="5.1.3" data-path="Node-js.html"><a href="Node-js.html#ukaz-node"><i class="fa fa-check"></i><b>5.1.3</b> Ukaz <code>node</code></a></li>
<li class="chapter" data-level="5.1.4" data-path="Node-js.html"><a href="Node-js.html#moduli-1"><i class="fa fa-check"></i><b>5.1.4</b> Moduli</a></li>
<li class="chapter" data-level="5.1.5" data-path="Node-js.html"><a href="Node-js.html#nameščanje-z-npm"><i class="fa fa-check"></i><b>5.1.5</b> Nameščanje z <code>npm</code></a></li>
<li class="chapter" data-level="5.1.6" data-path="Node-js.html"><a href="Node-js.html#modul-za-dostop-do-datotečnega-sistema"><i class="fa fa-check"></i><b>5.1.6</b> Modul za dostop do datotečnega sistema</a></li>
<li class="chapter" data-level="5.1.7" data-path="Node-js.html"><a href="Node-js.html#modul-http"><i class="fa fa-check"></i><b>5.1.7</b> Modul <code>http</code></a></li>
<li class="chapter" data-level="5.1.8" data-path="Node-js.html"><a href="Node-js.html#tok-podatkov"><i class="fa fa-check"></i><b>5.1.8</b> Tok podatkov</a></li>
<li class="chapter" data-level="5.1.9" data-path="Node-js.html"><a href="Node-js.html#enostavni-datotečni-strežnik"><i class="fa fa-check"></i><b>5.1.9</b> Enostavni datotečni strežnik</a></li>
<li class="chapter" data-level="5.1.10" data-path="Node-js.html"><a href="Node-js.html#obvladovanje-napak"><i class="fa fa-check"></i><b>5.1.10</b> Obvladovanje napak</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="Node-js.html"><a href="Node-js.html#vzpostavitev-in-nastavitev-projekta"><i class="fa fa-check"></i><b>5.2</b> Vzpostavitev in nastavitev projekta</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="Node-js.html"><a href="Node-js.html#pregled-uporabljenih-orodij-express-node-in-npm"><i class="fa fa-check"></i><b>5.2.1</b> Pregled uporabljenih orodij Express, Node in <code>npm</code></a></li>
<li class="chapter" data-level="5.2.2" data-path="Node-js.html"><a href="Node-js.html#kreiranje-projekta-express"><i class="fa fa-check"></i><b>5.2.2</b> Kreiranje projekta Express</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="Node-js.html"><a href="Node-js.html#gradnja-aplikacije-z-mvc"><i class="fa fa-check"></i><b>5.3</b> Gradnja aplikacije z MVC</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="Node-js.html"><a href="Node-js.html#kratek-pregled-mvc-arhitekture"><i class="fa fa-check"></i><b>5.3.1</b> Kratek pregled MVC arhitekture</a></li>
<li class="chapter" data-level="5.3.2" data-path="Node-js.html"><a href="Node-js.html#kako-express-obdela-zahteve"><i class="fa fa-check"></i><b>5.3.2</b> Kako Express obdela zahteve?</a></li>
<li class="chapter" data-level="5.3.3" data-path="Node-js.html"><a href="Node-js.html#gradnja-statične-aplikacije-z-node-in-express"><i class="fa fa-check"></i><b>5.3.3</b> Gradnja statične aplikacije z Node in Express</a></li>
<li class="chapter" data-level="5.3.4" data-path="Node-js.html"><a href="Node-js.html#prilagoditev-ogrodja-express-za-mvc"><i class="fa fa-check"></i><b>5.3.4</b> Prilagoditev ogrodja Express za MVC</a></li>
<li class="chapter" data-level="5.3.5" data-path="Node-js.html"><a href="Node-js.html#dodajanje-zunanjih-knjižnic-za-prilagoditev-izgleda-strani"><i class="fa fa-check"></i><b>5.3.5</b> Dodajanje zunanjih knjižnic za prilagoditev izgleda strani</a></li>
<li class="chapter" data-level="5.3.6" data-path="Node-js.html"><a href="Node-js.html#opredelitev-usmerjevalnikov-v-express"><i class="fa fa-check"></i><b>5.3.6</b> Opredelitev usmerjevalnikov v Express</a></li>
<li class="chapter" data-level="5.3.7" data-path="Node-js.html"><a href="Node-js.html#izdelava-osnovnih-krmilnikov"><i class="fa fa-check"></i><b>5.3.7</b> Izdelava osnovnih krmilnikov</a></li>
<li class="chapter" data-level="5.3.8" data-path="Node-js.html"><a href="Node-js.html#dopolnitev-pogledov"><i class="fa fa-check"></i><b>5.3.8</b> Dopolnitev pogledov</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="Node-js.html"><a href="Node-js.html#strežba-aplikacije-v-različnih-okoljih"><i class="fa fa-check"></i><b>5.4</b> Strežba aplikacije v različnih okoljih</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="Node-js.html"><a href="Node-js.html#docker"><i class="fa fa-check"></i><b>5.4.1</b> Strežba aplikacije v okolju Docker</a></li>
<li class="chapter" data-level="5.4.2" data-path="Node-js.html"><a href="Node-js.html#strežba-aplikacije-na-fly"><i class="fa fa-check"></i><b>5.4.2</b> Strežba aplikacije na Fly</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III sklop: Zaledni del in dostop do podatkov</b></span></li>
<li class="chapter" data-level="6" data-path="PB-REST-API.html"><a href="PB-REST-API.html"><i class="fa fa-check"></i><b>6</b> <span class="sklop3 oznaka">P3.1</span> Podatkovna baza in REST API</a>
<ul>
<li class="chapter" data-level="6.1" data-path="PB-REST-API.html"><a href="PB-REST-API.html#priprava-podatkovnega-modela-za-mongodb-z-mongoose"><i class="fa fa-check"></i><b>6.1</b> Priprava podatkovnega modela za MongoDB z Mongoose</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="PB-REST-API.html"><a href="PB-REST-API.html#Povezovanje-Express-aplikacije-in-MongoDB-z-Mongoose"><i class="fa fa-check"></i><b>6.1.1</b> Povezovanje Express aplikacije in MongoDB z Mongoose</a></li>
<li class="chapter" data-level="6.1.2" data-path="PB-REST-API.html"><a href="PB-REST-API.html#zakaj-je-treba-modelirati-podatke"><i class="fa fa-check"></i><b>6.1.2</b> Zakaj je treba modelirati podatke?</a></li>
<li class="chapter" data-level="6.1.3" data-path="PB-REST-API.html"><a href="PB-REST-API.html#podatki-iz-registra"><i class="fa fa-check"></i><b>6.1.3</b> Podatki iz registra kulturne dediščine</a></li>
<li class="chapter" data-level="6.1.4" data-path="PB-REST-API.html"><a href="PB-REST-API.html#opredelitev-sheme-z-mongoose"><i class="fa fa-check"></i><b>6.1.4</b> Opredelitev sheme z Mongoose</a></li>
<li class="chapter" data-level="6.1.5" data-path="PB-REST-API.html"><a href="PB-REST-API.html#Uporaba-MongoDB-ukazne-lupine-za-dodajanje-podatkov"><i class="fa fa-check"></i><b>6.1.5</b> Uporaba MongoDB ukazne lupine za dodajanje podatkov</a></li>
<li class="chapter" data-level="6.1.6" data-path="PB-REST-API.html"><a href="PB-REST-API.html#uvoz-testnih-podatkov"><i class="fa fa-check"></i><b>6.1.6</b> Uvoz testnih podatkov</a></li>
<li class="chapter" data-level="6.1.7" data-path="PB-REST-API.html"><a href="PB-REST-API.html#vključitev-podatkovne-baze"><i class="fa fa-check"></i><b>6.1.7</b> Vključitev podatkovne baze</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="PB-REST-API.html"><a href="PB-REST-API.html#priprava-rest-api-ja-za-dostop-do-mongodb-podatkovne-baze"><i class="fa fa-check"></i><b>6.2</b> Priprava REST API-ja za dostop do MongoDB podatkovne baze</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="PB-REST-API.html"><a href="PB-REST-API.html#rest-api"><i class="fa fa-check"></i><b>6.2.1</b> REST API</a></li>
<li class="chapter" data-level="6.2.2" data-path="PB-REST-API.html"><a href="PB-REST-API.html#url-zahteva"><i class="fa fa-check"></i><b>6.2.2</b> URL zahteva</a></li>
<li class="chapter" data-level="6.2.3" data-path="PB-REST-API.html"><a href="PB-REST-API.html#metoda-zahteve"><i class="fa fa-check"></i><b>6.2.3</b> Metoda zahteve</a></li>
<li class="chapter" data-level="6.2.4" data-path="PB-REST-API.html"><a href="PB-REST-API.html#odgovor-podatek-in-status-api-ja"><i class="fa fa-check"></i><b>6.2.4</b> Odgovor (podatek in status) API-ja</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="PB-REST-API.html"><a href="PB-REST-API.html#Implementacija-API-ja-z-ogrodjem-Express"><i class="fa fa-check"></i><b>6.3</b> Implementacija API-ja z ogrodjem Express</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="PB-REST-API.html"><a href="PB-REST-API.html#priprava-usmerjevalnika"><i class="fa fa-check"></i><b>6.3.1</b> Priprava usmerjevalnika</a></li>
<li class="chapter" data-level="6.3.2" data-path="PB-REST-API.html"><a href="PB-REST-API.html#priprava-osnutka-krmilnika"><i class="fa fa-check"></i><b>6.3.2</b> Priprava osnutka krmilnika</a></li>
<li class="chapter" data-level="6.3.3" data-path="PB-REST-API.html"><a href="PB-REST-API.html#testiranje-osnutka-api-ja"><i class="fa fa-check"></i><b>6.3.3</b> Testiranje osnutka API-ja</a></li>
<li class="chapter" data-level="6.3.4" data-path="PB-REST-API.html"><a href="PB-REST-API.html#vključitev-modela"><i class="fa fa-check"></i><b>6.3.4</b> Vključitev modela</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="PB-REST-API.html"><a href="PB-REST-API.html#get-metode-za-branje-podatkov-iz-mongodb"><i class="fa fa-check"></i><b>6.4</b> GET metode za branje podatkov iz MongoDB</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="PB-REST-API.html"><a href="PB-REST-API.html#iskanje-dokumenta"><i class="fa fa-check"></i><b>6.4.1</b> Iskanje dokumenta</a></li>
<li class="chapter" data-level="6.4.2" data-path="PB-REST-API.html"><a href="PB-REST-API.html#iskanje-odvisnega-dokumenta"><i class="fa fa-check"></i><b>6.4.2</b> Iskanje odvisnega dokumenta</a></li>
<li class="chapter" data-level="6.4.3" data-path="PB-REST-API.html"><a href="PB-REST-API.html#geografsko-iskanje"><i class="fa fa-check"></i><b>6.4.3</b> Geografsko iskanje več dokumentov</a></li>
<li class="chapter" data-level="6.4.4" data-path="PB-REST-API.html"><a href="PB-REST-API.html#napredno-iskanje"><i class="fa fa-check"></i><b>6.4.4</b> Napredno iskanje</a></li>
<li class="chapter" data-level="6.4.5" data-path="PB-REST-API.html"><a href="PB-REST-API.html#seznami-sifrantov"><i class="fa fa-check"></i><b>6.4.5</b> Seznami šifrantov</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="Swagger.html"><a href="Swagger.html"><i class="fa fa-check"></i><b>7</b> <span class="sklop3 oznaka">P3.2</span> Načrtovanje s Swagger in OpenAPI</a>
<ul>
<li class="chapter" data-level="7.1" data-path="Swagger.html"><a href="Swagger.html#dokumentiranje-rest-api-ja-z-openapi-specifikacijo"><i class="fa fa-check"></i><b>7.1</b> Dokumentiranje REST API-ja z OpenAPI specifikacijo</a></li>
<li class="chapter" data-level="7.2" data-path="Swagger.html"><a href="Swagger.html#post-metode-za-dodajanje-podatkov-v-mongodb"><i class="fa fa-check"></i><b>7.2</b> POST metode za dodajanje podatkov v MongoDB</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="Swagger.html"><a href="Swagger.html#dodajanje-novih-dokumentov-v-mongodb"><i class="fa fa-check"></i><b>7.2.1</b> Dodajanje novih dokumentov v MongoDB</a></li>
<li class="chapter" data-level="7.2.2" data-path="Swagger.html"><a href="Swagger.html#dodajanje-odvisnih-dokumentov-v-mongodb"><i class="fa fa-check"></i><b>7.2.2</b> Dodajanje odvisnih dokumentov v MongoDB</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="Swagger.html"><a href="Swagger.html#put-metode-za-ažuriranje-podatkov-v-mongodb"><i class="fa fa-check"></i><b>7.3</b> PUT metode za ažuriranje podatkov v MongoDB</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="Swagger.html"><a href="Swagger.html#posodobitev-obstoječega-dokumenta-v-mongodb"><i class="fa fa-check"></i><b>7.3.1</b> Posodobitev obstoječega dokumenta v MongoDB</a></li>
<li class="chapter" data-level="7.3.2" data-path="Swagger.html"><a href="Swagger.html#PUT-odvisni-dokument"><i class="fa fa-check"></i><b>7.3.2</b> Posodobitev obstoječega odvisnega dokumenta v MongoDB</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="Swagger.html"><a href="Swagger.html#delete-metode-za-brisanje-podatkov-iz-mongodb"><i class="fa fa-check"></i><b>7.4</b> DELETE metode za brisanje podatkov iz MongoDB</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="Swagger.html"><a href="Swagger.html#DELETE-comment"><i class="fa fa-check"></i><b>7.4.1</b> Brisanje obstoječega komentarja</a></li>
<li class="chapter" data-level="7.4.2" data-path="Swagger.html"><a href="Swagger.html#brisanje-dokumentov"><i class="fa fa-check"></i><b>7.4.2</b> Brisanje dokumentov</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="Swagger.html"><a href="Swagger.html#uporaba-rest-api-ja-v-express-aplikaciji"><i class="fa fa-check"></i><b>7.5</b> Uporaba REST API-ja v Express aplikaciji</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="Swagger.html"><a href="Swagger.html#priprava-na-api-klic-iz-express-aplikacije"><i class="fa fa-check"></i><b>7.5.1</b> Priprava na API klic iz Express aplikacije</a></li>
<li class="chapter" data-level="7.5.2" data-path="Swagger.html"><a href="Swagger.html#pridobitev-seznama-lokacij-preko-api-ja"><i class="fa fa-check"></i><b>7.5.2</b> Pridobitev seznama lokacij preko API-ja</a></li>
<li class="chapter" data-level="7.5.3" data-path="Swagger.html"><a href="Swagger.html#priprava-novega-pogleda-seznama"><i class="fa fa-check"></i><b>7.5.3</b> Priprava novega pogleda seznama</a></li>
<li class="chapter" data-level="7.5.4" data-path="Swagger.html"><a href="Swagger.html#axios-zunanji-viri"><i class="fa fa-check"></i><b>7.5.4</b> Vključitev ostalih podatkov iz zunanjih virov</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="Swagger.html"><a href="Swagger.html#izboljšanje-zmogljivosti-api-ja"><i class="fa fa-check"></i><b>7.6</b> Izboljšanje zmogljivosti API-ja</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="Swagger.html"><a href="Swagger.html#porazdelitev-po-straneh"><i class="fa fa-check"></i><b>7.6.1</b> Porazdelitev po straneh</a></li>
<li class="chapter" data-level="7.6.2" data-path="Swagger.html"><a href="Swagger.html#asinhrono-beleženje"><i class="fa fa-check"></i><b>7.6.2</b> Asinhrono beleženje</a></li>
<li class="chapter" data-level="7.6.3" data-path="Swagger.html"><a href="Swagger.html#predpomnjenje"><i class="fa fa-check"></i><b>7.6.3</b> Predpomnjenje</a></li>
<li class="chapter" data-level="7.6.4" data-path="Swagger.html"><a href="Swagger.html#stiskanje-koristne-vsebine"><i class="fa fa-check"></i><b>7.6.4</b> Stiskanje koristne vsebine</a></li>
<li class="chapter" data-level="7.6.5" data-path="Swagger.html"><a href="Swagger.html#bazen-povezav"><i class="fa fa-check"></i><b>7.6.5</b> Bazen povezav</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV sklop: Uporabniški vmesnik</b></span></li>
<li class="chapter" data-level="8" data-path="Angular.html"><a href="Angular.html"><i class="fa fa-check"></i><b>8</b> <span class="sklop4 oznaka">P4.1</span> TypeScript in Angular</a>
<ul>
<li class="chapter" data-level="8.1" data-path="Angular.html"><a href="Angular.html#Dodajanje-Angular-komponent-v-Express-aplikacijo"><i class="fa fa-check"></i><b>8.1</b> Dodajanje Angular komponent v Express aplikacijo</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="Angular.html"><a href="Angular.html#namestitev-ogrodja-angular"><i class="fa fa-check"></i><b>8.1.1</b> Namestitev ogrodja Angular</a></li>
<li class="chapter" data-level="8.1.2" data-path="Angular.html"><a href="Angular.html#jezik-typescript"><i class="fa fa-check"></i><b>8.1.2</b> Jezik TypeScript</a></li>
<li class="chapter" data-level="8.1.3" data-path="Angular.html"><a href="Angular.html#kreiranje-in-zagon-angular-aplikacije"><i class="fa fa-check"></i><b>8.1.3</b> Kreiranje in zagon Angular aplikacije</a></li>
<li class="chapter" data-level="8.1.4" data-path="Angular.html"><a href="Angular.html#Izvorna-koda-Angular-aplikacije"><i class="fa fa-check"></i><b>8.1.4</b> Izvorna koda Angular aplikacije</a></li>
<li class="chapter" data-level="8.1.5" data-path="Angular.html"><a href="Angular.html#generiranje-angular-aplikacije-v-jeziku-javascript"><i class="fa fa-check"></i><b>8.1.5</b> Generiranje Angular aplikacije v jeziku JavaScript</a></li>
<li class="chapter" data-level="8.1.6" data-path="Angular.html"><a href="Angular.html#komponenta-za-prikaz-podatkov"><i class="fa fa-check"></i><b>8.1.6</b> Komponenta za prikaz podatkov</a></li>
<li class="chapter" data-level="8.1.7" data-path="Angular.html"><a href="Angular.html#Pridobivanje-podatkov-preko-REST-API-ja"><i class="fa fa-check"></i><b>8.1.7</b> Pridobivanje podatkov preko REST API-ja</a></li>
<li class="chapter" data-level="8.1.8" data-path="Angular.html"><a href="Angular.html#prenos-angular-aplikacije-v-produkcijsko-okolje"><i class="fa fa-check"></i><b>8.1.8</b> Prenos Angular aplikacije v produkcijsko okolje</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="Angular.html"><a href="Angular.html#izdelava-angular-spa-aplikacije-na-eni-strani"><i class="fa fa-check"></i><b>8.2</b> Izdelava Angular SPA aplikacije na eni strani</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="Angular.html"><a href="Angular.html#Prehod-iz-Express-usmerjanja-na-Angular-usmerjanje"><i class="fa fa-check"></i><b>8.2.1</b> Prehod iz Express usmerjanja na Angular usmerjanje</a></li>
<li class="chapter" data-level="8.2.2" data-path="Angular.html"><a href="Angular.html#navigacija-med-stranmi"><i class="fa fa-check"></i><b>8.2.2</b> Navigacija med stranmi</a></li>
<li class="chapter" data-level="8.2.3" data-path="Angular.html"><a href="Angular.html#modularna-zasnova-aplikacije-z-vgnezdenimi-komponentami"><i class="fa fa-check"></i><b>8.2.3</b> Modularna zasnova aplikacije z vgnezdenimi komponentami</a></li>
<li class="chapter" data-level="8.2.4" data-path="Angular.html"><a href="Angular.html#dodajanje-html-geolokacije-za-iskanje-bližnjih-lokacij"><i class="fa fa-check"></i><b>8.2.4</b> Dodajanje HTML geolokacije za iskanje bližnjih lokacij</a></li>
<li class="chapter" data-level="8.2.5" data-path="Angular.html"><a href="Angular.html#prikaz-zvezdic-v-obliki-ponovno-uporabne-komponente"><i class="fa fa-check"></i><b>8.2.5</b> Prikaz zvezdic v obliki ponovno uporabne komponente</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="Angular-SPA.html"><a href="Angular-SPA.html"><i class="fa fa-check"></i><b>9</b> <span class="sklop4 oznaka">P4.2</span> Angular SPA</a>
<ul>
<li class="chapter" data-level="9.1" data-path="Angular-SPA.html"><a href="Angular-SPA.html#kompleksnejši-pogledi-s-parametri-usmerjevanja"><i class="fa fa-check"></i><b>9.1</b> Kompleksnejši pogledi s parametri usmerjevanja</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="Angular-SPA.html"><a href="Angular-SPA.html#sprememba-strukture-strani"><i class="fa fa-check"></i><b>9.1.1</b> Sprememba strukture strani</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="Angular-SPA.html"><a href="Angular-SPA.html#dodajanje-usmerjanja-z-url-parametri"><i class="fa fa-check"></i><b>9.2</b> Dodajanje usmerjanja z URL parametri</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="Angular-SPA.html"><a href="Angular-SPA.html#prenos-podatkov-do-komponente-s-podrobnostmi-lokacije"><i class="fa fa-check"></i><b>9.2.1</b> Prenos podatkov do komponente s podrobnostmi lokacije</a></li>
<li class="chapter" data-level="9.2.2" data-path="Angular-SPA.html"><a href="Angular-SPA.html#pogled-podrobnosti-lokacije"><i class="fa fa-check"></i><b>9.2.2</b> Pogled podrobnosti lokacije</a></li>
<li class="chapter" data-level="9.2.3" data-path="Angular-SPA.html"><a href="Angular-SPA.html#varnostne-izjeme-pri-prikazovanju-zunanjih-podatkov"><i class="fa fa-check"></i><b>9.2.3</b> Varnostne izjeme pri prikazovanju zunanjih podatkov</a></li>
<li class="chapter" data-level="9.2.4" data-path="Angular-SPA.html"><a href="Angular-SPA.html#sprememba-vrstnega-reda-prikaza-komentarjev"><i class="fa fa-check"></i><b>9.2.4</b> Sprememba vrstnega reda prikaza komentarjev</a></li>
<li class="chapter" data-level="9.2.5" data-path="Angular-SPA.html"><a href="Angular-SPA.html#formatiranje-datuma"><i class="fa fa-check"></i><b>9.2.5</b> Formatiranje datuma</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="Angular-SPA.html"><a href="Angular-SPA.html#delo-s-spletnimi-obrazci-in-pošiljanje-podatkov"><i class="fa fa-check"></i><b>9.3</b> Delo s spletnimi obrazci in pošiljanje podatkov</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="Angular-SPA.html"><a href="Angular-SPA.html#priprava-modalnega-okna"><i class="fa fa-check"></i><b>9.3.1</b> Priprava modalnega okna</a></li>
<li class="chapter" data-level="9.3.2" data-path="Angular-SPA.html"><a href="Angular-SPA.html#dodajanje-spletnega-obrazca"><i class="fa fa-check"></i><b>9.3.2</b> Dodajanje spletnega obrazca</a></li>
<li class="chapter" data-level="9.3.3" data-path="Angular-SPA.html"><a href="Angular-SPA.html#povezovanje-podatkov-in-vnosnih-polj-obrazca"><i class="fa fa-check"></i><b>9.3.3</b> Povezovanje podatkov in vnosnih polj obrazca</a></li>
<li class="chapter" data-level="9.3.4" data-path="Angular-SPA.html"><a href="Angular-SPA.html#posredovanje-podatkov-spletnega-obrazca-na-rest-api"><i class="fa fa-check"></i><b>9.3.4</b> Posredovanje podatkov spletnega obrazca na REST API</a></li>
<li class="chapter" data-level="9.3.5" data-path="Angular-SPA.html"><a href="Angular-SPA.html#brisanje-komentarjev"><i class="fa fa-check"></i><b>9.3.5</b> Brisanje komentarjev</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="Angular-SPA.html"><a href="Angular-SPA.html#izboljšava-arhitekture"><i class="fa fa-check"></i><b>9.4</b> Izboljšava arhitekture</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="Angular-SPA.html"><a href="Angular-SPA.html#locitev-usmerjanja"><i class="fa fa-check"></i><b>9.4.1</b> Ločitev usmerjanja</a></li>
<li class="chapter" data-level="9.4.2" data-path="Angular-SPA.html"><a href="Angular-SPA.html#opredelitev-razredov"><i class="fa fa-check"></i><b>9.4.2</b> Opredelitev razredov</a></li>
<li class="chapter" data-level="9.4.3" data-path="Angular-SPA.html"><a href="Angular-SPA.html#Organizacija-izvorne-kode-v-mape"><i class="fa fa-check"></i><b>9.4.3</b> Organizacija izvorne kode v mape</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="Angular-SPA.html"><a href="Angular-SPA.html#zamenjava-strežniške-aplikacije-s-spa-aplikacijo"><i class="fa fa-check"></i><b>9.5</b> Zamenjava strežniške aplikacije s SPA aplikacijo</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="Angular-SPA.html"><a href="Angular-SPA.html#preusmeritev-zahtev-na-angular-spa"><i class="fa fa-check"></i><b>9.5.1</b> Preusmeritev zahtev na Angular SPA</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="Angular-SPA.html"><a href="Angular-SPA.html#dodatni-gradniki-angular-aplikacije"><i class="fa fa-check"></i><b>9.6</b> Dodatni gradniki Angular aplikacije</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="Avtentikacija.html"><a href="Avtentikacija.html"><i class="fa fa-check"></i><b>10</b> <span class="sklop4 oznaka">P4.3</span> Preverjanje istovetnosti uporabnika</a>
<ul>
<li class="chapter" data-level="10.1" data-path="Avtentikacija.html"><a href="Avtentikacija.html#način-avtentikacije-z-uporabo-mean-sklada-tehnologij"><i class="fa fa-check"></i><b>10.1</b> Način avtentikacije z uporabo MEAN sklada tehnologij</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="Avtentikacija.html"><a href="Avtentikacija.html#klasični-pristop-avtentikacije-pri-strežniški-aplikaciji"><i class="fa fa-check"></i><b>10.1.1</b> Klasični pristop avtentikacije pri strežniški aplikaciji</a></li>
<li class="chapter" data-level="10.1.2" data-path="Avtentikacija.html"><a href="Avtentikacija.html#avtentikacija-z-mean-skladom-tehnologij"><i class="fa fa-check"></i><b>10.1.2</b> Avtentikacija z MEAN skladom tehnologij</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="Avtentikacija.html"><a href="Avtentikacija.html#kreiranje-sheme-uporabnikov-v-mongodb"><i class="fa fa-check"></i><b>10.2</b> Kreiranje sheme uporabnikov v MongoDB</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="Avtentikacija.html"><a href="Avtentikacija.html#enosmerno-šifriranje-gesel"><i class="fa fa-check"></i><b>10.2.1</b> Enosmerno šifriranje gesel</a></li>
<li class="chapter" data-level="10.2.2" data-path="Avtentikacija.html"><a href="Avtentikacija.html#Kreiranje-sheme-z-Mongoose"><i class="fa fa-check"></i><b>10.2.2</b> Kreiranje sheme z Mongoose</a></li>
<li class="chapter" data-level="10.2.3" data-path="Avtentikacija.html"><a href="Avtentikacija.html#šifriranje-uporabniškega-gesla"><i class="fa fa-check"></i><b>10.2.3</b> Šifriranje uporabniškega gesla</a></li>
<li class="chapter" data-level="10.2.4" data-path="Avtentikacija.html"><a href="Avtentikacija.html#preverjanje-ustreznosti-podanega-gesla"><i class="fa fa-check"></i><b>10.2.4</b> Preverjanje ustreznosti podanega gesla</a></li>
<li class="chapter" data-level="10.2.5" data-path="Avtentikacija.html"><a href="Avtentikacija.html#generiranje-json-spletnega-žetona-jwt"><i class="fa fa-check"></i><b>10.2.5</b> Generiranje JSON spletnega žetona (JWT)</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="Avtentikacija.html"><a href="Avtentikacija.html#Priprava-API-ja-za-avtentikacijo"><i class="fa fa-check"></i><b>10.3</b> Priprava API-ja za avtentikacijo</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="Avtentikacija.html"><a href="Avtentikacija.html#namestitev-in-konfiguracija-passporta"><i class="fa fa-check"></i><b>10.3.1</b> Namestitev in konfiguracija Passporta</a></li>
<li class="chapter" data-level="10.3.2" data-path="Avtentikacija.html"><a href="Avtentikacija.html#kreiranje-api-dostopne-točke-in-vračanje-json-spletnih-žetonov-jwt"><i class="fa fa-check"></i><b>10.3.2</b> Kreiranje API dostopne točke in vračanje JSON spletnih žetonov (JWT)</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="Avtentikacija.html"><a href="Avtentikacija.html#Varnostna-zascita-izbranih-API-dostopnih-tock"><i class="fa fa-check"></i><b>10.4</b> Varnostna zaščita izbranih API dostopnih točk</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="Avtentikacija.html"><a href="Avtentikacija.html#dodajanje-vmesne-avtentikacijske-ravni-pri-express-usmerjanju"><i class="fa fa-check"></i><b>10.4.1</b> Dodajanje vmesne avtentikacijske ravni pri Express usmerjanju</a></li>
<li class="chapter" data-level="10.4.2" data-path="Avtentikacija.html"><a href="Avtentikacija.html#uporaba-informacij-iz-jwt-v-express-krmilniku"><i class="fa fa-check"></i><b>10.4.2</b> Uporaba informacij iz JWT v Express krmilniku</a></li>
<li class="chapter" data-level="10.4.3" data-path="Avtentikacija.html"><a href="Avtentikacija.html#avtorizacija-azuriranje"><i class="fa fa-check"></i><b>10.4.3</b> Avtorizacija pri ažuriranju komentarja</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="Avtentikacija.html"><a href="Avtentikacija.html#Priprava-storitve-avtentikacije-v-Angular"><i class="fa fa-check"></i><b>10.5</b> Priprava storitve avtentikacije v Angular</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="Avtentikacija.html"><a href="Avtentikacija.html#obvladovanje-seje-uporabnika-v-angular"><i class="fa fa-check"></i><b>10.5.1</b> Obvladovanje seje uporabnika v Angular</a></li>
<li class="chapter" data-level="10.5.2" data-path="Avtentikacija.html"><a href="Avtentikacija.html#omogočanje-registracije-prijave-in-odjave-uporabnikov"><i class="fa fa-check"></i><b>10.5.2</b> Omogočanje registracije, prijave in odjave uporabnikov</a></li>
<li class="chapter" data-level="10.5.3" data-path="Avtentikacija.html"><a href="Avtentikacija.html#uporaba-podatkov-iz-jwt-v-angular-storitvi"><i class="fa fa-check"></i><b>10.5.3</b> Uporaba podatkov iz JWT v Angular storitvi</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="Avtentikacija.html"><a href="Avtentikacija.html#Priprava-strani-za-registracijo-in-prijavo-uporabnika"><i class="fa fa-check"></i><b>10.6</b> Priprava strani za registracijo in prijavo uporabnika</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="Avtentikacija.html"><a href="Avtentikacija.html#priprava-strani-za-registracijo"><i class="fa fa-check"></i><b>10.6.1</b> Priprava strani za registracijo</a></li>
<li class="chapter" data-level="10.6.2" data-path="Avtentikacija.html"><a href="Avtentikacija.html#priprava-strani-za-prijavo"><i class="fa fa-check"></i><b>10.6.2</b> Priprava strani za prijavo</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="Avtentikacija.html"><a href="Avtentikacija.html#uporaba-avtentikacije-v-angular-aplikaciji"><i class="fa fa-check"></i><b>10.7</b> Uporaba avtentikacije v Angular aplikaciji</a>
<ul>
<li class="chapter" data-level="10.7.1" data-path="Avtentikacija.html"><a href="Avtentikacija.html#posodobitev-navigacije"><i class="fa fa-check"></i><b>10.7.1</b> Posodobitev navigacije</a></li>
<li class="chapter" data-level="10.7.2" data-path="Avtentikacija.html"><a href="Avtentikacija.html#podpora-zgodovini-brskanja"><i class="fa fa-check"></i><b>10.7.2</b> Podpora zgodovini brskanja</a></li>
<li class="chapter" data-level="10.7.3" data-path="Avtentikacija.html"><a href="Avtentikacija.html#dodajanje-uporabnika-v-komentar"><i class="fa fa-check"></i><b>10.7.3</b> Dodajanje uporabniških podatkov v komentar</a></li>
<li class="chapter" data-level="10.7.4" data-path="Avtentikacija.html"><a href="Avtentikacija.html#brisanje-lastnih-komentarjev"><i class="fa fa-check"></i><b>10.7.4</b> Brisanje lastnih komentarjev</a></li>
</ul></li>
<li class="chapter" data-level="10.8" data-path="Avtentikacija.html"><a href="Avtentikacija.html#nastavitve-v-brskalniku"><i class="fa fa-check"></i><b>10.8</b> Shranjevanje uporabniških nastavitev v brskalniku</a></li>
<li class="chapter" data-level="10.9" data-path="Avtentikacija.html"><a href="Avtentikacija.html#auth-guard"><i class="fa fa-check"></i><b>10.9</b> Auth Guard</a>
<ul>
<li class="chapter" data-level="10.9.1" data-path="Avtentikacija.html"><a href="Avtentikacija.html#vrste"><i class="fa fa-check"></i><b>10.9.1</b> Vrste</a></li>
<li class="chapter" data-level="10.9.2" data-path="Avtentikacija.html"><a href="Avtentikacija.html#canRegister"><i class="fa fa-check"></i><b>10.9.2</b> Onemogočenje registracije prijavljenim uporabnikom</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V sklop: Decentralizirane aplikacije in veriga blokov</b></span></li>
<li class="chapter" data-level="11" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html"><i class="fa fa-check"></i><b>11</b> <span class="sklop5 oznaka">P5.1</span> DApps, pametne pogodbe in Solidity</a>
<ul>
<li class="chapter" data-level="11.1" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#decentralizirane-aplikacije"><i class="fa fa-check"></i><b>11.1</b> Decentralizirane aplikacije</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#kaj-je-decentralizirana-aplikacija-dapp"><i class="fa fa-check"></i><b>11.1.1</b> Kaj je decentralizirana aplikacija (DApp)?</a></li>
<li class="chapter" data-level="11.1.2" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#omrežje-ethereum"><i class="fa fa-check"></i><b>11.1.2</b> Omrežje Ethereum</a></li>
<li class="chapter" data-level="11.1.3" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#terminologija-dapp"><i class="fa fa-check"></i><b>11.1.3</b> Terminologija DApp</a></li>
<li class="chapter" data-level="11.1.4" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#decentralizirane-in-porazdeljene-aplikacije"><i class="fa fa-check"></i><b>11.1.4</b> Decentralizirane in porazdeljene aplikacije</a></li>
<li class="chapter" data-level="11.1.5" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#primeri-dobrih-praks"><i class="fa fa-check"></i><b>11.1.5</b> Primeri dobrih praks</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#veriga-blokov"><i class="fa fa-check"></i><b>11.2</b> Veriga blokov</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#sklad-tehnologij-za-podporo-dapp"><i class="fa fa-check"></i><b>11.2.1</b> Sklad tehnologij za podporo DApp</a></li>
<li class="chapter" data-level="11.2.2" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#podrobnosti-vozlišča-ethereum"><i class="fa fa-check"></i><b>11.2.2</b> Podrobnosti vozlišča Ethereum</a></li>
<li class="chapter" data-level="11.2.3" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#življenjski-cikel-transakcije"><i class="fa fa-check"></i><b>11.2.3</b> Življenjski cikel transakcije</a></li>
<li class="chapter" data-level="11.2.4" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#razvijalski-pogled-na-postavitev-pametne-pogodbe"><i class="fa fa-check"></i><b>11.2.4</b> Razvijalski pogled na postavitev pametne pogodbe</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#platforma-ethereum"><i class="fa fa-check"></i><b>11.3</b> Platforma Ethereum</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#pametne-pogodbe-kot-osnova-dapp"><i class="fa fa-check"></i><b>11.3.1</b> Pametne pogodbe kot osnova DApp</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#programiranje-pametnih-pogodb-s-solidity"><i class="fa fa-check"></i><b>11.4</b> Programiranje pametnih pogodb s Solidity</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#Struktura-pogodbe"><i class="fa fa-check"></i><b>11.4.1</b> Struktura pogodbe</a></li>
<li class="chapter" data-level="11.4.2" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#razvoj-enostavne-pogodbe"><i class="fa fa-check"></i><b>11.4.2</b> Razvoj enostavne pogodbe</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#razvoj-kompleksnih-pametnih-pogodb"><i class="fa fa-check"></i><b>11.5</b> Razvoj kompleksnih pametnih pogodb</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#spremenljivke-stanja"><i class="fa fa-check"></i><b>11.5.1</b> Spremenljivke stanja</a></li>
<li class="chapter" data-level="11.5.2" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#konstruktor"><i class="fa fa-check"></i><b>11.5.2</b> Konstruktor</a></li>
<li class="chapter" data-level="11.5.3" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#funkcije-za-podporo-množični-prodaji"><i class="fa fa-check"></i><b>11.5.3</b> Funkcije za podporo množični prodaji</a></li>
<li class="chapter" data-level="11.5.4" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#testiranje-množične-prodaje"><i class="fa fa-check"></i><b>11.5.4</b> Testiranje množične prodaje</a></li>
<li class="chapter" data-level="11.5.5" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#večkratno-dedovanje"><i class="fa fa-check"></i><b>11.5.5</b> Večkratno dedovanje</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#objektno-usmerjene-lastnosti-pametnih-pogodb"><i class="fa fa-check"></i><b>11.6</b> Objektno usmerjene lastnosti pametnih pogodb</a>
<ul>
<li class="chapter" data-level="11.6.1" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#dedovanje"><i class="fa fa-check"></i><b>11.6.1</b> Dedovanje</a></li>
<li class="chapter" data-level="11.6.2" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#abstraktne-pogodbe"><i class="fa fa-check"></i><b>11.6.2</b> Abstraktne pogodbe</a></li>
<li class="chapter" data-level="11.6.3" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#vmesniki"><i class="fa fa-check"></i><b>11.6.3</b> Vmesniki</a></li>
<li class="chapter" data-level="11.6.4" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#knjižnice"><i class="fa fa-check"></i><b>11.6.4</b> Knjižnice</a></li>
<li class="chapter" data-level="11.6.5" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#skladnost-s-standardom-erc20"><i class="fa fa-check"></i><b>11.6.5</b> Skladnost s standardom <code>ERC20</code></a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="DApps-pametne-pogodbe.html"><a href="DApps-pametne-pogodbe.html#ekosistem-ethereum"><i class="fa fa-check"></i><b>11.7</b> Ekosistem Ethereum</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="LP2.html"><a href="LP2.html"><i class="fa fa-check"></i><b>12</b> <span class="sklop5 oznaka">2. LP</span> Decentralizirana aplikacija na verigi blokov</a>
<ul>
<li class="chapter" data-level="12.1" data-path="LP2.html"><a href="LP2.html#pravila-zahteve-in-omejitve-1"><i class="fa fa-check"></i><b>12.1</b> Pravila, zahteve in omejitve</a></li>
<li class="chapter" data-level="12.2" data-path="LP2.html"><a href="LP2.html#kriteriji-vrednotenja-1"><i class="fa fa-check"></i><b>12.2</b> Kriteriji vrednotenja</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html"><i class="fa fa-check"></i><b>13</b> <span class="sklop5 oznaka">P5.2</span> Truffle in Web3</a>
<ul>
<li class="chapter" data-level="13.1" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#izdelava-decentralizirane-aplikacije"><i class="fa fa-check"></i><b>13.1</b> Izdelava decentralizirane aplikacije</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#opredelitev-zahtev-decentralizirane-aplikacije-za-glasovanje"><i class="fa fa-check"></i><b>13.1.1</b> Opredelitev zahtev decentralizirane aplikacije za glasovanje</a></li>
<li class="chapter" data-level="13.1.2" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#razvojni-načrt"><i class="fa fa-check"></i><b>13.1.2</b> Razvojni načrt</a></li>
<li class="chapter" data-level="13.1.3" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#Truffle-projekt"><i class="fa fa-check"></i><b>13.1.3</b> Truffle projekt</a></li>
<li class="chapter" data-level="13.1.4" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#razvoj-pametne-pogodbe"><i class="fa fa-check"></i><b>13.1.4</b> Razvoj pametne pogodbe</a></li>
<li class="chapter" data-level="13.1.5" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#lastna-privatna-veriga-blokov"><i class="fa fa-check"></i><b>13.1.5</b> Lastna privatna veriga blokov</a></li>
<li class="chapter" data-level="13.1.6" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#prevajanje-in-postavitev-pametne-pogodbe"><i class="fa fa-check"></i><b>13.1.6</b> Prevajanje in postavitev pametne pogodbe</a></li>
<li class="chapter" data-level="13.1.7" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#testi-enot"><i class="fa fa-check"></i><b>13.1.7</b> Testi enot</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#uporabniški-vmesnik"><i class="fa fa-check"></i><b>13.2</b> Uporabniški vmesnik</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#priprava-odvisnosti"><i class="fa fa-check"></i><b>13.2.1</b> Priprava odvisnosti</a></li>
<li class="chapter" data-level="13.2.2" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#spletna-stran"><i class="fa fa-check"></i><b>13.2.2</b> Spletna stran</a></li>
<li class="chapter" data-level="13.2.3" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#web3-aplikacija-kot-angular-komponenta"><i class="fa fa-check"></i><b>13.2.3</b> Web3 aplikacija kot Angular komponenta</a></li>
<li class="chapter" data-level="13.2.4" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#opredelitev-izgleda"><i class="fa fa-check"></i><b>13.2.4</b> Opredelitev izgleda</a></li>
<li class="chapter" data-level="13.2.5" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#povezava-na-verigo-blokov"><i class="fa fa-check"></i><b>13.2.5</b> Povezava na verigo blokov</a></li>
<li class="chapter" data-level="13.2.6" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#podpora-funkcionalnostim-neregistriranega-volivca"><i class="fa fa-check"></i><b>13.2.6</b> Podpora funkcionalnostim neregistriranega volivca</a></li>
<li class="chapter" data-level="13.2.7" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#podpora-funkcionalnostim-registriranega-volivca"><i class="fa fa-check"></i><b>13.2.7</b> Podpora funkcionalnostim registriranega volivca</a></li>
<li class="chapter" data-level="13.2.8" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#podpora-funkcionalnostim-skrbnika"><i class="fa fa-check"></i><b>13.2.8</b> Podpora funkcionalnostim skrbnika</a></li>
<li class="chapter" data-level="13.2.9" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#obvladovanje-dogodkov-v-okviru-dapp"><i class="fa fa-check"></i><b>13.2.9</b> Obvladovanje dogodkov v okviru DApp</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#testiranje-decentralizirane-aplikacije-za-glasovanje"><i class="fa fa-check"></i><b>13.3</b> Testiranje decentralizirane aplikacije za glasovanje</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#zagon-osebne-verige-blokov-ganache"><i class="fa fa-check"></i><b>13.3.1</b> Zagon osebne verige blokov Ganache</a></li>
<li class="chapter" data-level="13.3.2" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#dostop-do-racunov-metamask"><i class="fa fa-check"></i><b>13.3.2</b> Dostop do računov preko MetaMask</a></li>
<li class="chapter" data-level="13.3.3" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#postavitev-pametne-pogodbe-na-verigo-blokov"><i class="fa fa-check"></i><b>13.3.3</b> Postavitev pametne pogodbe na verigo blokov</a></li>
<li class="chapter" data-level="13.3.4" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#povezovanje-metamask-z-dapp"><i class="fa fa-check"></i><b>13.3.4</b> Povezovanje MetaMask z DApp</a></li>
<li class="chapter" data-level="13.3.5" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#faza-registracije-volivcev"><i class="fa fa-check"></i><b>13.3.5</b> Faza registracije volivcev</a></li>
<li class="chapter" data-level="13.3.6" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#faza-začetka-sprejemanja-predlogov"><i class="fa fa-check"></i><b>13.3.6</b> Faza začetka sprejemanja predlogov</a></li>
<li class="chapter" data-level="13.3.7" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#faza-konca-sprejemanja-predlogov"><i class="fa fa-check"></i><b>13.3.7</b> Faza konca sprejemanja predlogov</a></li>
<li class="chapter" data-level="13.3.8" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#faza-začetka-glasovanja"><i class="fa fa-check"></i><b>13.3.8</b> Faza začetka glasovanja</a></li>
<li class="chapter" data-level="13.3.9" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#faza-konca-glasovanja"><i class="fa fa-check"></i><b>13.3.9</b> Faza konca glasovanja</a></li>
<li class="chapter" data-level="13.3.10" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#zaključna-faza-preštetih-glasov"><i class="fa fa-check"></i><b>13.3.10</b> Zaključna faza preštetih glasov</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#varna-postavitev"><i class="fa fa-check"></i><b>13.4</b> Postavitev pametne pogodbe na zaščiteno verigo blokov</a></li>
<li class="chapter" data-level="13.5" data-path="Truffle-Web3.html"><a href="Truffle-Web3.html#postavitev-pametne-pogodbe-s-pomočjo-metamask"><i class="fa fa-check"></i><b>13.5</b> Postavitev pametne pogodbe s pomočjo MetaMask</a></li>
</ul></li>
<li class="part"><span><b>VI sklop: Dodatne funkcionalnosti</b></span></li>
<li class="chapter" data-level="14" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html"><i class="fa fa-check"></i><b>14</b> <span class="sklop6 oznaka">P6.1</span> Varnost spletnih aplikacij, testiranje in progresivne spletne aplikacije</a>
<ul>
<li class="chapter" data-level="14.1" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#odprtokodni-projekt-varnosti-spletnih-aplikacij-owasp"><i class="fa fa-check"></i><b>14.1</b> Odprtokodni projekt varnosti spletnih aplikacij OWASP</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#uvod-2"><i class="fa fa-check"></i><b>14.1.1</b> Uvod</a></li>
<li class="chapter" data-level="14.1.2" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#trend-največjih-varnostnih-tveganj-spletnih-aplikacij"><i class="fa fa-check"></i><b>14.1.2</b> Trend največjih varnostnih tveganj spletnih aplikacij</a></li>
<li class="chapter" data-level="14.1.3" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#ovrednotenje-varnostnih-tveganj-aplikacije"><i class="fa fa-check"></i><b>14.1.3</b> Ovrednotenje varnostnih tveganj aplikacije</a></li>
<li class="chapter" data-level="14.1.4" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#A1-2021"><i class="fa fa-check"></i><b>14.1.4</b> A1:2021 - Neustrezen nadzor dostopa</a></li>
<li class="chapter" data-level="14.1.5" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#A2-2021"><i class="fa fa-check"></i><b>14.1.5</b> A2:2021 - Kriptografske napake</a></li>
<li class="chapter" data-level="14.1.6" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#A3-2021"><i class="fa fa-check"></i><b>14.1.6</b> A3:2021 - Vrivanje zlonamerne kode</a></li>
<li class="chapter" data-level="14.1.7" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#A4-2021"><i class="fa fa-check"></i><b>14.1.7</b> A4:2021 - Nevaren načrt</a></li>
<li class="chapter" data-level="14.1.8" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#A5-2021"><i class="fa fa-check"></i><b>14.1.8</b> A5:2021 - Napačna varnostna konfiguracija</a></li>
<li class="chapter" data-level="14.1.9" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#A6-2021"><i class="fa fa-check"></i><b>14.1.9</b> A6:2021 - Ranljive in zastarele komponente</a></li>
<li class="chapter" data-level="14.1.10" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#A7-2021"><i class="fa fa-check"></i><b>14.1.10</b> A7:2021 - Napake pri identifikaciji in avtentikaciji</a></li>
<li class="chapter" data-level="14.1.11" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#A8-2021"><i class="fa fa-check"></i><b>14.1.11</b> A8:2021 - Napake v programski opremi in integriteti podatkov</a></li>
<li class="chapter" data-level="14.1.12" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#A9-2021"><i class="fa fa-check"></i><b>14.1.12</b> A9:2021 - Varnostno beleženje in spremljanje napak</a></li>
<li class="chapter" data-level="14.1.13" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#A10-2021"><i class="fa fa-check"></i><b>14.1.13</b> A10:2021 - Ponarejanje zahtev na strani strežnika (SSRF)</a></li>
<li class="chapter" data-level="14.1.14" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#priporočila-za-razvijalce"><i class="fa fa-check"></i><b>14.1.14</b> Priporočila za razvijalce</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#osnovni-varnostni-pregled-demo-aplikacije-z-owasp-zap"><i class="fa fa-check"></i><b>14.2</b> Osnovni varnostni pregled Demo aplikacije z OWASP ZAP</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#priprava-demo-aplikacije-v-lokalnem-okolju"><i class="fa fa-check"></i><b>14.2.1</b> Priprava Demo aplikacije v lokalnem okolju</a></li>
<li class="chapter" data-level="14.2.2" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#podpora-ssl"><i class="fa fa-check"></i><b>14.2.2</b> Podpora SSL</a></li>
<li class="chapter" data-level="14.2.3" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#zagon-aplikacije"><i class="fa fa-check"></i><b>14.2.3</b> Zagon aplikacije</a></li>
<li class="chapter" data-level="14.2.4" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#konfiguracija-orodja-owasp-zap"><i class="fa fa-check"></i><b>14.2.4</b> Konfiguracija orodja OWASP ZAP</a></li>
<li class="chapter" data-level="14.2.5" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#tezave-http-odgovori"><i class="fa fa-check"></i><b>14.2.5</b> Odprava težav s HTTP odgovori</a></li>
<li class="chapter" data-level="14.2.6" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#tezave-z-registracijo-in-prijavo"><i class="fa fa-check"></i><b>14.2.6</b> Odprava težav z registracijo in prijavo</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#osnovni-funkcionalni-testi-aplikacije-demo-s-selenium"><i class="fa fa-check"></i><b>14.3</b> Osnovni funkcionalni testi aplikacije Demo s Selenium</a></li>
<li class="chapter" data-level="14.4" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#Progresivne-spletne-aplikacije"><i class="fa fa-check"></i><b>14.4</b> Progresivne spletne aplikacije</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#uvod-3"><i class="fa fa-check"></i><b>14.4.1</b> Uvod</a></li>
<li class="chapter" data-level="14.4.2" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#Lighthouse"><i class="fa fa-check"></i><b>14.4.2</b> Pregled obstoječe aplikacije s pomočjo Lighthouse</a></li>
<li class="chapter" data-level="14.4.3" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#nadgradnja-angular"><i class="fa fa-check"></i><b>14.4.3</b> Nadgradnja Angular</a></li>
<li class="chapter" data-level="14.4.4" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#vključitev-podpore-za-pwa"><i class="fa fa-check"></i><b>14.4.4</b> Vključitev podpore za PWA</a></li>
<li class="chapter" data-level="14.4.5" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#Brskanje-brez-povezave"><i class="fa fa-check"></i><b>14.4.5</b> Brskanje brez povezave</a></li>
<li class="chapter" data-level="14.4.6" data-path="Varnost-testiranje-PWA.html"><a href="Varnost-testiranje-PWA.html#končno-testiranje"><i class="fa fa-check"></i><b>14.4.6</b> Končno testiranje</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="literatura.html"><a href="literatura.html"><i class="fa fa-check"></i>Literatura</a></li>
<li class="divider"></li>
<li><a href="https://ucilnica.fri.uni-lj.si/course/view.php?id=74">eUčilnica</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="index.html">Spletno programiranje 2023/2024</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="Node-js" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Poglavje 5</span> <span class="sklop2 oznaka">P2.2</span> Node.js, MVC in različna okolja<a href="Node-js.html#Node-js" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div class="vrstica">
<img src="assets/img/ninja/ninja_03_go_right.png">
<h3>
<span class="sklop2 oznaka">P2.2</span>
</h3>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js"></script>
<script>
  var options_dodaj = {acrossElements: true, element: "dodaj"};
  var options_izbrisi = {acrossElements: true, element: "izbrisi"};
  
  $(document).ready(function() {
    $("pre.javascript:not(.rocno)").markRegExp(/^(\s*)([\w\"\}\.\(]+)(.+?)(\);|\+\+\)|(;|\)|[\?\+]\s|:|\{|,|\]|true|false|\[|\{\}|\s\}|\(|\"|\),\s|,\s|\);|\"\})$)/m, options_dodaj);
    $("pre.javascript:not(.rocno)").markRegExp(/\s+?(\}|else|\);)/, options_dodaj);
    $("pre.html:not(.rocno)").markRegExp(/.+/, options_dodaj);
  });
</script>
<p><a href="https://unilj-my.sharepoint.com/:wb:/g/personal/dejanl_fri1_uni-lj_si/EaREMH137JhOqKhLAlUg9YgB3EMzpue2usGykCp5iNzwmg?e=avMdCq"><i class="fa-solid fa-chalkboard-user"></i>Sodelovalna <strong>tabla</strong></a>, ki jo bomo uporabljali pred in med predavanji ter je namenjena odložišču za vprašanja in komentarje. Vsi testni primeri, predstavljeni v okviru predavanja <span class="sklop2">P2.2</span>, so na voljo v GitHub repozitoriju <a href="https://github.com/sp-2023-2024/Snippets"><i class="fa-brands fa-github"></i>SP-2023-2024/<strong>Snippets</strong></a>, medtem ko je projekt spletne aplikacije <strong>Demo</strong> na voljo v GitHub repozitoriju <a href="https://github.com/sp-2023-2024/Demo"><i class="fa-brands fa-github"></i>SP-2023-2024/<strong>Demo</strong></a>.</p>
<div id="node.js" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Node.js<a href="Node-js.html#node.js" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Do sedaj smo si pogledali osnove jezika JavaScript v poglavju <a href="JavaScript.html#JavaScript">4</a> in uporabo v okolju spletnega brskalnika, kar je bilo predstavljeno v prejšnjih podpoglavjih. V nadaljevanju pa si bomo pogledali okolje <a href="https://en.wikipedia.org/wiki/Node.js"><strong><i class="fa-brands fa-wikipedia-w"></i>Node.js</strong></a>, kjer bomo lahko uporabili znanje jezika JavaScript izven konteksta spletnega brskalnika.</p>
<p>Okolje Node.js deluje na različnih platformah, in sicer Windows, macOS in Linux, ter si ga lahko prenesete in namestite iz <a href="https://nodejs.org/en/"><i class="fa-solid fa-earth-europe"></i>uradne spletne strani</a>, kjer je na voljo v obliki namestitvenega paketa.</p>
<div id="ozadje-1" class="section level3 hasAnchor" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> Ozadje<a href="Node-js.html#ozadje-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Eden najbolj zahtevnih problemov pri implementaciji aplikacij, ki komunicirajo preko omrežja, je obvladovanje vhoda in izhoda, t.j. branje in pisanje podatkov na omrežje, trdi disk in ostale naprave. Posredovanje podatkov med različnimi lokacijami traja in pametno razporejanje je zelo pomembno pri odzivnem času sistema na uporabniško zahtevo.</p>
<p>Tradicionalni način obvladovanja vhoda in izhoda je z uporabo funkcije (npr. <code>preberiDatoteko</code>), ki začne brati datoteko in vrne odgovor šele, ko je datoteka v celoti prebrana. Takšen način se imenuje <strong>sinhroni V/I</strong><a href="Node-js.html#fn122" class="footnote-ref" id="fnref122"><sup>122</sup></a>.</p>
<p>Node.js je bil prvotno razvit z namenom enostavne podpore <a href="https://en.wikipedia.org/wiki/Asynchronous_I/O"><strong><i class="fa-brands fa-wikipedia-w"></i>asinhronemu V/I</strong></a>. Takšen način komunikacije smo že srečali v kontekstu spletnega brskalnika z objektom <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest"><i class="fa-solid fa-tag"></i><code>XMLHttpRequest</code></a>, ki smo ga spoznali v poglavju <a href="JavaScript.html#posredovanje-zahteve">4.17.2</a>.</p>
<blockquote>
<p>Način izvajanja V/I operacij pri Node.js je v okviru asinhronega vmesnika, ki omogoča nadaljevanje izvajanja programa, medtem ko se opravlja druga funkcionalnost in ob zaključku programa se izvede <a href="https://developer.mozilla.org/en-US/docs/Glossary/Callback_function">povratni klic <span class="skupaj"><i class="fa-solid fa-tag"></i><strong><code>callback</code></strong></span></a>.</p>
</blockquote>
</div>
<div id="asinhronost" class="section level3 hasAnchor" number="5.1.2">
<h3><span class="header-section-number">5.1.2</span> Asinhronost<a href="Node-js.html#asinhronost" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Spletne strežnike, ki delujejo v enonitnem oz. večnitnem delovanju, smo si že ogledali v poglavju <a href="P11.html#Node-js-niti">1.3.1</a>. Sedaj pa bomo še enkrat podrobneje primerjali sinhroni in asinhroni V/I na manjšem primeru, kjer program dostopa do dveh virov na internetu in nato izvede manjše procesiranje z rezultati.</p>
<p>V sinhronem okolju je očitno, da omenjeni scenarij izpeljemo tako, da zahtevi izvedemo eno za drugo. Ta metoda ima pomanjkljivost, da se bo druga zahteva začela šele, ko bo prva končana (glej <strong>Sinhrono, ena nadzorna nit</strong> na sliki <a href="Node-js.html#fig:slika-Sinhrono-vs-asinhrono">5.1</a>). Skupni čas bo tako vsaj seštevek obeh odzivnih časov. To zagotovo ni učinkovita uporaba virov, večino časa ne izvaja operacij, ko se podatki prenašajo in sprejemajo preko omrežja.</p>
<p>Če želimo ta problem rešiti še vedno v sinhronem okolju, lahko dodamo novo nit nadzora. Obe zahtevi po omrežnih virih bi lahko izvedli istočasno, nato pa obe niti počakata na rezultate in se ponovno sinhronizirata, da združita rezultate (glej <strong>Sinhrono, dve nadzorni niti</strong> na sliki <a href="Node-js.html#fig:slika-Sinhrono-vs-asinhrono">5.1</a>).</p>
<p>Na sliki <a href="Node-js.html#fig:slika-Sinhrono-vs-asinhrono">5.1</a> je prikazan diagram, kjer debelejše črte predstavljajo čas, ko se program normalno izvaja in tanjše črte predstavljajo čas, ko program čaka na V/I. Pri sinhronem modelu dostopa, je čas, potreben za V/I, del časovnice za določeno nadzorno nit. Pri asinhronem modelu dostopa predstavlja začetek V/I zahteve konceptualno delitev na časovni premici (glej <strong>Asinhrono</strong> na sliki <a href="Node-js.html#fig:slika-Sinhrono-vs-asinhrono">5.1</a>). Nit, ki je sprožila V/I operacijo, nadaljuje sama, V/I operacija pa se zaključi s povratnim klicem <code>callback</code>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:slika-Sinhrono-vs-asinhrono"></span>
<img src="assets/img/Sinhrono_vs_asinhrono.png" alt="Primerjava sinhronega in asinhronega načina delovanja" width="300" />
<p class="caption">
Slika 5.1: Primerjava sinhronega in asinhronega načina delovanja
</p>
</div>
<p>Drug način prikaza razlike je čakanje na zaključek V/I operacije, ki je pri sinhronem modelu implicitno, medtem ko je pri asinhronem modelu eksplicitno. Posledice asinhronosti so tako pozitivne kot negativne. Implementacija programov, ki ne ustrezajo enostavnemu modelu nadzora, je bolj enostavno, vendar pa po drugi strani programi, ki imajo enostaven model nadzora, izgledajo nenavadno, zaradi implementacije z asinhronim pristopom.</p>
<p>Že v prejšnjih poglavjih <a href="JavaScript.html#abstrakcija-zahtev">4.17.4</a> in <a href="JavaScript.html#promises">4.17.5</a> smo ugotovili, da vsi povratni klici <code>callback</code> dodajajo predvsem odvečno kodo in težje sledenje izvajanju. Še vedno je na mestu vprašanje ali je asinhronost v splošnem dober način razvoja aplikacij - v vsakem primeru zahteva nekaj časa, da se na takšen način razvoja navadimo.</p>
<p>V kontekstu JavaScript sistemov je uporaba povratnih klicev <code>callback</code> za dosego asinhronosti zagotovo smiselna rešitev. Ena izmed prednosti jezika JavaScript je njegova enostavnost, kjer bi z vpeljavo več nadzornih niti zagotovo povečali kompleksnost. Čeprav uporaba povratnih klicev <code>callback</code> ne prinaša enostavne kode v konceptualnem smislu, je pa takšen pristop zagotovo dovolj enostaven in hkrati funkcionalno močan za razvoj visoko zmogljivih spletnih strežnikov.</p>
</div>
<div id="ukaz-node" class="section level3 hasAnchor" number="5.1.3">
<h3><span class="header-section-number">5.1.3</span> Ukaz <code>node</code><a href="Node-js.html#ukaz-node" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Ko je na sistemu nameščeno okolje Node.js, lahko izvajanje določenega programa zahtevamo z ukazom <code>node</code>. Recimo, da imamo testni program, ki je prikazan spodaj.</p>
<p><code>lep_pozdrav.js</code></p>
<div class="sourceCode" id="cb321"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb321-1"><a href="Node-js.html#cb321-1" tabindex="-1"></a><span class="kw">let</span> sporocilo <span class="op">=</span> <span class="st">&quot;Lep pozdrav&quot;</span><span class="op">;</span></span>
<span id="cb321-2"><a href="Node-js.html#cb321-2" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(sporocilo)<span class="op">;</span></span></code></pre></div>
<p>Iz ukazne vrstice lahko program nato poženemo z ukazom <code>node</code> in ime datoteke, v kateri je shranjena JavaScript koda.</p>
<p><code>Konzola</code></p>
<div class="sourceCode" id="cb322"><pre class="sourceCode bash rocnoLepPozdrav"><code class="sourceCode bash"><span id="cb322-1"><a href="Node-js.html#cb322-1" tabindex="-1"></a><span class="ex">$</span> node lep_pozdrav.js</span>
<span id="cb322-2"><a href="Node-js.html#cb322-2" tabindex="-1"></a><span class="ex">Lep</span> pozdrav</span></code></pre></div>
<script>
  $(document).ready(function() {
    $(".rocnoLepPozdrav").markRegExp(/node.+/, options_dodaj);
  });
</script>
<p>Metoda <a href="https://nodejs.org/api/console.html#consolelogdata-args"><i class="fa-brands fa-node-js"></i><code>console.log</code></a> v Node.js je podobna funkcionalnosti v spletnem brskalniku in izpiše besedilo. V Node.js se besedilo izpiše na standardni izhod izvajalnega procesa, v nasprotju z JavaScript konzolo spletnega brskalnika.</p>
<p>Če poženemo <code>node</code> brez dodatnega parametra datoteke z izvorno kodo, pridobimo pozivnik, kjer lahko pišemo JavaScript kodo in takoj dobimo rezultat izvajanja.</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode bash rocnoKonzolaNode"><code class="sourceCode bash"><span id="cb323-1"><a href="Node-js.html#cb323-1" tabindex="-1"></a><span class="ex">$</span> node</span>
<span id="cb323-2"><a href="Node-js.html#cb323-2" tabindex="-1"></a><span class="op">&gt;</span> 1 <span class="ex">+</span> 1</span>
<span id="cb323-3"><a href="Node-js.html#cb323-3" tabindex="-1"></a><span class="ex">2</span></span>
<span id="cb323-4"><a href="Node-js.html#cb323-4" tabindex="-1"></a><span class="op">&gt;</span> <span class="ex">[-1,</span> <span class="at">-2,</span> <span class="at">-3].map</span><span class="er">(</span><span class="ex">Math.abs</span><span class="kw">)</span></span>
<span id="cb323-5"><a href="Node-js.html#cb323-5" tabindex="-1"></a><span class="ex">[1,</span> 2, 3]</span>
<span id="cb323-6"><a href="Node-js.html#cb323-6" tabindex="-1"></a><span class="op">&gt;</span> process.exit<span class="kw">(</span><span class="ex">0</span><span class="kw">)</span></span>
<span id="cb323-7"><a href="Node-js.html#cb323-7" tabindex="-1"></a><span class="ex">$</span></span></code></pre></div>
<script>
  $(document).ready(function() {
    $(".rocnoKonzolaNode").markRegExp(/node|process.+/, options_dodaj);
    $(".rocnoKonzolaNode").markRegExp(/1 \+ 1/, options_dodaj);
    $(".rocnoKonzolaNode").markRegExp(/\[-1, -2, -3\].+/, options_dodaj);
  });
</script>
<p>Podobno kot spremenljivka <a href="https://nodejs.org/api/console.html"><i class="fa-brands fa-node-js"></i><code>console</code></a>, je na voljo tudi spremenljivka <a href="https://nodejs.org/api/process.html"><i class="fa-brands fa-node-js"></i><code>process</code></a>, ki je v okolju Node.js na voljo globalno. Omogoča različne načine interakcije s trenutnim procesom. Metoda <a href="https://nodejs.org/api/process.html#processexitcode"><i class="fa-brands fa-node-js"></i><code>exit</code></a> poskrbi za izhod iz procesa, v parametru pa lahko podamo tudi status izhoda. Status se vrne programu, ki je zagnal <code>node</code> (v našem primeru je to ukazna lupina) in sicer <span class="math inline">\(0\)</span>, če je bil konec uspešen oz. katerokoli drugo število, če je prišlo do napake.</p>
<p>Če želimo pridobiti argumente ukazne vrstice, s katerimi smo pognali program, lahko dostopamo do <a href="https://nodejs.org/api/process.html#processargv"><i class="fa-brands fa-node-js"></i><code>process.argv</code></a>.</p>
<p><code>pokazi_argumente.js</code></p>
<div class="sourceCode" id="cb324"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb324-1"><a href="Node-js.html#cb324-1" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="bu">process</span><span class="op">.</span><span class="at">argv</span>)<span class="op">;</span></span></code></pre></div>
<p><code>Konzola</code></p>
<div class="sourceCode" id="cb325"><pre class="sourceCode bash rocnoPokaziArgumente"><code class="sourceCode bash"><span id="cb325-1"><a href="Node-js.html#cb325-1" tabindex="-1"></a><span class="ex">$</span> node pokazi_argumente.js prvi <span class="at">--in</span> drugi</span>
<span id="cb325-2"><a href="Node-js.html#cb325-2" tabindex="-1"></a><span class="bu">[</span> <span class="st">&#39;node&#39;</span>, <span class="st">&#39;pokazi_argumente.js&#39;</span>, <span class="st">&#39;prvi&#39;</span>, <span class="er">&#39;--in&#39;,</span> <span class="st">&#39;drugi&#39;</span> ]</span></code></pre></div>
<script>
  $(document).ready(function() {
    $(".rocnoPokaziArgumente").markRegExp(/node .+/, options_dodaj);
  });
</script>
<p>V Node.js okolju imamo na voljo vse standardne JavaScript globalne spremenljivke, kot so <code>Array</code>, <code>Math</code> in <code>JSON</code>. Funkcionalnosti, povezane s spletnim brskalnikom, kot sta npr. <code>document</code> in <code>alert</code>, pa niso prisotne.</p>
<p>Objekt globalnega konteksta, ki se v izvajalnem okolju spletnega brskalnika imenuje <code>window</code>, ga v Node.js okolju najdemo pod imenom <a href="https://nodejs.org/api/globals.html#global"><i class="fa-brands fa-node-js"></i><code>global</code></a>.</p>
</div>
<div id="moduli-1" class="section level3 hasAnchor" number="5.1.4">
<h3><span class="header-section-number">5.1.4</span> Moduli<a href="Node-js.html#moduli-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Poleg nekaj spremenljivk, omenjenih v predhodnem poglavju, je v globalnem kontekstu Node.js na voljo malo funkcionalnosti. Če želimo dostopati do vgrajenih funkcionalnosti, moramo za to zahtevati sistemski modul.</p>
<p>Sistem modulov temelji na funkciji <a href="https://nodejs.org/api/modules.html"><i class="fa-brands fa-node-js"></i><code>require</code></a>, ki je vgrajena v Node.js in se uporablja za nalaganje vseh dodatnih modulov in knjižnic, ki so del programa v Node.js.</p>
<p>Pri klicu funkcije <code>require</code> mora Node.js najprej na podlagi podanega niza poti določi dejansko datoteko, ki jo je potrebno naložiti. Pot do datoteke se lahko začne za različnimi predponami:</p>
<ul>
<li><code>/</code> predstavlja korensko mapo datotečnega sistema,</li>
<li><code>./</code> predstavlja trenutno mapo in</li>
<li><code>../</code> predstavlja relativno lokacijo do trenutne poti modula.</li>
</ul>
<p>Če npr. zahtevamo <code>./pomoc/pomoc</code> v datoteki <code>/home/dejan/pozeni.js</code>, bo Node.js poskušal naložiti datoteko <code>/home/dejan/pomoc/pomoc.js</code>. Opazimo, da lahko končnico <code>.js</code> izpustimo. Ko pot do datoteke ni v obliki relativne poti, Node.js predvideva da gre za vgrajeni modul ali modul, nameščen v mapi <a href="https://nodejs.org/api/modules.html#loading-from-node_modules-folders"><i class="fa-brands fa-node-js"></i><code>node_modules</code></a>. Če npr. zahtevamo <code>require("fs")</code> bomo naložili vgrajeni modul za dostop do datotečnega sistema, v primeru <code>require("dejan")</code> pa bo Node.js poskušal naložiti knjižnico, ki se nahaja v mapi <code>node_modules/dejan/</code>.</p>
<p>Za demonstracijo uporabe funkcije <code>require</code> si zamislimo enostaven primer z dvema JavaScript datotekama. Osnovna datoteka s programom se nahaja v datoteki <code>uporabi_modul.js</code>, ki uporabi metodo <code>popaci</code>, implementirano v datoteki <code>popaci.js</code>.</p>
<p><code>popaci.js</code></p>
<div class="sourceCode" id="cb326"><pre class="sourceCode javascript popaciSource"><code class="sourceCode javascript"><span id="cb326-1"><a href="Node-js.html#cb326-1" tabindex="-1"></a>module<span class="op">.</span><span class="at">exports</span> <span class="op">=</span> <span class="kw">function</span> (niz) {</span>
<span id="cb326-2"><a href="Node-js.html#cb326-2" tabindex="-1"></a>  <span class="cf">return</span> niz</span>
<span id="cb326-3"><a href="Node-js.html#cb326-3" tabindex="-1"></a>    <span class="op">.</span><span class="fu">split</span>(<span class="st">&quot;&quot;</span>)</span>
<span id="cb326-4"><a href="Node-js.html#cb326-4" tabindex="-1"></a>    <span class="op">.</span><span class="fu">map</span>(<span class="kw">function</span> (znak) {</span>
<span id="cb326-5"><a href="Node-js.html#cb326-5" tabindex="-1"></a>      <span class="cf">return</span> <span class="bu">String</span><span class="op">.</span><span class="fu">fromCharCode</span>(znak<span class="op">.</span><span class="fu">charCodeAt</span>(<span class="dv">0</span>) <span class="op">+</span> <span class="dv">5</span>)<span class="op">;</span></span>
<span id="cb326-6"><a href="Node-js.html#cb326-6" tabindex="-1"></a>    })</span>
<span id="cb326-7"><a href="Node-js.html#cb326-7" tabindex="-1"></a>    <span class="op">.</span><span class="fu">join</span>(<span class="st">&quot;&quot;</span>)<span class="op">;</span></span>
<span id="cb326-8"><a href="Node-js.html#cb326-8" tabindex="-1"></a>}<span class="op">;</span></span></code></pre></div>
<script>
  $(document).ready(function() {
    $(".popaciSource").markRegExp(/.+/, options_dodaj);
  });
</script>
<p><code>uporabi_modul.js</code></p>
<div class="sourceCode" id="cb327"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb327-1"><a href="Node-js.html#cb327-1" tabindex="-1"></a><span class="kw">const</span> popaci <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;./popaci&quot;</span>)<span class="op">;</span></span>
<span id="cb327-2"><a href="Node-js.html#cb327-2" tabindex="-1"></a><span class="co">// v 2. indeksu je dejanski argument, ki ga potrebujemo</span></span>
<span id="cb327-3"><a href="Node-js.html#cb327-3" tabindex="-1"></a><span class="kw">let</span> argument <span class="op">=</span> <span class="bu">process</span><span class="op">.</span><span class="at">argv</span>[<span class="dv">2</span>]<span class="op">;</span></span>
<span id="cb327-4"><a href="Node-js.html#cb327-4" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">popaci</span>(argument))<span class="op">;</span></span></code></pre></div>
<p><code>Konzola</code></p>
<div class="sourceCode" id="cb328"><pre class="sourceCode bash rocnoUporabiModul"><code class="sourceCode bash"><span id="cb328-1"><a href="Node-js.html#cb328-1" tabindex="-1"></a><span class="ex">$</span> node uporabi_modul.js JavaScript</span>
<span id="cb328-2"><a href="Node-js.html#cb328-2" tabindex="-1"></a><span class="ex">Of{fXhwnuy</span></span></code></pre></div>
<script>
  $(document).ready(function() {
    $(".rocnoUporabiModul").markRegExp(/node .+/, options_dodaj);
  });
</script>
</div>
<div id="nameščanje-z-npm" class="section level3 hasAnchor" number="5.1.5">
<h3><span class="header-section-number">5.1.5</span> Nameščanje z <code>npm</code><a href="Node-js.html#nameščanje-z-npm" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="https://www.npmjs.com/"><i class="fa-brands fa-node-js"></i><strong>Npm</strong></a> je spletni repozitorij JavaScript modulov, kjer jih je večina razvitih specifično za okolje Node.js. Ob namestitvi Node.js okolja na računalnik je rezultat namestitve tudi program <code>npm</code>, ki je priročen vmesnik za dostopanje do tega repozitorija.</p>
<p>Npr. eden izmed modulov na npm je <a href="https://www.npmjs.com/package/figlet"><i class="fa-brands fa-node-js"></i><code>figlet</code></a>, ki pretvori besedilo v ASCII umetnino. Najprej je potrebno namestiti zahtevano knjižnico, nato pa poženemo program, kjer zahtevamo uporabe te knjižnice.</p>
<p><code>Konzola</code></p>
<div class="sourceCode" id="cb329"><pre class="sourceCode bash rocnoNpmInstallFiglet"><code class="sourceCode bash"><span id="cb329-1"><a href="Node-js.html#cb329-1" tabindex="-1"></a><span class="ex">$</span> npm install figlet</span>
<span id="cb329-2"><a href="Node-js.html#cb329-2" tabindex="-1"></a><span class="ex">+</span> figlet@1.5.2</span>
<span id="cb329-3"><a href="Node-js.html#cb329-3" tabindex="-1"></a><span class="ex">added</span> 1 package from 1 contributor and audited 1 package in 0.996s</span></code></pre></div>
<script>
  $(document).ready(function() {
    $(".rocnoNpmInstallFiglet").markRegExp(/npm install figlet/, options_dodaj);
  });
</script>
<p>Po zagonu ukaza <a href="https://docs.npmjs.com/cli/v6/commands/npm-install"><i class="fa-brands fa-node-js"></i><code>npm install</code></a> <code>figlet</code> se v mapi <code>node_modules</code> kreira nova podmapa <code>figlet</code>, kjer se nahaja omenjena knjižnica. Pri zahtevi po modulu z <code>require("figlet")</code> se naloži ta knjižnica in s klicem metode <code>text</code> se izvede pretvorba in izpiše na standardni izhod.</p>
<p><code>figlet.js</code></p>
<div class="sourceCode" id="cb330"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb330-1"><a href="Node-js.html#cb330-1" tabindex="-1"></a><span class="kw">const</span> figlet <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;figlet&quot;</span>)<span class="op">;</span></span>
<span id="cb330-2"><a href="Node-js.html#cb330-2" tabindex="-1"></a>figlet<span class="op">.</span><span class="fu">text</span>(<span class="st">&quot;Spletno programiranje&quot;</span><span class="op">,</span> (napaka<span class="op">,</span> podatki) <span class="kw">=&gt;</span> {</span>
<span id="cb330-3"><a href="Node-js.html#cb330-3" tabindex="-1"></a>  <span class="cf">if</span> (napaka) {</span>
<span id="cb330-4"><a href="Node-js.html#cb330-4" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(napaka)<span class="op">;</span></span>
<span id="cb330-5"><a href="Node-js.html#cb330-5" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb330-6"><a href="Node-js.html#cb330-6" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(podatki)<span class="op">;</span></span>
<span id="cb330-7"><a href="Node-js.html#cb330-7" tabindex="-1"></a>  }</span>
<span id="cb330-8"><a href="Node-js.html#cb330-8" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>Mogoče nekoliko nenavadno funkcija <code>text</code>, namesto da bi vrnila rezultat, svoj odgovor vrača v 2. funkciji (<code>podatki</code>), ki je povratni klic <code>callback</code>, poleg tega pa vrača tudi 1. funkcijo (<code>napaka</code>), ki je tudi povratni klic <code>callback</code>. To je pogost načrtovalski vzorec v Node.js kodi, kjer se rezultat obdelave vrača asinhrono.</p>
<p><code>Konzola</code></p>
<div class="sourceCode" id="cb331"><pre class="sourceCode bash rocnoFigletSP"><code class="sourceCode bash"><span id="cb331-1"><a href="Node-js.html#cb331-1" tabindex="-1"></a><span class="ex">$</span> node figlet.js</span>
<span id="cb331-2"><a href="Node-js.html#cb331-2" tabindex="-1"></a>  <span class="ex">____</span>        _      _                                                           _                  _      </span>
<span id="cb331-3"><a href="Node-js.html#cb331-3" tabindex="-1"></a> <span class="ex">/</span> ___<span class="kw">|</span> <span class="ex">_</span> __ <span class="kw">|</span> <span class="kw">|</span> <span class="ex">___</span><span class="kw">|</span> <span class="kw">|</span><span class="ex">_</span> _ __   ___    _ __  _ __ ___   __ _ _ __ __ _ _ __ ___ <span class="er">(</span><span class="ex">_</span><span class="kw">)</span><span class="ex">_</span> __ __ _ _ __  <span class="er">(</span><span class="ex">_</span><span class="kw">)</span> <span class="ex">___</span> </span>
<span id="cb331-4"><a href="Node-js.html#cb331-4" tabindex="-1"></a> <span class="ex">\___</span> <span class="dt">\|</span> <span class="st">&#39;_ \| |/ _ \ __| &#39;</span>_ <span class="dt">\ </span>/ _ <span class="dt">\ </span> <span class="kw">|</span> <span class="st">&#39;_ \| &#39;</span><span class="ex">__/</span> _ <span class="dt">\ </span>/ _<span class="kw">`</span> <span class="kw">|</span> <span class="st">&#39;__/ _` | &#39;</span><span class="ex">_</span> <span class="kw">`</span> _ <span class="dt">\|</span> <span class="kw">|</span> <span class="st">&#39;__/ _` | &#39;</span><span class="ex">_</span> <span class="dt">\ </span><span class="kw">|</span> <span class="kw">|</span><span class="ex">/</span> _ <span class="dt">\</span></span>
<span id="cb331-5"><a href="Node-js.html#cb331-5" tabindex="-1"></a>  ___<span class="er">)</span> <span class="kw">|</span> <span class="kw">|</span><span class="ex">_</span><span class="er">)</span> <span class="kw">|</span> <span class="kw">|</span>  <span class="ex">__/</span> <span class="kw">|</span><span class="ex">_</span><span class="kw">|</span> <span class="kw">|</span> <span class="kw">|</span> <span class="kw">|</span> <span class="kw">(</span><span class="ex">_</span><span class="kw">)</span> <span class="kw">|</span> <span class="kw">|</span> <span class="kw">|</span><span class="ex">_</span><span class="er">)</span> <span class="kw">|</span> <span class="kw">|</span> <span class="kw">|</span> <span class="kw">(</span><span class="ex">_</span><span class="kw">)</span> <span class="kw">|</span> <span class="kw">(</span><span class="ex">_</span><span class="kw">|</span> <span class="kw">|</span> <span class="kw">|</span> <span class="kw">|</span> <span class="kw">(</span><span class="ex">_</span><span class="kw">|</span> <span class="kw">|</span> <span class="kw">|</span> <span class="kw">|</span> <span class="kw">|</span> <span class="kw">|</span> <span class="kw">|</span> <span class="kw">|</span> <span class="kw">|</span> <span class="kw">|</span> <span class="kw">(</span><span class="ex">_</span><span class="kw">|</span> <span class="kw">|</span> <span class="kw">|</span> <span class="kw">|</span> <span class="kw">||</span> <span class="kw">|</span>  <span class="ex">__/</span></span>
<span id="cb331-6"><a href="Node-js.html#cb331-6" tabindex="-1"></a> <span class="kw">|</span><span class="ex">____/</span><span class="kw">|</span> <span class="ex">.__/</span><span class="kw">|</span><span class="ex">_</span><span class="kw">|</span><span class="ex">\___</span><span class="kw">|</span><span class="ex">\__</span><span class="kw">|</span><span class="ex">_</span><span class="kw">|</span> <span class="kw">|</span><span class="ex">_</span><span class="kw">|</span><span class="ex">\___/</span>  <span class="kw">|</span> <span class="ex">.__/</span><span class="kw">|</span><span class="ex">_</span><span class="kw">|</span>  <span class="ex">\___/</span> <span class="dt">\_</span>_, <span class="kw">|</span><span class="ex">_</span><span class="kw">|</span>  <span class="ex">\__,_</span><span class="kw">|</span><span class="ex">_</span><span class="kw">|</span> <span class="kw">|</span><span class="ex">_</span><span class="kw">|</span> <span class="kw">|</span><span class="ex">_</span><span class="kw">|</span><span class="ex">_</span><span class="kw">|</span><span class="ex">_</span><span class="kw">|</span>  <span class="ex">\__,_</span><span class="kw">|</span><span class="ex">_</span><span class="kw">|</span> <span class="kw">|</span><span class="ex">_</span><span class="kw">|</span><span class="ex">/</span> <span class="kw">|</span><span class="ex">\___</span><span class="kw">|</span></span>
<span id="cb331-7"><a href="Node-js.html#cb331-7" tabindex="-1"></a>       <span class="kw">|</span><span class="ex">_</span><span class="kw">|</span>                            <span class="kw">|</span><span class="ex">_</span><span class="kw">|</span>              <span class="kw">|</span><span class="ex">___/</span>                                     <span class="kw">|</span><span class="ex">__/</span>      </span></code></pre></div>
<script>
  $(document).ready(function() {
    $(".rocnoFigletSP").markRegExp(/node figlet\.js/, options_dodaj);
  });
</script>
<p>Npm ponuja še veliko več funkcionalnosti kot zgolj ukaz <code>npm install</code>. Po navadi dostopa do datoteke <a href="https://docs.npmjs.com/cli/v8/configuring-npm/package-json"><span class="skupaj"><i class="fa-brands fa-node-js"></i><code>package.json</code></span></a>, ki vsebuje številne dodatne informacije o programu ali knjižnici, npr. medsebojne odvisnosti ipd.</p>
</div>
<div id="modul-za-dostop-do-datotečnega-sistema" class="section level3 hasAnchor" number="5.1.6">
<h3><span class="header-section-number">5.1.6</span> Modul za dostop do datotečnega sistema<a href="Node-js.html#modul-za-dostop-do-datotečnega-sistema" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Eden najbolj pogosto uporabljanih Node.js modulov, ki je že na voljo v privzeti namestiti Node.js okolja, je modul <a href="https://nodejs.org/api/fs.html"><span class="skupaj"><i class="fa-brands fa-node-js"></i><code>fs</code></span></a>, ki pomeni <code>filesystem</code>. V modulu najdemo funkcije za delo z datotekami in mapami. V naslednjem primeru je prikazan dostop do datoteke, kjer v povratnem klicu dobimo <strong>vsebino datoteke v obliki niza</strong>. V prvem argumentu klica funkcije je pot do datoteke, drugi argument je nabor znakov (najbolj pogost je <code>utf-8</code>) za dekodiranje vsebine datoteke v obliki niza.</p>
<p><code>datotecni_sistem_besedilo.js</code></p>
<div class="sourceCode" id="cb332"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb332-1"><a href="Node-js.html#cb332-1" tabindex="-1"></a><span class="kw">const</span> fs <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;fs&quot;</span>)<span class="op">;</span></span>
<span id="cb332-2"><a href="Node-js.html#cb332-2" tabindex="-1"></a>fs<span class="op">.</span><span class="fu">readFile</span>(<span class="st">&quot;datoteka.txt&quot;</span><span class="op">,</span> <span class="st">&quot;utf8&quot;</span><span class="op">,</span> <span class="kw">function</span>(napaka<span class="op">,</span> vsebina) {</span>
<span id="cb332-3"><a href="Node-js.html#cb332-3" tabindex="-1"></a>  <span class="cf">if</span> (napaka)</span>
<span id="cb332-4"><a href="Node-js.html#cb332-4" tabindex="-1"></a>    <span class="cf">throw</span> napaka<span class="op">;</span></span>
<span id="cb332-5"><a href="Node-js.html#cb332-5" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&quot;Datoteka vsebuje:&quot;</span><span class="op">,</span> vsebina)<span class="op">;</span></span>
<span id="cb332-6"><a href="Node-js.html#cb332-6" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p><code>datoteka.txt</code></p>
<pre class="text"><code>Maroko je obmorska država v severozahodni Afriki. Na severu meji na Sredozemsko morje in Gibraltarsko ožino, na zahodu na Atlantski ocean, na vzhodu na Alžirijo, s katero ima zaprto mejo, ter na jugozahodu na Zahodno Saharo, katere del sta okupirala skupaj z Mavretanijo, tako da ima prek zasedbenega območja dostop tudi do Mavretanije.</code></pre>
<p><code>Konzola</code></p>
<div class="sourceCode" id="cb334"><pre class="sourceCode bash rocnoDatotecniSistemBesedilo"><code class="sourceCode bash"><span id="cb334-1"><a href="Node-js.html#cb334-1" tabindex="-1"></a><span class="ex">$</span> node datotecni_sistem_besedilo.js</span>
<span id="cb334-2"><a href="Node-js.html#cb334-2" tabindex="-1"></a><span class="ex">Datoteka</span> vsebuje: Maroko je obmorska država v severozahodni Afriki. Na severu meji na Sredozemsko morje in Gibraltarsko ožino, na zahodu na Atlantski ocean, na vzhodu na Alžirijo, s katero ima zaprto mejo, ter na jugozahodu na Zahodno Saharo, katere del sta okupirala skupaj z Mavretanijo, tako da ima prek zasedbenega območja dostop tudi do Mavretanije.</span></code></pre></div>
<script>
  $(document).ready(function() {
    $(".rocnoDatotecniSistemBesedilo").markRegExp(/node.+/, options_dodaj);
  });
</script>
<p>Če pri klicu metode <a href="https://nodejs.org/api/fs.html#fsreadfilepath-options-callback"><i class="fa-brands fa-node-js"></i><code>readFile</code></a> izpustimo drugi parameter, kjer nastavimo nabor znakov, bo <strong>metoda vrnila binarne podatke</strong>, saj kot rezultat namesto niza, dobimo objekt <code>Buffer</code> (vsebuje števila, ki predstavljajo bajte v datoteki). V našem primeru izpišemo prvi bajt (glej izpis v konzoli), kjer dobimo število <span class="math inline">\(77\)</span>, kar je ASCII koda za črko <strong>M</strong> (prva črka v datoteki <code>datoteka.txt</code>).</p>
<p><code>datotecni_sistem_binarno.js</code></p>
<div class="sourceCode" id="cb335"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb335-1"><a href="Node-js.html#cb335-1" tabindex="-1"></a><span class="kw">const</span> fs <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;fs&quot;</span>)<span class="op">;</span></span>
<span id="cb335-2"><a href="Node-js.html#cb335-2" tabindex="-1"></a>fs<span class="op">.</span><span class="fu">readFile</span>(<span class="st">&quot;data/datoteka.txt&quot;</span><span class="op">,</span> (napaka<span class="op">,</span> medpomnilnik) <span class="kw">=&gt;</span> {</span>
<span id="cb335-3"><a href="Node-js.html#cb335-3" tabindex="-1"></a>  <span class="cf">if</span> (napaka) {</span>
<span id="cb335-4"><a href="Node-js.html#cb335-4" tabindex="-1"></a>    <span class="cf">throw</span> napaka<span class="op">;</span></span>
<span id="cb335-5"><a href="Node-js.html#cb335-5" tabindex="-1"></a>  }</span>
<span id="cb335-6"><a href="Node-js.html#cb335-6" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(</span>
<span id="cb335-7"><a href="Node-js.html#cb335-7" tabindex="-1"></a>    <span class="st">&quot;Datoteka vsebuje &quot;</span> <span class="op">+</span></span>
<span id="cb335-8"><a href="Node-js.html#cb335-8" tabindex="-1"></a>      medpomnilnik<span class="op">.</span><span class="at">length</span> <span class="op">+</span></span>
<span id="cb335-9"><a href="Node-js.html#cb335-9" tabindex="-1"></a>      <span class="st">&quot; bajtov. &quot;</span> <span class="op">+</span></span>
<span id="cb335-10"><a href="Node-js.html#cb335-10" tabindex="-1"></a>      <span class="st">&quot;Prvi bajt je &quot;</span> <span class="op">+</span></span>
<span id="cb335-11"><a href="Node-js.html#cb335-11" tabindex="-1"></a>      medpomnilnik[<span class="dv">0</span>] <span class="op">+</span></span>
<span id="cb335-12"><a href="Node-js.html#cb335-12" tabindex="-1"></a>      <span class="st">&quot;.&quot;</span></span>
<span id="cb335-13"><a href="Node-js.html#cb335-13" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb335-14"><a href="Node-js.html#cb335-14" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p><code>Konzola</code></p>
<div class="sourceCode" id="cb336"><pre class="sourceCode bash rocnoDatotecniSistemBinarno"><code class="sourceCode bash"><span id="cb336-1"><a href="Node-js.html#cb336-1" tabindex="-1"></a><span class="ex">$</span> node datotecni_sistem_binarno.js</span>
<span id="cb336-2"><a href="Node-js.html#cb336-2" tabindex="-1"></a><span class="ex">Datoteka</span> vsebuje 341 bajtov. Prvi bajt je: 77.</span></code></pre></div>
<script>
  $(document).ready(function() {
    $(".rocnoDatotecniSistemBinarno").markRegExp(/node.+/, options_dodaj);
  });
</script>
<p>Podobno obstaja tudi metoda <a href="https://nodejs.org/api/fs.html#fswritefilefile-data-options-callback"><i class="fa-brands fa-node-js"></i><code>writeFile</code></a> za <strong>pisanje v datoteko</strong>, kot to prikazuje naslednji primer.</p>
<p><code>datotecni_sistem_pisanje.js</code></p>
<div class="sourceCode" id="cb337"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb337-1"><a href="Node-js.html#cb337-1" tabindex="-1"></a><span class="kw">const</span> fs <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;fs&quot;</span>)<span class="op">;</span></span>
<span id="cb337-2"><a href="Node-js.html#cb337-2" tabindex="-1"></a>fs<span class="op">.</span><span class="fu">writeFile</span>(</span>
<span id="cb337-3"><a href="Node-js.html#cb337-3" tabindex="-1"></a>  <span class="st">&quot;data/grafiti.txt&quot;</span><span class="op">,</span></span>
<span id="cb337-4"><a href="Node-js.html#cb337-4" tabindex="-1"></a>  <span class="st">&quot;Spletno programiranje in action.&quot;</span><span class="op">,</span></span>
<span id="cb337-5"><a href="Node-js.html#cb337-5" tabindex="-1"></a>  (napaka) <span class="kw">=&gt;</span> {</span>
<span id="cb337-6"><a href="Node-js.html#cb337-6" tabindex="-1"></a>    <span class="cf">if</span> (napaka) {</span>
<span id="cb337-7"><a href="Node-js.html#cb337-7" tabindex="-1"></a>      <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&quot;Napaka pri pisanju v datoteko: &quot;</span> <span class="op">+</span> napaka)<span class="op">;</span></span>
<span id="cb337-8"><a href="Node-js.html#cb337-8" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb337-9"><a href="Node-js.html#cb337-9" tabindex="-1"></a>      <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&quot;Pisanje v datoteko je uspešno končano.&quot;</span>)<span class="op">;</span></span>
<span id="cb337-10"><a href="Node-js.html#cb337-10" tabindex="-1"></a>    }</span>
<span id="cb337-11"><a href="Node-js.html#cb337-11" tabindex="-1"></a>  }</span>
<span id="cb337-12"><a href="Node-js.html#cb337-12" tabindex="-1"></a>)<span class="op">;</span></span></code></pre></div>
<p><code>Konzola</code></p>
<div class="sourceCode" id="cb338"><pre class="sourceCode bash rocnoDatotecniSistemPisanje"><code class="sourceCode bash"><span id="cb338-1"><a href="Node-js.html#cb338-1" tabindex="-1"></a><span class="ex">$</span> node datotecni_sistem_pisanje.js </span>
<span id="cb338-2"><a href="Node-js.html#cb338-2" tabindex="-1"></a><span class="ex">Pisanje</span> v datoteko je uspešno končano.</span></code></pre></div>
<script>
  $(document).ready(function() {
    $(".rocnoDatotecniSistemPisanje").markRegExp(/node.+/, options_dodaj);
  });
</script>
<p>Modul <code>fs</code> vsebuje še številne druge koristne funkcije: <a href="https://nodejs.org/api/fs.html#fs_fs_readdir_path_options_callback"><i class="fa-brands fa-node-js"></i><code>readdir</code></a> vrne datoteke v mapi, <a href="https://nodejs.org/api/fs.html#fs_fs_stat_path_callback"><i class="fa-brands fa-node-js"></i><code>stat</code></a> vrne podatke o datoteki, <a href="https://nodejs.org/api/fs.html#fs_fs_rename_oldpath_newpath_callback"><i class="fa-brands fa-node-js"></i><code>rename</code></a> preimenuje datoteko, <a href="https://nodejs.org/api/fs.html#fs_fs_unlink_path_callback"><i class="fa-brands fa-node-js"></i><code>unlink</code></a> odstrani datoteko itd. Celotno dokumentacijo z opisom vseh funkcij, ki so na voljo, lahko najdete na uradni strani <a href="https://nodejs.org/api/fs.html"><i class="fa-solid fa-earth-europe"></i>Node.js</a>.</p>
<p>Številne funkcije v modulu <code>fs</code> so na voljo v sinhroni in asinhroni različici. Kot primer je v nadaljevanju predstavljeno sinhrono branje datoteke.</p>
<p><code>datotecni_sistem_besedilo_sinhrono.js</code></p>
<div class="sourceCode" id="cb339"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb339-1"><a href="Node-js.html#cb339-1" tabindex="-1"></a><span class="kw">const</span> fs <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;fs&quot;</span>)<span class="op">;</span></span>
<span id="cb339-2"><a href="Node-js.html#cb339-2" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(fs<span class="op">.</span><span class="fu">readFileSync</span>(<span class="st">&quot;data/datoteka.txt&quot;</span><span class="op">,</span> <span class="st">&quot;utf8&quot;</span>))<span class="op">;</span></span></code></pre></div>
<p><code>Konzola</code></p>
<div class="sourceCode" id="cb340"><pre class="sourceCode bash rocnoDatotecniSistemBesediloSinhrono"><code class="sourceCode bash"><span id="cb340-1"><a href="Node-js.html#cb340-1" tabindex="-1"></a><span class="ex">$</span> node datotecni_sistem_besedilo_sinhrono.js </span>
<span id="cb340-2"><a href="Node-js.html#cb340-2" tabindex="-1"></a><span class="ex">Maroko</span> je obmorska država v severozahodni Afriki. Na severu meji na Sredozemsko morje in Gibraltarsko ožino, na zahodu na Atlantski ocean, na vzhodu na Alžirijo, s katero ima zaprto mejo, ter na jugozahodu na Zahodno Saharo, katere del sta okupirala skupaj z Mavretanijo, tako da ima prek zasedbenega območja dostop tudi do Mavretanije.</span></code></pre></div>
<script>
  $(document).ready(function() {
    $(".rocnoDatotecniSistemBesediloSinhrono").markRegExp(/node.+/, options_dodaj);
  });
</script>
<p>Uporaba sinhronih funkcij je sicer res bolj enostavna in se izkaže kot koristna v manjših skriptah, kjer hitrejše izvajanje asinhronega V/I ni tako pomembno. Vendar se je potrebno zavedati, da se pri sinhronih operacijah izvajanje programa popolnoma ustavi. Če mora program odgovarjati na uporabniške zahteve preko omrežja, potem bo sinhron V/I močno poslabšal uporabniško izkušnjo.</p>
</div>
<div id="modul-http" class="section level3 hasAnchor" number="5.1.7">
<h3><span class="header-section-number">5.1.7</span> Modul <code>http</code><a href="Node-js.html#modul-http" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Še en osrednji modul se imenuje <a href="https://nodejs.org/api/http.html"><i class="fa-brands fa-node-js"></i><code>http</code></a> in vsebuje funkcionalnosti za zagon HTTP strežnika in posredovanje HTTP zahtev. V nadaljevanju je prikazan primer enostavnega HTTP strežnika, ki ob prejetju zahteve zahtevani URL naslov izpiše na spletni strani. Funkcijo, ki jo podamo kot parameter metodi <a href="https://nodejs.org/api/http.html#httpcreateserveroptions-requestlistener"><i class="fa-brands fa-node-js"></i><code>createServer</code></a>, se kliče ob vsakem poskusu povezave odjemalca na spletni strežnik. Parametra <code>zahteva</code> in <code>odgovor</code> sta objekta, ki vsebujeta vhodne (npr. lastnost <code>url</code>, ki pove, katero spletno stran zahtevamo) in izhodne podatke zahteve. Za posredovanje odgovora pokličemo metode na objektu <code>odgovor</code>. Najprej določimo status odgovora na <span class="math inline">\(200\)</span> in nato določimo še vsebino odgovora. S klicem metode <a href="https://nodejs.org/api/http.html#requestenddata-encoding-callback"><i class="fa-brands fa-node-js"></i><code>end</code></a> zaključimo odgovor in ga posredujemo odjemalcu. V našem primeru smo kot parameter metode <a href="https://nodejs.org/api/http.html#serverlisten"><i class="fa-brands fa-node-js"></i><code>listen</code></a> določili še vrata <span class="math inline">\(8080\)</span>, na katerih naj strežnik posluša in sporočilo (2. parameter kot anonimna funkcija), ki se izpiše, ko je strežnik uspešno pognan.</p>
<p>Program, kot je naš testni, se ne bo sam ustavil, saj čaka na uporabniške zahteve, zato ga lahko ustavimo s kombinacijo tipk <code>CTRL + C</code>.</p>
<p><code>http_streznik.js</code></p>
<div class="sourceCode" id="cb341"><pre class="sourceCode javascript httpStreznikIntro"><code class="sourceCode javascript"><span id="cb341-1"><a href="Node-js.html#cb341-1" tabindex="-1"></a><span class="kw">const</span> http <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;http&quot;</span>)<span class="op">;</span></span>
<span id="cb341-2"><a href="Node-js.html#cb341-2" tabindex="-1"></a>http</span>
<span id="cb341-3"><a href="Node-js.html#cb341-3" tabindex="-1"></a>  <span class="op">.</span><span class="fu">createServer</span>((zahteva<span class="op">,</span> odgovor) <span class="kw">=&gt;</span> {</span>
<span id="cb341-4"><a href="Node-js.html#cb341-4" tabindex="-1"></a>    odgovor<span class="op">.</span><span class="fu">writeHead</span>(<span class="dv">200</span><span class="op">,</span> { <span class="st">&quot;Content-Type&quot;</span><span class="op">:</span> <span class="st">&quot;text/html&quot;</span> })<span class="op">;</span></span>
<span id="cb341-5"><a href="Node-js.html#cb341-5" tabindex="-1"></a>    zahteva<span class="op">.</span><span class="fu">on</span>(<span class="st">&quot;data&quot;</span><span class="op">,</span> (delcek) <span class="kw">=&gt;</span> {</span>
<span id="cb341-6"><a href="Node-js.html#cb341-6" tabindex="-1"></a>      odgovor<span class="op">.</span><span class="fu">write</span>(delcek<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">toUpperCase</span>())<span class="op">;</span></span>
<span id="cb341-7"><a href="Node-js.html#cb341-7" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb341-8"><a href="Node-js.html#cb341-8" tabindex="-1"></a>    zahteva<span class="op">.</span><span class="fu">on</span>(<span class="st">&quot;end&quot;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb341-9"><a href="Node-js.html#cb341-9" tabindex="-1"></a>      odgovor<span class="op">.</span><span class="fu">end</span>()<span class="op">;</span></span>
<span id="cb341-10"><a href="Node-js.html#cb341-10" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb341-11"><a href="Node-js.html#cb341-11" tabindex="-1"></a>  })</span>
<span id="cb341-12"><a href="Node-js.html#cb341-12" tabindex="-1"></a>  <span class="op">.</span><span class="fu">listen</span>(<span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">port</span> <span class="op">||</span> <span class="dv">8080</span><span class="op">,</span> <span class="kw">function</span> () {</span>
<span id="cb341-13"><a href="Node-js.html#cb341-13" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Strežnik posluša na </span><span class="sc">${</span><span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">port</span> <span class="op">||</span> <span class="dv">8080</span><span class="sc">}</span><span class="vs">.`</span>)<span class="op">;</span></span>
<span id="cb341-14"><a href="Node-js.html#cb341-14" tabindex="-1"></a>  })<span class="op">;</span></span></code></pre></div>
<p><code>Konzola</code></p>
<div class="sourceCode" id="cb342"><pre class="sourceCode bash rocnoHttpStreznik"><code class="sourceCode bash"><span id="cb342-1"><a href="Node-js.html#cb342-1" tabindex="-1"></a><span class="ex">$</span> node http_streznik.js</span>
<span id="cb342-2"><a href="Node-js.html#cb342-2" tabindex="-1"></a><span class="ex">Strežnik</span> je pognan in posluša na 8080.</span></code></pre></div>
<script>
  $(document).ready(function() {
    $(".httpStreznikIntro").markRegExp(/.+/, options_dodaj);
    $(".rocnoHttpStreznik").markRegExp(/node.+/, options_dodaj);
  });
</script>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:slika-HTTP-streznik-Node"></span>
<img src="assets/img/http_streznik.png" alt="Delovanje testnega HTTP strežnika" width="259" />
<p class="caption">
Slika 5.2: Delovanje testnega HTTP strežnika
</p>
</div>
<p>Če želimo modul <code>http</code> uporabiti v vlogi spletnega odjemalca, lahko to dosežemo s klicem funkcije <a href="https://nodejs.org/api/http.html#httprequestoptions-callback"><i class="fa-brands fa-node-js"></i><code>request</code></a>, kot to prikazuje naslednji primer. Ko zahtevamo začetno stran te skripte na spletnem naslovu <code>http://teaching.lavbic.net/SP</code>, nam strežnik odgovori s statusom <span class="math inline">\(301\)</span>, kar pomeni, da je stran premaknjena na drugo lokacijo (na strežniku je, zaradi večje varnosti, aktivna stalna preusmeritev iz <code>http</code> v <code>https</code> zahtevo). Če bi želeli izvesti https zahtevo, lahko za to uporabimo modul <a href="https://nodejs.org/api/https.html"><i class="fa-brands fa-node-js"></i><code>https</code></a>, ki je prav tako na voljo v Node.js.</p>
<p><code>http_odjemalec.js</code></p>
<div class="sourceCode" id="cb343"><pre class="sourceCode javascript httpOdjemalecIntro"><code class="sourceCode javascript"><span id="cb343-1"><a href="Node-js.html#cb343-1" tabindex="-1"></a><span class="kw">const</span> http <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;http&quot;</span>)<span class="op">;</span></span>
<span id="cb343-2"><a href="Node-js.html#cb343-2" tabindex="-1"></a><span class="kw">let</span> zahteva <span class="op">=</span> http<span class="op">.</span><span class="fu">request</span>(</span>
<span id="cb343-3"><a href="Node-js.html#cb343-3" tabindex="-1"></a>  {</span>
<span id="cb343-4"><a href="Node-js.html#cb343-4" tabindex="-1"></a>    <span class="dt">hostname</span><span class="op">:</span> <span class="st">&quot;teaching.lavbic.net&quot;</span><span class="op">,</span></span>
<span id="cb343-5"><a href="Node-js.html#cb343-5" tabindex="-1"></a>    <span class="dt">path</span><span class="op">:</span> <span class="st">&quot;/SP&quot;</span><span class="op">,</span></span>
<span id="cb343-6"><a href="Node-js.html#cb343-6" tabindex="-1"></a>    <span class="dt">method</span><span class="op">:</span> <span class="st">&quot;GET&quot;</span><span class="op">,</span></span>
<span id="cb343-7"><a href="Node-js.html#cb343-7" tabindex="-1"></a>    <span class="dt">headers</span><span class="op">:</span> { <span class="dt">Accept</span><span class="op">:</span> <span class="st">&quot;text/html&quot;</span> }<span class="op">,</span></span>
<span id="cb343-8"><a href="Node-js.html#cb343-8" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb343-9"><a href="Node-js.html#cb343-9" tabindex="-1"></a>  (odgovor) <span class="kw">=&gt;</span> {</span>
<span id="cb343-10"><a href="Node-js.html#cb343-10" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Strežnik je odgovoril s statusom </span><span class="sc">${</span>odgovor<span class="op">.</span><span class="at">statusCode</span><span class="sc">}</span><span class="vs">.`</span>)<span class="op">;</span></span>
<span id="cb343-11"><a href="Node-js.html#cb343-11" tabindex="-1"></a>  }</span>
<span id="cb343-12"><a href="Node-js.html#cb343-12" tabindex="-1"></a>)<span class="op">;</span></span>
<span id="cb343-13"><a href="Node-js.html#cb343-13" tabindex="-1"></a>zahteva<span class="op">.</span><span class="fu">end</span>()<span class="op">;</span></span></code></pre></div>
<p><code>Konzola</code></p>
<div class="sourceCode" id="cb344"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb344-1"><a href="Node-js.html#cb344-1" tabindex="-1"></a><span class="ex">$</span> node http_odjemalec.js </span>
<span id="cb344-2"><a href="Node-js.html#cb344-2" tabindex="-1"></a><span class="ex">Strežnik</span> je odgovoril s statusom 301.</span></code></pre></div>
<script>
  $(document).ready(function() {
    $(".httpOdjemalecIntro").markRegExp(/.+/, options_dodaj);
  });
</script>
</div>
<div id="tok-podatkov" class="section level3 hasAnchor" number="5.1.8">
<h3><span class="header-section-number">5.1.8</span> Tok podatkov<a href="Node-js.html#tok-podatkov" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>V prejšnjem poglavju smo v kontekstu HTTP spoznali dva primera tokov podatkov, kamor lahko pišemo - objekt odgovora, kjer piše strežnik in objekt zahteve spletnemu odjemalcu, ki je odgovor klica funkcije <code>http.request</code>.</p>
<p>Koncept toka podatkov, kamor lahko pišemo, je zelo razširjen koncept pri Node.js vmesnikih. Vsi takšni toki podatkov imajo metodo <code>write</code>, ki sprejme niz ali objekt <code>Buffer</code>. S pomočjo metode <code>end</code> tok podatkov zapremo, če pa jo pokličemo s parametrom, potem izpišemo še vrednost tega parametra pred dejanskim zaprtjem toka podatkov.</p>
<p>Spoznali smo tudi tokove podatkov, ki jih beremo - zahteva pri spletnem strežniku in odgovor pri spletnem odjemalcu. Objekti, ki v Node.js prožijo dogodke imajo metodo <a href="https://nodejs.org/api/events.html#eventsonemitter-eventname-options"><i class="fa-brands fa-node-js"></i><code>on</code></a>, ki je podobna metodi <code>addEventListener</code> v kontekstu spletnega brskalnika. Podamo ime dogodka in funkcije, ki se pokliče, ko se zgodi dogodek. Tokovi dogodkov, ki jih lahko beremo imajo opredeljena dogodka <code>data</code> (proži se vedno, ko pridejo podatki) in <code>end</code> (proži se ob koncu toka podatkov).</p>
<p>V naslednjem primeru je prikazano delovanje spletnega strežnika, ki prebere telo zahteve in jih v obliki toka podatkov posreduje nazaj odjemalcu tako, da vsebino zahteve pretvori v velike črke. Delček toka podatkov je v binarni obliki, zato ga pretvorimo v niz.</p>
<p><code>http_streznik_tok.js</code></p>
<div class="sourceCode" id="cb345"><pre class="sourceCode javascript streznikTok"><code class="sourceCode javascript"><span id="cb345-1"><a href="Node-js.html#cb345-1" tabindex="-1"></a><span class="kw">const</span> http <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;http&quot;</span>)<span class="op">;</span></span>
<span id="cb345-2"><a href="Node-js.html#cb345-2" tabindex="-1"></a>http</span>
<span id="cb345-3"><a href="Node-js.html#cb345-3" tabindex="-1"></a>  <span class="op">.</span><span class="fu">createServer</span>((zahteva<span class="op">,</span> odgovor) <span class="kw">=&gt;</span> {</span>
<span id="cb345-4"><a href="Node-js.html#cb345-4" tabindex="-1"></a>    odgovor<span class="op">.</span><span class="fu">writeHead</span>(<span class="dv">200</span><span class="op">,</span> { <span class="st">&quot;Content-Type&quot;</span><span class="op">:</span> <span class="st">&quot;text/html&quot;</span> })<span class="op">;</span></span>
<span id="cb345-5"><a href="Node-js.html#cb345-5" tabindex="-1"></a>    zahteva<span class="op">.</span><span class="fu">on</span>(<span class="st">&quot;data&quot;</span><span class="op">,</span> (delcek) <span class="kw">=&gt;</span></span>
<span id="cb345-6"><a href="Node-js.html#cb345-6" tabindex="-1"></a>      odgovor<span class="op">.</span><span class="fu">write</span>(delcek<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">toUpperCase</span>())</span>
<span id="cb345-7"><a href="Node-js.html#cb345-7" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb345-8"><a href="Node-js.html#cb345-8" tabindex="-1"></a>    zahteva<span class="op">.</span><span class="fu">on</span>(<span class="st">&quot;end&quot;</span><span class="op">,</span> () <span class="kw">=&gt;</span> odgovor<span class="op">.</span><span class="fu">end</span>())<span class="op">;</span></span>
<span id="cb345-9"><a href="Node-js.html#cb345-9" tabindex="-1"></a>  })</span>
<span id="cb345-10"><a href="Node-js.html#cb345-10" tabindex="-1"></a>  <span class="op">.</span><span class="fu">listen</span>(<span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">port</span> <span class="op">||</span> <span class="dv">8080</span><span class="op">,</span> () <span class="kw">=&gt;</span></span>
<span id="cb345-11"><a href="Node-js.html#cb345-11" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Strežnik posluša na </span><span class="sc">${</span><span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">port</span> <span class="op">||</span> <span class="dv">8080</span><span class="sc">}</span><span class="vs">.`</span>)</span>
<span id="cb345-12"><a href="Node-js.html#cb345-12" tabindex="-1"></a>  )<span class="op">;</span></span></code></pre></div>
<script>
  $(document).ready(function() {
    $(".streznikTok").markRegExp(/.+/, options_dodaj);
  });
</script>
<p>V naslednjem primeru je prikazan spletni odjemalec, ki dostopa do našega spletnega strežnika. Odjemalec strežniku posreduje zahtevo in ko dobi odgovor od strežnika, ga izpiše na standardni izhod. Pri izpisu odgovora uporabimo <a href="https://nodejs.org/api/process.html#processstdout"><i class="fa-brands fa-node-js"></i><code>process.stdout</code></a> in ne <code>console.log</code>, saj <code>console.log</code> po vsakem izpisu doda prehod v novo vrstic, kar v našem primeru ni primerno.</p>
<p><code>http_odjemalec_tok.js</code></p>
<div class="sourceCode" id="cb346"><pre class="sourceCode javascript odjemalecTok"><code class="sourceCode javascript"><span id="cb346-1"><a href="Node-js.html#cb346-1" tabindex="-1"></a><span class="kw">const</span> http <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;http&quot;</span>)<span class="op">;</span></span>
<span id="cb346-2"><a href="Node-js.html#cb346-2" tabindex="-1"></a><span class="kw">const</span> zahteva <span class="op">=</span> http<span class="op">.</span><span class="fu">request</span>(</span>
<span id="cb346-3"><a href="Node-js.html#cb346-3" tabindex="-1"></a>  {</span>
<span id="cb346-4"><a href="Node-js.html#cb346-4" tabindex="-1"></a>    <span class="dt">hostname</span><span class="op">:</span> <span class="st">&quot;localhost&quot;</span><span class="op">,</span></span>
<span id="cb346-5"><a href="Node-js.html#cb346-5" tabindex="-1"></a>    <span class="dt">port</span><span class="op">:</span> <span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">PORT</span> <span class="op">||</span> <span class="dv">8080</span><span class="op">,</span></span>
<span id="cb346-6"><a href="Node-js.html#cb346-6" tabindex="-1"></a>    <span class="dt">method</span><span class="op">:</span> <span class="st">&quot;POST&quot;</span><span class="op">,</span></span>
<span id="cb346-7"><a href="Node-js.html#cb346-7" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb346-8"><a href="Node-js.html#cb346-8" tabindex="-1"></a>  (odgovor) <span class="kw">=&gt;</span></span>
<span id="cb346-9"><a href="Node-js.html#cb346-9" tabindex="-1"></a>    odgovor<span class="op">.</span><span class="fu">on</span>(<span class="st">&quot;data&quot;</span><span class="op">,</span> (delcek) <span class="kw">=&gt;</span> <span class="bu">process</span><span class="op">.</span><span class="at">stdout</span><span class="op">.</span><span class="fu">write</span>(delcek<span class="op">.</span><span class="fu">toString</span>()))</span>
<span id="cb346-10"><a href="Node-js.html#cb346-10" tabindex="-1"></a>)<span class="op">;</span></span>
<span id="cb346-11"><a href="Node-js.html#cb346-11" tabindex="-1"></a>zahteva<span class="op">.</span><span class="fu">end</span>(<span class="st">&quot;Še malo in bomo končali.</span><span class="sc">\n</span><span class="st">&quot;</span>)<span class="op">;</span></span></code></pre></div>
<script>
  $(document).ready(function() {
    $(".odjemalecTok").markRegExp(/.+/, options_dodaj);
  });
</script>
<p><code>Konzola strežnika</code></p>
<div class="sourceCode" id="cb347"><pre class="sourceCode bash rocnoHttpStreznikTok"><code class="sourceCode bash"><span id="cb347-1"><a href="Node-js.html#cb347-1" tabindex="-1"></a><span class="ex">$</span> node http_streznik_tok.js </span>
<span id="cb347-2"><a href="Node-js.html#cb347-2" tabindex="-1"></a><span class="ex">Strežnik</span> posluša na 8080.</span></code></pre></div>
<p><code>Konzola odjemalca</code></p>
<div class="sourceCode" id="cb348"><pre class="sourceCode bash rocnoHttpOdjemalecTok"><code class="sourceCode bash"><span id="cb348-1"><a href="Node-js.html#cb348-1" tabindex="-1"></a><span class="ex">$</span> node http_odjemalec_tok.js</span>
<span id="cb348-2"><a href="Node-js.html#cb348-2" tabindex="-1"></a><span class="ex">ŠE</span> MALO IN BOMO KONČALI.</span></code></pre></div>
<script>
  $(document).ready(function() {
    $(".rocnoHttpStreznikTok").markRegExp(/node.+/, options_dodaj);
    $(".rocnoHttpOdjemalecTok").markRegExp(/node.+/, options_dodaj);
  });
</script>
</div>
<div id="enostavni-datotečni-strežnik" class="section level3 hasAnchor" number="5.1.9">
<h3><span class="header-section-number">5.1.9</span> Enostavni datotečni strežnik<a href="Node-js.html#enostavni-datotečni-strežnik" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Z novo pridobljenim znanjem pogosto uporabljanih Node.js modulov <code>http</code> in <code>fs</code> bomo implementirali enostavni datotečni strežnik, kjer bomo kombinirali spletni strežnik z oddaljenim dostopom do datotečnega sistema. Takšen strežnik je koristen za številne scenarije, omogoča nam npr. shranjevanje podatkov oz. deljenje vsebine različnim uporabnikom.</p>
<p>Ko dostopamo do HTTP virov, uporabljamo HTTP metode <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/GET"><i class="fa-solid fa-globe"></i><code>GET</code></a> (branje), <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PUT"><i class="fa-solid fa-globe"></i><code>PUT</code></a> (pisanje) in <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/DELETE"><i class="fa-solid fa-globe"></i><code>DELETE</code></a> (brisanje). Ker ne želimo deliti celotne vsebine našega trdega diska, bomo omogočili dostop zgolj do mape, v kateri bomo pognali strežnik.</p>
<p>Najprej uvozimo potrebne module, pripravimo objekt dovoljenih metod in pripravimo ter poženemo strežnik. Če uporabnik zahteva metodo, ki jo naš strežnik ne podpira, vrnemo status <span class="math inline">\(405\)</span>, ki vsebinsko predstavlja ravno ta scenarij.</p>
<p>Funkcija <code>odgovori</code> se v večini primerov posreduje kot povratni klic in se izvede ob zaključku zahteve. Če je vrednost, ki jo posredujemo kot vsebina, bralni tok podatkov, ima na voljo metodo <code>pipe</code>, s pomočjo katere bralni tok podatkov posredujemo naprej v tok podatkov, v katerega lahko pišemo.</p>
<p>Za pridobitev poti do datoteke iz URL zahteve je opredeljena funkcija <code>urlVPot</code>, ki uporablja sistemski modul <code>url</code> in poskrbi za pretvorbo. Na koncu ga pretvorimo v varno obliko z metodo <code>decodeURIComponent</code>, dodamo piko <code>.</code>, kar pomeni, da dostopamo do trenutne mape in celotno pot vrnemo ob klicu funkcije.</p>
<p>Najprej bomo opredelili metodo <code>GET</code>, ki nam vrača seznam datotek, ko dostopamo do mape in vsebino datoteke, ko dostopamo do datoteke. Pri vračanju vsebine datoteke moramo poskrbeti tudi za tip datoteke, kjer lahko uporabimo modul <code>mime</code> in ga namestimo z ukazom, prikazanim v nadaljevanju.</p>
<p><code>Konzola strežnika</code></p>
<div class="sourceCode" id="cb349"><pre class="sourceCode bash rocnoNpmInstallMime"><code class="sourceCode bash"><span id="cb349-1"><a href="Node-js.html#cb349-1" tabindex="-1"></a><span class="ex">$</span> npm install mime</span>
<span id="cb349-2"><a href="Node-js.html#cb349-2" tabindex="-1"></a><span class="ex">+</span> mime@2.5.2</span>
<span id="cb349-3"><a href="Node-js.html#cb349-3" tabindex="-1"></a><span class="ex">added</span> 1 package from 1 contributor and audited 2 packages in 1.183s</span></code></pre></div>
<script>
  $(document).ready(function() {
    $(".rocnoNpmInstallMime").markRegExp(/npm.+/, options_dodaj);
  });
</script>
<p>Ko zahtevana datoteka ne obstaja, vrnemo status zahteve na <span class="math inline">\(404\)</span>, kar lahko ugotovimo s klicem funkcije <a href="https://nodejs.org/api/fs.html#fsstatpath-options-callback"><i class="fa-brands fa-node-js"></i><code>fs.stat</code></a>. Ker lahko omenjena operacija traja dlje časa, saj dostopa do trdega diska, jo izvedemo na asinhroni način in odgovor vrnemo v povratnem klicu. Če datoteka ne obstaja, dobimo kodo napake <code>ENOENT</code>. V primeru, da pride do napake na strežniku, ki je ne pričakujemo, vrnemo status zahteve <span class="math inline">\(500\)</span>. Če vračamo seznam datotek v mapi, jih pridobimo s klicem funkcije <a href="https://nodejs.org/api/fs.html#fsreaddirpath-options-callback"><i class="fa-brands fa-node-js"></i><code>fs.readdir</code></a>.</p>
<p>Brisanje vsebine z metodo <code>DELETE</code> je nekoliko enostavneje. Mogoče je nenavadno, kaj se zgodi, ko hočemo brisati datoteko, ki ne obstaja, kar je implementirano v metodi <code>odgovoriNapakoAliNic</code>. V tem primeru namreč vrnemo status <span class="math inline">\(204\)</span> in ne napake, saj HTTP standard zahteva, da so zahteve idempotentne, kar pomeni, da večkratno izvajanje iste akcije vrača enak odgovor.</p>
<p>Pri dodajanju datoteke z metodo <code>PUT</code> nam ni potrebno preverjati, če datoteka obstaja. Če obstaja, jo bomo namreč preprosto prepisali.</p>
<p><code>datotecni_streznik.js</code></p>
<div class="sourceCode" id="cb350"><pre class="sourceCode javascript datotecniStreznik"><code class="sourceCode javascript"><span id="cb350-1"><a href="Node-js.html#cb350-1" tabindex="-1"></a><span class="kw">const</span> http <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;http&quot;</span>)<span class="op">,</span></span>
<span id="cb350-2"><a href="Node-js.html#cb350-2" tabindex="-1"></a>  fs <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;fs&quot;</span>)<span class="op">;</span></span>
<span id="cb350-3"><a href="Node-js.html#cb350-3" tabindex="-1"></a><span class="kw">let</span> metode <span class="op">=</span> <span class="bu">Object</span><span class="op">.</span><span class="fu">create</span>(<span class="kw">null</span>)<span class="op">;</span></span>
<span id="cb350-4"><a href="Node-js.html#cb350-4" tabindex="-1"></a>http</span>
<span id="cb350-5"><a href="Node-js.html#cb350-5" tabindex="-1"></a>  <span class="op">.</span><span class="fu">createServer</span>((zahteva<span class="op">,</span> odgovor) <span class="kw">=&gt;</span> {</span>
<span id="cb350-6"><a href="Node-js.html#cb350-6" tabindex="-1"></a>    <span class="kw">function</span> <span class="fu">odgovori</span>(kodaStatus<span class="op">,</span> vsebina<span class="op">,</span> tip) {</span>
<span id="cb350-7"><a href="Node-js.html#cb350-7" tabindex="-1"></a>      <span class="cf">if</span> (<span class="op">!</span>tip) tip <span class="op">=</span> <span class="st">&quot;text/plain&quot;</span><span class="op">;</span></span>
<span id="cb350-8"><a href="Node-js.html#cb350-8" tabindex="-1"></a>      odgovor<span class="op">.</span><span class="fu">writeHead</span>(kodaStatus<span class="op">,</span> { <span class="st">&quot;Content-Type&quot;</span><span class="op">:</span> tip })<span class="op">;</span></span>
<span id="cb350-9"><a href="Node-js.html#cb350-9" tabindex="-1"></a>      <span class="cf">if</span> (vsebina<span class="op">?.</span><span class="at">pipe</span>) vsebina<span class="op">.</span><span class="fu">pipe</span>(odgovor)<span class="op">;</span></span>
<span id="cb350-10"><a href="Node-js.html#cb350-10" tabindex="-1"></a>      <span class="cf">else</span> odgovor<span class="op">.</span><span class="fu">end</span>(vsebina)<span class="op">;</span></span>
<span id="cb350-11"><a href="Node-js.html#cb350-11" tabindex="-1"></a>    }</span>
<span id="cb350-12"><a href="Node-js.html#cb350-12" tabindex="-1"></a>    <span class="cf">if</span> (zahteva<span class="op">.</span><span class="at">method</span> <span class="kw">in</span> metode)</span>
<span id="cb350-13"><a href="Node-js.html#cb350-13" tabindex="-1"></a>      metode[zahteva<span class="op">.</span><span class="at">method</span>](<span class="fu">urlVPot</span>(zahteva<span class="op">.</span><span class="at">url</span>)<span class="op">,</span> odgovori<span class="op">,</span> zahteva)<span class="op">;</span></span>
<span id="cb350-14"><a href="Node-js.html#cb350-14" tabindex="-1"></a>    <span class="cf">else</span> <span class="fu">odgovori</span>(<span class="dv">405</span><span class="op">,</span> <span class="st">&quot;Metoda &quot;</span> <span class="op">+</span> zahteva<span class="op">.</span><span class="at">method</span> <span class="op">+</span> <span class="st">&quot; ni dovoljena.&quot;</span>)<span class="op">;</span></span>
<span id="cb350-15"><a href="Node-js.html#cb350-15" tabindex="-1"></a>  })</span>
<span id="cb350-16"><a href="Node-js.html#cb350-16" tabindex="-1"></a>  <span class="op">.</span><span class="fu">listen</span>(<span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">PORT</span> <span class="op">||</span> <span class="dv">8080</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb350-17"><a href="Node-js.html#cb350-17" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Strežnik posluša na </span><span class="sc">${</span><span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">PORT</span> <span class="op">||</span> <span class="dv">8080</span><span class="sc">}</span><span class="vs">.`</span>)<span class="op">;</span></span>
<span id="cb350-18"><a href="Node-js.html#cb350-18" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb350-19"><a href="Node-js.html#cb350-19" tabindex="-1"></a><span class="kw">function</span> <span class="fu">urlVPot</span>(url) {</span>
<span id="cb350-20"><a href="Node-js.html#cb350-20" tabindex="-1"></a>  <span class="kw">let</span> pot <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;url&quot;</span>)<span class="op">.</span><span class="fu">parse</span>(url)<span class="op">.</span><span class="at">pathname</span><span class="op">;</span></span>
<span id="cb350-21"><a href="Node-js.html#cb350-21" tabindex="-1"></a>  <span class="cf">return</span> <span class="st">&quot;.&quot;</span> <span class="op">+</span> <span class="pp">decodeURIComponent</span>(pot)<span class="op">;</span></span>
<span id="cb350-22"><a href="Node-js.html#cb350-22" tabindex="-1"></a>}</span>
<span id="cb350-23"><a href="Node-js.html#cb350-23" tabindex="-1"></a>metode<span class="op">.</span><span class="at">GET</span> <span class="op">=</span> (pot<span class="op">,</span> odgovori) <span class="kw">=&gt;</span> {</span>
<span id="cb350-24"><a href="Node-js.html#cb350-24" tabindex="-1"></a>  fs<span class="op">.</span><span class="fu">stat</span>(pot<span class="op">,</span> (napaka<span class="op">,</span> podatki) <span class="kw">=&gt;</span> {</span>
<span id="cb350-25"><a href="Node-js.html#cb350-25" tabindex="-1"></a>    <span class="cf">if</span> (napaka <span class="op">&amp;&amp;</span> napaka<span class="op">.</span><span class="at">code</span> <span class="op">==</span> <span class="st">&quot;ENOENT&quot;</span>)</span>
<span id="cb350-26"><a href="Node-js.html#cb350-26" tabindex="-1"></a>      <span class="fu">odgovori</span>(<span class="dv">404</span><span class="op">,</span> <span class="st">&quot;Datoteke ni mogoče najti&quot;</span>)<span class="op">;</span></span>
<span id="cb350-27"><a href="Node-js.html#cb350-27" tabindex="-1"></a>    <span class="cf">else</span> <span class="cf">if</span> (napaka) <span class="fu">odgovori</span>(<span class="dv">500</span><span class="op">,</span> napaka<span class="op">.</span><span class="fu">toString</span>())<span class="op">;</span></span>
<span id="cb350-28"><a href="Node-js.html#cb350-28" tabindex="-1"></a>    <span class="cf">else</span> <span class="cf">if</span> (podatki<span class="op">.</span><span class="fu">isDirectory</span>())</span>
<span id="cb350-29"><a href="Node-js.html#cb350-29" tabindex="-1"></a>      fs<span class="op">.</span><span class="fu">readdir</span>(pot<span class="op">,</span> (napaka<span class="op">,</span> datoteke) <span class="kw">=&gt;</span> {</span>
<span id="cb350-30"><a href="Node-js.html#cb350-30" tabindex="-1"></a>        <span class="cf">if</span> (napaka) <span class="fu">odgovori</span>(<span class="dv">500</span><span class="op">,</span> napaka<span class="op">.</span><span class="fu">toString</span>())<span class="op">;</span></span>
<span id="cb350-31"><a href="Node-js.html#cb350-31" tabindex="-1"></a>        <span class="cf">else</span> <span class="fu">odgovori</span>(<span class="dv">200</span><span class="op">,</span> datoteke<span class="op">.</span><span class="fu">join</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>))<span class="op">;</span></span>
<span id="cb350-32"><a href="Node-js.html#cb350-32" tabindex="-1"></a>      })<span class="op">;</span></span>
<span id="cb350-33"><a href="Node-js.html#cb350-33" tabindex="-1"></a>    <span class="cf">else</span> <span class="fu">odgovori</span>(<span class="dv">200</span><span class="op">,</span> fs<span class="op">.</span><span class="fu">createReadStream</span>(pot)<span class="op">,</span> <span class="pp">require</span>(<span class="st">&quot;mime&quot;</span>)<span class="op">.</span><span class="fu">getType</span>(pot))<span class="op">;</span></span>
<span id="cb350-34"><a href="Node-js.html#cb350-34" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb350-35"><a href="Node-js.html#cb350-35" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb350-36"><a href="Node-js.html#cb350-36" tabindex="-1"></a>metode<span class="op">.</span><span class="at">DELETE</span> <span class="op">=</span> (pot<span class="op">,</span> odgovori) <span class="kw">=&gt;</span> {</span>
<span id="cb350-37"><a href="Node-js.html#cb350-37" tabindex="-1"></a>  fs<span class="op">.</span><span class="fu">stat</span>(pot<span class="op">,</span> <span class="kw">function</span> (napaka<span class="op">,</span> podatki) {</span>
<span id="cb350-38"><a href="Node-js.html#cb350-38" tabindex="-1"></a>    <span class="cf">if</span> (napaka <span class="op">&amp;&amp;</span> napaka<span class="op">.</span><span class="at">code</span> <span class="op">==</span> <span class="st">&quot;ENOENT&quot;</span>) <span class="fu">odgovori</span>(<span class="dv">204</span>)<span class="op">;</span></span>
<span id="cb350-39"><a href="Node-js.html#cb350-39" tabindex="-1"></a>    <span class="cf">else</span> <span class="cf">if</span> (napaka) <span class="fu">odgovori</span>(<span class="dv">500</span><span class="op">,</span> napaka<span class="op">.</span><span class="fu">toString</span>())<span class="op">;</span></span>
<span id="cb350-40"><a href="Node-js.html#cb350-40" tabindex="-1"></a>    <span class="cf">else</span> <span class="cf">if</span> (podatki<span class="op">.</span><span class="fu">isDirectory</span>())</span>
<span id="cb350-41"><a href="Node-js.html#cb350-41" tabindex="-1"></a>      fs<span class="op">.</span><span class="fu">rmdir</span>(pot<span class="op">,</span> <span class="fu">odgovoriNapakoAliNic</span>(odgovori))<span class="op">;</span></span>
<span id="cb350-42"><a href="Node-js.html#cb350-42" tabindex="-1"></a>    <span class="cf">else</span> fs<span class="op">.</span><span class="fu">unlink</span>(pot<span class="op">,</span> <span class="fu">odgovoriNapakoAliNic</span>(odgovori))<span class="op">;</span></span>
<span id="cb350-43"><a href="Node-js.html#cb350-43" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb350-44"><a href="Node-js.html#cb350-44" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb350-45"><a href="Node-js.html#cb350-45" tabindex="-1"></a><span class="kw">function</span> <span class="fu">odgovoriNapakoAliNic</span>(odgovori) {</span>
<span id="cb350-46"><a href="Node-js.html#cb350-46" tabindex="-1"></a>  <span class="cf">return</span> <span class="kw">function</span> (napaka) {</span>
<span id="cb350-47"><a href="Node-js.html#cb350-47" tabindex="-1"></a>    <span class="cf">if</span> (napaka) <span class="fu">odgovori</span>(<span class="dv">500</span><span class="op">,</span> napaka<span class="op">.</span><span class="fu">toString</span>())<span class="op">;</span></span>
<span id="cb350-48"><a href="Node-js.html#cb350-48" tabindex="-1"></a>    <span class="cf">else</span> <span class="fu">odgovori</span>(<span class="dv">204</span>)<span class="op">;</span></span>
<span id="cb350-49"><a href="Node-js.html#cb350-49" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb350-50"><a href="Node-js.html#cb350-50" tabindex="-1"></a>}</span>
<span id="cb350-51"><a href="Node-js.html#cb350-51" tabindex="-1"></a>metode<span class="op">.</span><span class="at">PUT</span> <span class="op">=</span> (pot<span class="op">,</span> odgovori<span class="op">,</span> zahteva) <span class="kw">=&gt;</span> {</span>
<span id="cb350-52"><a href="Node-js.html#cb350-52" tabindex="-1"></a>  <span class="kw">let</span> odhodniTokPodatkov <span class="op">=</span> fs<span class="op">.</span><span class="fu">createWriteStream</span>(pot)<span class="op">;</span></span>
<span id="cb350-53"><a href="Node-js.html#cb350-53" tabindex="-1"></a>  odhodniTokPodatkov<span class="op">.</span><span class="fu">on</span>(<span class="st">&quot;error&quot;</span><span class="op">,</span> <span class="kw">function</span> (napaka) {</span>
<span id="cb350-54"><a href="Node-js.html#cb350-54" tabindex="-1"></a>    <span class="fu">odgovori</span>(<span class="dv">500</span><span class="op">,</span> napaka<span class="op">.</span><span class="fu">toString</span>())<span class="op">;</span></span>
<span id="cb350-55"><a href="Node-js.html#cb350-55" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb350-56"><a href="Node-js.html#cb350-56" tabindex="-1"></a>  odhodniTokPodatkov<span class="op">.</span><span class="fu">on</span>(<span class="st">&quot;finish&quot;</span><span class="op">,</span> <span class="kw">function</span> () {</span>
<span id="cb350-57"><a href="Node-js.html#cb350-57" tabindex="-1"></a>    <span class="fu">odgovori</span>(<span class="dv">204</span>)<span class="op">;</span></span>
<span id="cb350-58"><a href="Node-js.html#cb350-58" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb350-59"><a href="Node-js.html#cb350-59" tabindex="-1"></a>  zahteva<span class="op">.</span><span class="fu">pipe</span>(odhodniTokPodatkov)<span class="op">;</span></span>
<span id="cb350-60"><a href="Node-js.html#cb350-60" tabindex="-1"></a>}<span class="op">;</span></span></code></pre></div>
<script>
  $(document).ready(function() {
    $(".datotecniStreznik").markRegExp(/.+/, options_dodaj);
  });
</script>
<p>Če želimo strežnik stestirati, ga preprosto poženemo, kot je prikazano spodaj.</p>
<p><code>Konzola strežnika</code></p>
<div class="sourceCode" id="cb351"><pre class="sourceCode bash rocnoDatotecniStreznikPozeni"><code class="sourceCode bash"><span id="cb351-1"><a href="Node-js.html#cb351-1" tabindex="-1"></a><span class="ex">$</span> node datotecni_streznik.js</span>
<span id="cb351-2"><a href="Node-js.html#cb351-2" tabindex="-1"></a><span class="ex">Strežnik</span> pognan.</span></code></pre></div>
<script>
  $(document).ready(function() {
    $(".rocnoDatotecniStreznikPozeni").markRegExp(/node.+/, options_dodaj);
  });
</script>
<p>Za testiranje lahko uporabimo kar orodje <a href="https://curl.haxx.se/"><i class="fa-solid fa-earth-europe"></i><code>curl</code></a>, ki je na voljo na vseh Unix sistemih in se lahko uporabi za posredovanje HTTP zahtev. S serijo spodnjih ukazov lahko na hitro preverimo delovanje našega strežnika. Opazimo lahko, da s pomočjo parametra <code>-X</code> opredelimo metodo, medtem ko se parameter <code>-d</code> uporablja za vključitev vsebine zahteve.</p>
<p><code>Konzola odjemalca</code></p>
<div class="sourceCode" id="cb352"><pre class="sourceCode bash rocnoDatotecniStreznikPrimeri"><code class="sourceCode bash"><span id="cb352-1"><a href="Node-js.html#cb352-1" tabindex="-1"></a><span class="ex">$</span> curl http://localhost:8080/test.txt</span>
<span id="cb352-2"><a href="Node-js.html#cb352-2" tabindex="-1"></a><span class="ex">Datoteke</span> ni mogoče najti</span>
<span id="cb352-3"><a href="Node-js.html#cb352-3" tabindex="-1"></a><span class="ex">$</span> curl <span class="at">-X</span> PUT <span class="at">-d</span> Yellow http://localhost:8080/test.txt</span>
<span id="cb352-4"><a href="Node-js.html#cb352-4" tabindex="-1"></a><span class="ex">$</span> curl http://localhost:8080/test.txt</span>
<span id="cb352-5"><a href="Node-js.html#cb352-5" tabindex="-1"></a><span class="ex">Yellow</span></span>
<span id="cb352-6"><a href="Node-js.html#cb352-6" tabindex="-1"></a><span class="ex">$</span> curl <span class="at">-X</span> DELETE http://localhost:8080/test.txt</span>
<span id="cb352-7"><a href="Node-js.html#cb352-7" tabindex="-1"></a><span class="ex">$</span> curl http://localhost:8080/test.txt</span>
<span id="cb352-8"><a href="Node-js.html#cb352-8" tabindex="-1"></a><span class="ex">Datoteke</span> ni mogoče najti</span></code></pre></div>
<script>
  $(document).ready(function() {
    $(".rocnoDatotecniStreznikPrimeri").markRegExp(/curl.+/, options_dodaj);
  });
</script>
<p>Opazimo lahko, da prva zahteva ni uspešna, saj omenjena datoteka še ne obstaja. S <code>PUT</code> zahtevo dodamo datoteko, zato je naslednja zahteva uspešna. Po brisanju datoteke z <code>DELETE</code> zahtevo je zadnja zahteva zopet neuspešna, saj smo datoteko izbrisali.</p>
</div>
<div id="obvladovanje-napak" class="section level3 hasAnchor" number="5.1.10">
<h3><span class="header-section-number">5.1.10</span> Obvladovanje napak<a href="Node-js.html#obvladovanje-napak" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Pri našem enostavnem datotečnem strežniku iz prejšnjega poglavja na več mestih eksplicitno preverjamo izjeme, za katere ne vemo kako jih obravnavati. Ker izjeme niso samodejno posredovane povratnim klicem, ampak kot parametri, jih moramo neposredno obravnavati vsakokrat. Če pri našem programu pride do napake, se bo ta posredovala do zadnjega klica (t.j. zagon strežnika), kar bo pomenilo izhod iz programa. Naš strežnik se zato ustavi, ko pride do napake v kodi sistema, v nasprotju z asinhronimi problemi, ki se posredujejo kot argumenti povratnemu klicu. Če bi želeli obvladovati vse izjeme, bi morali dodati <code>try/catch</code> kodo vsakemu povratnemu klicu. To zagotovo ni primeren pristop, zato bomo uporabili <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><i class="fa-brands fa-node-js"></i><strong>Promises</strong></a>, ki smo jih že predstavili v kontekstu spletnega brskalnika v poglavju <a href="JavaScript.html#promises">4.17.5</a>.</p>
<p><code>Konzola</code></p>
<div class="sourceCode" id="cb353"><pre class="sourceCode bash rocnoPromiseInstall"><code class="sourceCode bash"><span id="cb353-1"><a href="Node-js.html#cb353-1" tabindex="-1"></a><span class="ex">$</span> npm install promise</span>
<span id="cb353-2"><a href="Node-js.html#cb353-2" tabindex="-1"></a><span class="ex">+</span> promise@8.1.0</span>
<span id="cb353-3"><a href="Node-js.html#cb353-3" tabindex="-1"></a><span class="ex">added</span> 2 packages from 1 contributor and audited 4 packages in 0.786s</span></code></pre></div>
<script>
  $(document).ready(function() {
    $(".rocnoPromiseInstall").markRegExp(/npm.+/, options_dodaj);
  });
</script>
<p>Le nekatere Node.js knjižnice imajo integriran pristop s Promises, vendar jih je po drugi strani zelo enostavno vključiti. V modulu <a href="https://www.npmjs.com/package/promise"><i class="fa-brands fa-node-js"></i><code>promise</code></a> imamo na voljo funkcijo <code>denodeify</code>, ki obstoječo asinhrono funkcijo pretvori v funkcijo, ki vrača odgovor v obliki Promises, kot je prikazano v naslednjem primeru.</p>
<p><code>uporaba_promises.js</code></p>
<div class="sourceCode" id="cb354"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb354-1"><a href="Node-js.html#cb354-1" tabindex="-1"></a><span class="kw">const</span> promise <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;promise&quot;</span>)<span class="op">;</span></span>
<span id="cb354-2"><a href="Node-js.html#cb354-2" tabindex="-1"></a><span class="kw">const</span> fs <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;fs&quot;</span>)<span class="op">;</span></span>
<span id="cb354-3"><a href="Node-js.html#cb354-3" tabindex="-1"></a><span class="kw">let</span> readFile <span class="op">=</span> promise<span class="op">.</span><span class="fu">denodeify</span>(fs<span class="op">.</span><span class="at">readFile</span>)<span class="op">;</span></span>
<span id="cb354-4"><a href="Node-js.html#cb354-4" tabindex="-1"></a><span class="fu">readFile</span>(<span class="st">&quot;data/datoteka.txt&quot;</span><span class="op">,</span> <span class="st">&quot;utf8&quot;</span>)<span class="op">.</span><span class="fu">then</span>(</span>
<span id="cb354-5"><a href="Node-js.html#cb354-5" tabindex="-1"></a>  (vsebina) <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Datoteka vsebuje: </span><span class="sc">${</span>vsebina<span class="sc">}</span><span class="vs">`</span>)<span class="op">,</span></span>
<span id="cb354-6"><a href="Node-js.html#cb354-6" tabindex="-1"></a>  (napaka) <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Napaka pri branju datoteke: </span><span class="sc">${</span>napaka<span class="sc">}</span><span class="vs">`</span>)</span>
<span id="cb354-7"><a href="Node-js.html#cb354-7" tabindex="-1"></a>)<span class="op">;</span></span></code></pre></div>
<p><code>Konzola</code></p>
<div class="sourceCode" id="cb355"><pre class="sourceCode bash rocnoPromiseTest"><code class="sourceCode bash"><span id="cb355-1"><a href="Node-js.html#cb355-1" tabindex="-1"></a><span class="ex">$</span> node uporaba_promises.js</span>
<span id="cb355-2"><a href="Node-js.html#cb355-2" tabindex="-1"></a><span class="ex">Datoteka</span> vsebuje: Maroko je obmorska država v severozahodni Afriki. Na severu meji na Sredozemsko morje in Gibraltarsko ožino, na zahodu na Atlantski ocean, na vzhodu na Alžirijo, s katero ima zaprto mejo, ter na jugozahodu na Zahodno Saharo, katere del sta okupirala skupaj z Mavretanijo, tako da ima prek zasedbenega območja dostop tudi do Mavretanije.</span></code></pre></div>
<script>
  $(document).ready(function() {
    $(".rocnoPromiseTest").markRegExp(/node.+/, options_dodaj);
  });
</script>
</div>
</div>
<div id="vzpostavitev-in-nastavitev-projekta" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Vzpostavitev in nastavitev projekta<a href="Node-js.html#vzpostavitev-in-nastavitev-projekta" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>V tem poglavju bomo začeli z gradnjo demo aplikacije, katere zasnovo smo že predhodno predstavili v okviru poglavja <a href="P11.html#koraki-pri-nacrtovanju-nove-spletne-aplikacije">1.6.2</a>. Aplikacija prikazuje bližnje zanimive lokacije, ki so za potencialnega turista zanimive za ogled. Poleg same lokacije so na voljo tudi dodatne informacije, katere aktivnosti so na voljo na lokaciji, odpiralni čas, ocena in podrobna lokacija na zemljevidu. Uporabniki aplikacije bodo lahko posamezno lokacijo ocenili in podali komentar.</p>
<p>Pri uporabi MEAN sklada tehnologij Express in Node predstavljata ogrodje za razvoj spletnih aplikacij. Pri razvoju spletne aplikacije sta najbolj pomembni komponenti, zato bomo začeli z njima.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:slika-Zacetek-gradnje-Express-aplikacije"></span>
<img src="assets/img/Zacetek_gradnje_Express_aplikacije.png" alt="Kreiranje projekta in opredelitev Express aplikacije ter začetek gradnje osrednje aplikacije" width="600" />
<p class="caption">
Slika 5.3: Kreiranje projekta in opredelitev Express aplikacije ter začetek gradnje osrednje aplikacije
</p>
</div>
<p>Slika <a href="Node-js.html#fig:slika-Zacetek-gradnje-Express-aplikacije">5.3</a> prikazuje naša prva koraka pri razvoju:</p>
<ol style="list-style-type: decimal">
<li><strong>kreiranje projekta in opredelitev Express aplikacije</strong>, kjer bo izvorna koda strežniške aplikacije brez podatkovne baze in</li>
<li><strong>začetek gradnje osrednje Express aplikacije</strong>.</li>
</ol>
<div id="pregled-uporabljenih-orodij-express-node-in-npm" class="section level3 hasAnchor" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Pregled uporabljenih orodij Express, Node in <code>npm</code><a href="Node-js.html#pregled-uporabljenih-orodij-express-node-in-npm" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="opredelitev-paketov-v-package.json" class="section level4 hasAnchor" number="5.2.1.1">
<h4><span class="header-section-number">5.2.1.1</span> Opredelitev paketov v <code>package.json</code><a href="Node-js.html#opredelitev-paketov-v-package.json" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>V vsaki Node.js aplikaciji bi morala v korenski mapi projekta obstajati datoteka <code>package.json</code>, ki vsebuje različne metapodatke o projektu, vključno s paketi oz. moduli, ki jih potrebuje za svoje delovanje. V nadaljevanju je prikazan primer <a href="https://docs.npmjs.com/cli/v8/configuring-npm/package-json"><i class="fa-brands fa-node-js"></i><code>package.json</code></a> datoteke. Na začetku so opredeljeni različni metapodatki aplikacije. Nato pa je v nadaljevanju seznam vseh odvisnih paketov, ki jih aplikacija potrebuje pri delovanju.</p>
<p><code>package.json</code></p>
<div class="sourceCode" id="cb356"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb356-1"><a href="Node-js.html#cb356-1" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb356-2"><a href="Node-js.html#cb356-2" tabindex="-1"></a>  <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;demo&quot;</span><span class="fu">,</span></span>
<span id="cb356-3"><a href="Node-js.html#cb356-3" tabindex="-1"></a>  <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="st">&quot;0.1.0&quot;</span><span class="fu">,</span></span>
<span id="cb356-4"><a href="Node-js.html#cb356-4" tabindex="-1"></a>  <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;Demo application for Web Programming course&quot;</span><span class="fu">,</span></span>
<span id="cb356-5"><a href="Node-js.html#cb356-5" tabindex="-1"></a>  <span class="dt">&quot;main&quot;</span><span class="fu">:</span> <span class="st">&quot;server.js&quot;</span><span class="fu">,</span></span>
<span id="cb356-6"><a href="Node-js.html#cb356-6" tabindex="-1"></a>  <span class="dt">&quot;scripts&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb356-7"><a href="Node-js.html#cb356-7" tabindex="-1"></a>    <span class="dt">&quot;start&quot;</span><span class="fu">:</span> <span class="st">&quot;node server.js&quot;</span></span>
<span id="cb356-8"><a href="Node-js.html#cb356-8" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb356-9"><a href="Node-js.html#cb356-9" tabindex="-1"></a>  <span class="dt">&quot;author&quot;</span><span class="fu">:</span> <span class="st">&quot;Dejan Lavbič &lt;dejan@lavbic.net&gt;&quot;</span><span class="fu">,</span></span>
<span id="cb356-10"><a href="Node-js.html#cb356-10" tabindex="-1"></a>  <span class="dt">&quot;license&quot;</span><span class="fu">:</span> <span class="st">&quot;ISC&quot;</span><span class="fu">,</span></span>
<span id="cb356-11"><a href="Node-js.html#cb356-11" tabindex="-1"></a>  <span class="dt">&quot;private&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb356-12"><a href="Node-js.html#cb356-12" tabindex="-1"></a>  <span class="dt">&quot;dependencies&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb356-13"><a href="Node-js.html#cb356-13" tabindex="-1"></a>    <span class="dt">&quot;express&quot;</span><span class="fu">:</span> <span class="st">&quot;~4.18.2&quot;</span><span class="fu">,</span></span>
<span id="cb356-14"><a href="Node-js.html#cb356-14" tabindex="-1"></a>    <span class="dt">&quot;hbs&quot;</span><span class="fu">:</span> <span class="st">&quot;~4.2.0&quot;</span></span>
<span id="cb356-15"><a href="Node-js.html#cb356-15" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb356-16"><a href="Node-js.html#cb356-16" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p>Poleg imen posameznih odvisnosti je navedena tudi številka verzije paketa, ki ga aplikacija potrebuje. Opazimo lahko, da imajo vse vrednosti predpono <code>~</code>. Če si npr. podrobneje ogledamo opredelitev odvisnosti paketa <code>"express": "~4.18.2"</code>, je verzija navedena na treh ravneh:</p>
<ul>
<li>glavna verzija (<code>4</code>),</li>
<li>manjša verzija (<code>18</code>),</li>
<li>verzija popravka (<code>2</code>).</li>
</ul>
<p>Če pred vrednostjo verzije vključimo <strong>predpono <code>~</code></strong>, to pomeni, da naj naša aplikacija uporabi <strong>zadnjo verzijo popravka</strong>, ki je na voljo. Pred vrednostjo verzije lahko vključimo tudi <strong>predpono <code>^</code></strong>, kar pomeni, da naj naša aplikacija uporabi <strong>zadnje manjše verzije in verzije popravka</strong>. Če želimo vedno uporabiti <strong>zadnjo verzijo</strong>, uporabimo <strong><code>*</code></strong>.</p>
<blockquote>
<p>Pri opredelitvi odvisnosti od verzij lahko uporabite še mnogo drugih načinov, ki so opisani v <a href="https://docs.npmjs.com/files/package.json#dependencies"><i class="fa-solid fa-earth-europe"></i><strong>dokumentaciji</strong></a>.</p>
</blockquote>
</div>
<div id="nameščanje-odvisnosti-z-npm" class="section level4 hasAnchor" number="5.2.1.2">
<h4><span class="header-section-number">5.2.1.2</span> Nameščanje odvisnosti z <code>npm</code><a href="Node-js.html#nameščanje-odvisnosti-z-npm" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Vsaka Node.js aplikacija ima lahko odvisnosti opredeljene v datoteki <code>package.json</code>. Nameščanje je zelo preprosto, saj zgolj poženemo naslednji ukaz:</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb357-1"><a href="Node-js.html#cb357-1" tabindex="-1"></a><span class="ex">$</span> npm install</span></code></pre></div>
<p>S tem ukazom namestimo vse odvisnosti, ki so navedene v datoteki <code>package.json</code>. Če knjižnica že obstaja, <a href="https://www.npmjs.com/"><i class="fa-brands fa-node-js"></i><code>npm</code></a> preveri, ali je nameščena zadnja verzija popravka (če uporabljamo predpono <code>~</code>). Ko poženemo omenjeni ukaz, se vse odvisnosti iz spleta povlečejo v podmapo <a href="https://docs.npmjs.com/cli/v8/configuring-npm/folders"><i class="fa-brands fa-node-js"></i><code>node_modules</code></a> na lokalnem računalniku, kot to prikazuje slika <a href="Node-js.html#fig:slika-Npm-moduli-v-package-json">5.4</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:slika-Npm-moduli-v-package-json"></span>
<img src="assets/img/npm_moduli_v_package_json.png" alt="`npm` moduli so opredeljeni v datoteki `package.json` in so nameščeni v podmapo `node_modules`, znotraj aplikacije, z zagonom ukaza `npm install` iz ukazne vrstice" width="500" />
<p class="caption">
Slika 5.4: <code>npm</code> moduli so opredeljeni v datoteki <code>package.json</code> in so nameščeni v podmapo <code>node_modules</code>, znotraj aplikacije, z zagonom ukaza <code>npm install</code> iz ukazne vrstice
</p>
</div>
<p>Če želimo namestiti nov paket v okviru obstoječega programa in njegovo odvisnost vključiti v <code>package.json</code> datoteko, lahko preprosto izvedemo naslednji ukaz:</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb358-1"><a href="Node-js.html#cb358-1" tabindex="-1"></a><span class="ex">$</span> npm install <span class="at">--save</span> ime-paketa</span></code></pre></div>
<blockquote>
<p><strong>Opomba</strong>: Zastavico <code>--save</code> lahko izpustite, saj <code>npm</code> privzeto vse nameščene knjižnice shrani kot odvisnosti v <code>package.json</code>. Lahko pa uporabite zastavico <code>--save-dev</code>, ki knjižnice shrani zgolj med razvojne odvisnosti.</p>
</blockquote>
</div>
</div>
<div id="kreiranje-projekta-express" class="section level3 hasAnchor" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Kreiranje projekta Express<a href="Node-js.html#kreiranje-projekta-express" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Za začetek razvoja aplikacije s skladom tehnologij MEAN bomo potrebovali naslednja ključna orodja:</p>
<ul>
<li><a href="https://nodejs.org/en/"><i class="fa-brands fa-node-js"></i><strong>Node.js</strong></a> in <a href="https://www.npmjs.com/"><i class="fa-brands fa-node-js"></i><strong><code>npm</code></strong></a>,</li>
<li><a href="https://git-scm.com/"><i class="fa-brands fa-git-alt"></i><strong>Git</strong></a> in</li>
<li>terminal.</li>
</ul>
<div id="namestitev-okolja" class="section level4 hasAnchor" number="5.2.2.1">
<h4><span class="header-section-number">5.2.2.1</span> Namestitev okolja<a href="Node-js.html#namestitev-okolja" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Če ste si namestili razvojno okolje <a href="https://nodejs.org/en/download/"><i class="fa-brands fa-node-js"></i>Node.js</a>, potem je podpora za <a href="https://www.npmjs.com/"><i class="fa-brands fa-node-js"></i><code>npm</code></a> že na voljo. Z naslednjimi ukazi lahko preverite, ali so omenjena okolja nameščena in delujejo (verzije posameznih orodij so lahko enake ali novejše):</p>
<div class="sourceCode" id="cb359"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb359-1"><a href="Node-js.html#cb359-1" tabindex="-1"></a><span class="ex">$</span> node <span class="at">--version</span></span>
<span id="cb359-2"><a href="Node-js.html#cb359-2" tabindex="-1"></a><span class="ex">v18.17.1</span></span>
<span id="cb359-3"><a href="Node-js.html#cb359-3" tabindex="-1"></a><span class="ex">$</span> npm <span class="at">--version</span></span>
<span id="cb359-4"><a href="Node-js.html#cb359-4" tabindex="-1"></a><span class="ex">10.0.0</span></span></code></pre></div>
<blockquote>
<p>Pri razvoju vedno uporabljajte sodo številko zadnje LTS<a href="Node-js.html#fn123" class="footnote-ref" id="fnref123"><sup>123</sup></a> verzije (npr. <code>16.x.x</code>) okolja Node.js. Za lažje obvladovanje verzij lahko uporabite orodje <strong>Node Version Manager</strong> <a href="https://github.com/nvm-sh/nvm"><i class="fa-brands fa-github"></i><code>nvm</code></a>, kjer preprosto z ukazom <code>nvm install --lts --latest-npm</code> namestite zadnjo LTS verzijo okolja Node.js in zadnjo verzijo orodja <code>npm</code>.</p>
</blockquote>
<script>
  $(document).ready(function() {
    $("#namestitev-okolja pre.bash").markRegExp(/(node|npm|express) --version/, options_dodaj);
  });
</script>
</div>
<div id="kreiranje-mape-projekta-in-konfiguracija-express-namestitve" class="section level4 hasAnchor" number="5.2.2.2">
<h4><span class="header-section-number">5.2.2.2</span> Kreiranje mape projekta in konfiguracija Express namestitve<a href="Node-js.html#kreiranje-mape-projekta-in-konfiguracija-express-namestitve" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Najprej kreiramo mapo <code>Demo</code>, kjer se bo nahajal naš projekt.</p>
<div class="sourceCode" id="cb360"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb360-1"><a href="Node-js.html#cb360-1" tabindex="-1"></a><span class="ex">$</span> mkdir Demo</span>
<span id="cb360-2"><a href="Node-js.html#cb360-2" tabindex="-1"></a><span class="ex">$</span> cd Demo</span></code></pre></div>
<script>
  $(document).ready(function() {
    $("#kreiranje-mape-projekta-in-konfiguracija-express-namestitve pre.bash").markRegExp(/(mkdir|cd).+/, options_dodaj);
  });
</script>
<div id="predloge-handlebars" class="section level5 hasAnchor" number="5.2.2.2.1">
<h5><span class="header-section-number">5.2.2.2.1</span> Predloge Handlebars<a href="Node-js.html#predloge-handlebars" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Pri našem projektu bomo za generiranje spletnih strani na strežniku uporabljali <a href="https://handlebarsjs.com/"><i class="fa-brands fa-html5"></i><strong>predloge Handlebars</strong></a>. Gre za regularne HTML dokumente z vgrajenimi Handlebars <code>{{...}}</code> izrazi, ki se ob zahtevi odjemalca najprej obdelajo na strežniku in odjemalcu vrnejo HTML stran.</p>
<p>Handlebars izraz se začne z znakoma <code>{{</code>, potem sledi vsebina in se zaključi z znakoma <code>}}</code>. Primer Handlebars predloge je prikazan v nadaljevanju, kjer predloga pričakuje spremenljivki <code>vzdevek</code> in <code>avatar</code>.</p>
<div class="sourceCode" id="cb361"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb361-1"><a href="Node-js.html#cb361-1" tabindex="-1"></a>{{{avatar}}}</span>
<span id="cb361-2"><a href="Node-js.html#cb361-2" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">h1</span><span class="dt">&gt;</span>Pozdravljen {{vzdevek}}!<span class="dt">&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span></span></code></pre></div>
<p>Če sta vrednosti spremenljivk nastavljeni na <code>avatar = '&lt;img src="https://www.krneki.org/slika.png"&gt;'</code> in <code>vzdevek = 'Janez'</code>, se predloga prevede v naslednji HTML dokument.</p>
<div class="sourceCode" id="cb362"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb362-1"><a href="Node-js.html#cb362-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">img</span><span class="ot"> src</span><span class="op">=</span><span class="st">&quot;https://www.krneki.org/slika.png&quot;</span><span class="dt">&gt;</span></span>
<span id="cb362-2"><a href="Node-js.html#cb362-2" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">h1</span><span class="dt">&gt;</span>Pozdravljen Janez!<span class="dt">&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span></span></code></pre></div>
<p>Na tem mestu velja omeniti razliko med izrazom z dvojnima zavitima oklepajema <code>{{...}}</code>, ki se izvede in trojnimi zavitimi oklepaji <code>{{{...}}}</code>, ki neposredno vključi HTML kodo. Podrobnosti in uporabo dodatnih funkcij si bomo ogledali v nadaljevanju, neposredno na primerih.</p>
</div>
</div>
<div id="kreiranje-express-projekta-in-testiranje-delovanja" class="section level4 hasAnchor" number="5.2.2.3">
<h4><span class="header-section-number">5.2.2.3</span> Kreiranje Express projekta in testiranje delovanja<a href="Node-js.html#kreiranje-express-projekta-in-testiranje-delovanja" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Najprej bomo pripravil opis projekta in odvisnosti od knjižnic <a href="https://www.npmjs.com/package/express"><i class="fa-brands fa-node-js"></i><code>express</code></a> in <a href="https://www.npmjs.com/package/hbs"><i class="fa-brands fa-node-js"></i><code>hbs</code></a>, ki jih bomo potrebovali pri razvoju, v datoteki <code>package.json</code>.</p>
<p><code>package.json</code></p>
<div class="sourceCode" id="cb363"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb363-1"><a href="Node-js.html#cb363-1" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb363-2"><a href="Node-js.html#cb363-2" tabindex="-1"></a>  <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;demo&quot;</span><span class="fu">,</span></span>
<span id="cb363-3"><a href="Node-js.html#cb363-3" tabindex="-1"></a>  <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;Demo application for Web Programming course&quot;</span><span class="fu">,</span></span>
<span id="cb363-4"><a href="Node-js.html#cb363-4" tabindex="-1"></a>  <span class="dt">&quot;author&quot;</span><span class="fu">:</span> <span class="st">&quot;Dejan Lavbič &lt;dejan@lavbic.net&gt;&quot;</span><span class="fu">,</span></span>
<span id="cb363-5"><a href="Node-js.html#cb363-5" tabindex="-1"></a>  <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="st">&quot;0.1.0&quot;</span><span class="fu">,</span></span>
<span id="cb363-6"><a href="Node-js.html#cb363-6" tabindex="-1"></a>  <span class="dt">&quot;private&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb363-7"><a href="Node-js.html#cb363-7" tabindex="-1"></a>  <span class="dt">&quot;scripts&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb363-8"><a href="Node-js.html#cb363-8" tabindex="-1"></a>    <span class="dt">&quot;start&quot;</span><span class="fu">:</span> <span class="st">&quot;node server.js&quot;</span></span>
<span id="cb363-9"><a href="Node-js.html#cb363-9" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb363-10"><a href="Node-js.html#cb363-10" tabindex="-1"></a>  <span class="dt">&quot;dependencies&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb363-11"><a href="Node-js.html#cb363-11" tabindex="-1"></a>    <span class="dt">&quot;express&quot;</span><span class="fu">:</span> <span class="st">&quot;~4.18.2&quot;</span><span class="fu">,</span></span>
<span id="cb363-12"><a href="Node-js.html#cb363-12" tabindex="-1"></a>    <span class="dt">&quot;hbs&quot;</span><span class="fu">:</span> <span class="st">&quot;~4.2.0&quot;</span></span>
<span id="cb363-13"><a href="Node-js.html#cb363-13" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb363-14"><a href="Node-js.html#cb363-14" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p>Nato <strong>knjižnice namestimo</strong> z naslednjim ukazom:</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb364-1"><a href="Node-js.html#cb364-1" tabindex="-1"></a><span class="ex">$</span> npm install</span>
<span id="cb364-2"><a href="Node-js.html#cb364-2" tabindex="-1"></a></span>
<span id="cb364-3"><a href="Node-js.html#cb364-3" tabindex="-1"></a><span class="ex">added</span> 66 packages, and audited 67 packages in 4s</span>
<span id="cb364-4"><a href="Node-js.html#cb364-4" tabindex="-1"></a></span>
<span id="cb364-5"><a href="Node-js.html#cb364-5" tabindex="-1"></a><span class="ex">8</span> packages are looking for funding</span>
<span id="cb364-6"><a href="Node-js.html#cb364-6" tabindex="-1"></a>  <span class="ex">run</span> <span class="kw">`</span><span class="ex">npm</span> fund<span class="kw">`</span> for details</span>
<span id="cb364-7"><a href="Node-js.html#cb364-7" tabindex="-1"></a></span>
<span id="cb364-8"><a href="Node-js.html#cb364-8" tabindex="-1"></a><span class="ex">found</span> 0 vulnerabilities</span></code></pre></div>
<p>Rezultat omenjene akcije je nova datoteka <a href="https://docs.npmjs.com/cli/v8/configuring-npm/package-lock-json"><i class="fa-brands fa-node-js"></i><code>package-lock.json</code></a>, kjer je shranjeno celotno drevo odvisnosti knjižnic (tudi posredno odvisne knjižnice od prvotno zahtevanih) in mapa <a href="https://docs.npmjs.com/cli/v8/configuring-npm/folders"><i class="fa-brands fa-node-js"></i><code>node_modules</code></a>, kjer so nameščene vse zahtevane knjižnice in njihove odvisnosti.</p>
<p>V datoteki <code>package.json</code> smo opredelili tudi skripto <code>start</code>, ki ob zagonu <code>npm start</code> izvede ukaz <code>node server.js</code> in posledično požene naš strežnik. Strežnika še nismo opredelili, zato v nadaljevanju pripravimo vsebino datoteke <code>server.js</code>.</p>
<p><code>server.js</code></p>
<div class="sourceCode" id="cb365"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb365-1"><a href="Node-js.html#cb365-1" tabindex="-1"></a><span class="kw">const</span> express <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;express&quot;</span>)<span class="op">;</span></span>
<span id="cb365-2"><a href="Node-js.html#cb365-2" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb365-3"><a href="Node-js.html#cb365-3" tabindex="-1"></a><span class="co"> * Create server</span></span>
<span id="cb365-4"><a href="Node-js.html#cb365-4" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb365-5"><a href="Node-js.html#cb365-5" tabindex="-1"></a><span class="kw">const</span> port <span class="op">=</span> <span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">PORT</span> <span class="op">||</span> <span class="dv">3000</span><span class="op">;</span></span>
<span id="cb365-6"><a href="Node-js.html#cb365-6" tabindex="-1"></a><span class="kw">const</span> app <span class="op">=</span> <span class="fu">express</span>()<span class="op">;</span></span>
<span id="cb365-7"><a href="Node-js.html#cb365-7" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb365-8"><a href="Node-js.html#cb365-8" tabindex="-1"></a><span class="co"> * Default response</span></span>
<span id="cb365-9"><a href="Node-js.html#cb365-9" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb365-10"><a href="Node-js.html#cb365-10" tabindex="-1"></a>app<span class="op">.</span><span class="fu">get</span>(<span class="st">&quot;/&quot;</span><span class="op">,</span> (req<span class="op">,</span> res) <span class="kw">=&gt;</span> {</span>
<span id="cb365-11"><a href="Node-js.html#cb365-11" tabindex="-1"></a>  res<span class="op">.</span><span class="fu">send</span>(<span class="st">&quot;&lt;h1&gt;Welcome to Web Programming!&lt;/h1&gt;&quot;</span>)<span class="op">;</span></span>
<span id="cb365-12"><a href="Node-js.html#cb365-12" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb365-13"><a href="Node-js.html#cb365-13" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb365-14"><a href="Node-js.html#cb365-14" tabindex="-1"></a><span class="co"> * Start server</span></span>
<span id="cb365-15"><a href="Node-js.html#cb365-15" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb365-16"><a href="Node-js.html#cb365-16" tabindex="-1"></a>app<span class="op">.</span><span class="fu">listen</span>(port<span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb365-17"><a href="Node-js.html#cb365-17" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Demo app listening on port </span><span class="sc">${</span>port<span class="sc">}</span><span class="vs">!`</span>)<span class="op">;</span></span>
<span id="cb365-18"><a href="Node-js.html#cb365-18" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>Začetna strežniška aplikacija je zelo preprosta, zgolj z opredeljeno odvisnostjo od knjižnice <code>express</code>, opredelitev privzetih vrat, privzeto besedilo odziva ter zagon strežnika.</p>
<p>Strežnik nato poženemo z ukazom</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb366-1"><a href="Node-js.html#cb366-1" tabindex="-1"></a><span class="ex">$</span> npm start</span>
<span id="cb366-2"><a href="Node-js.html#cb366-2" tabindex="-1"></a></span>
<span id="cb366-3"><a href="Node-js.html#cb366-3" tabindex="-1"></a><span class="op">&gt;</span> demo@0.1.0 <span class="ex">start</span></span>
<span id="cb366-4"><a href="Node-js.html#cb366-4" tabindex="-1"></a><span class="op">&gt;</span> node <span class="ex">server.js</span></span>
<span id="cb366-5"><a href="Node-js.html#cb366-5" tabindex="-1"></a></span>
<span id="cb366-6"><a href="Node-js.html#cb366-6" tabindex="-1"></a><span class="ex">Demo</span> app listening on port 3000!</span></code></pre></div>
<p>Ko zahtevamo spletno stran na naslovu <code>http://localhost:3000</code>, se nam prikaže vnaprej opredeljen odziv <code>Welcome to Web Programming!</code>.</p>
<blockquote>
<p><strong>Opomba</strong>: Express aplikacija je na voljo na vratih <code>3000</code>, razen če nastavimo drugačno vrednost v okoljsko spremenljivko <code>PORT</code>.</p>
</blockquote>
<script>
  $(document).ready(function() {
    $("#kreiranje-express-projekta-in-testiranje-delovanja code:eq(3)").markRegExp(/.+/, options_dodaj);
    $("#kreiranje-express-projekta-in-testiranje-delovanja pre.json:eq(0)").markRegExp(/.+/, options_dodaj);
    $("#kreiranje-express-projekta-in-testiranje-delovanja pre.bash:eq(0)").markRegExp(/npm install/, options_dodaj);
    $("#kreiranje-express-projekta-in-testiranje-delovanja pre.javascript:eq(0)").markRegExp(/const.+/, options_dodaj);
    $("#kreiranje-express-projekta-in-testiranje-delovanja pre.bash:eq(1)").markRegExp(/npm start/, options_dodaj);
  });
</script>
</div>
<div id="ponovni-zagon-aplikacije" class="section level4 hasAnchor" number="5.2.2.4">
<h4><span class="header-section-number">5.2.2.4</span> Ponovni zagon aplikacije<a href="Node-js.html#ponovni-zagon-aplikacije" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Node.js aplikacija se pred zagonom prevede, zato ob spremembi aplikacijske kode med samim izvajanjem aplikacije spremembe ne bodo vidne, dokler Node procesa ne ustavimo in ponovno poženemo. Zavedati se moramo, da to velja zgolj za aplikacijsko kodo, vse ostale spremembe na statičnih datotekah, kot so predloge Handlebars, CSS datoteke in JavaScript na strani odjemalca, bodo vidne takoj.</p>
<p>Trenutni Node.js proces lahko ustavimo s kombinacijo tipk <code>CTRL</code> + <code>C</code> in ga nato z ukazom <code>npm start</code> ponovno poženemo. To sicer ni zelo zapleten postopek, vendar pri razvoju spletne aplikacije in ob nenehnih spremembah postane ta postopek moteč in odvečen. Zato bomo v našem primeru uporabili boljši pristop, ki je opisan v nadaljevanju.</p>
<div id="samodejni-ponovni-zagon-aplikacije-z-nodemon" class="section level5 hasAnchor" number="5.2.2.4.1">
<h5><span class="header-section-number">5.2.2.4.1</span> Samodejni ponovni zagon aplikacije z <code>nodemon</code><a href="Node-js.html#samodejni-ponovni-zagon-aplikacije-z-nodemon" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Uporabili bomo Node aplikacijo <a href="https://nodemon.io/"><i class="fa-brands fa-node-js"></i><code>nodemon</code></a>, ki predstavlja preprosto ovojnico okrog obstoječe Node aplikacije ter nenehno spremlja spremembe izvorne kode aplikacije.</p>
<p><code>nodemon</code> namestimo z ukazom</p>
<div class="sourceCode" id="cb367"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb367-1"><a href="Node-js.html#cb367-1" tabindex="-1"></a><span class="ex">$</span> npm install <span class="at">-g</span> nodemon</span>
<span id="cb367-2"><a href="Node-js.html#cb367-2" tabindex="-1"></a></span>
<span id="cb367-3"><a href="Node-js.html#cb367-3" tabindex="-1"></a><span class="ex">nodemon@3.0.1</span></span></code></pre></div>
<p>Prepričamo se, da aplikacija ni pognana v nobenem drugem procesu, ter da se nahajamo v mapi <code>Demo</code> in poženemo ukaz</p>
<div class="sourceCode" id="cb368"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb368-1"><a href="Node-js.html#cb368-1" tabindex="-1"></a><span class="ex">$</span> nodemon</span>
<span id="cb368-2"><a href="Node-js.html#cb368-2" tabindex="-1"></a></span>
<span id="cb368-3"><a href="Node-js.html#cb368-3" tabindex="-1"></a><span class="ex">[nodemon]</span> 3.0.1</span>
<span id="cb368-4"><a href="Node-js.html#cb368-4" tabindex="-1"></a><span class="ex">[nodemon]</span> to restart at any time, enter <span class="kw">`</span><span class="ex">rs</span><span class="kw">`</span></span>
<span id="cb368-5"><a href="Node-js.html#cb368-5" tabindex="-1"></a><span class="ex">[nodemon]</span> watching path<span class="er">(</span><span class="ex">s</span><span class="kw">)</span><span class="bu">:</span> <span class="pp">*</span>.<span class="pp">*</span></span>
<span id="cb368-6"><a href="Node-js.html#cb368-6" tabindex="-1"></a><span class="ex">[nodemon]</span> watching extensions: js,mjs,json</span>
<span id="cb368-7"><a href="Node-js.html#cb368-7" tabindex="-1"></a><span class="ex">[nodemon]</span> starting <span class="kw">`</span><span class="ex">node</span> server.js<span class="kw">`</span></span>
<span id="cb368-8"><a href="Node-js.html#cb368-8" tabindex="-1"></a><span class="ex">Demo</span> app listening on port 3000!</span></code></pre></div>
<blockquote>
<p><strong>Namig</strong>: <code>nodemon</code> se uporablja za poenostavitev razvojnega procesa v razvojnem okolju, medtem ko uporaba v produkcijskem okolju ni priporočljiva.</p>
</blockquote>
<blockquote>
<p>Pri zagonu aplikacije morate poskrbeti, da so zahtevana vrata (v našem primeru <code>3000</code>) na voljo in da tam ne posluša kakšen drug program ali že obstoječi primerek vašega programa.</p>
<p>Pri tem si lahko pomagate tudi s programom <code>npx kill-port 3000</code>, ki takšen program ustavi.</p>
</blockquote>
<script>
  $(document).ready(function() {
    $("#samodejni-ponovni-zagon-aplikacije-z-nodemon pre.sourceCode").markRegExp(/npm install -g nodemon/, options_dodaj);
    $("#samodejni-ponovni-zagon-aplikacije-z-nodemon pre.sourceCode").markRegExp(/ nodemon/, options_dodaj);
  });
</script>
</div>
</div>
<div id="dodajanje-podpore-za-jshint" class="section level4 hasAnchor" number="5.2.2.5">
<h4><span class="header-section-number">5.2.2.5</span> Dodajanje podpore za JSHint<a href="Node-js.html#dodajanje-podpore-za-jshint" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Za sprotno statično preverjanje izvorne kode, ki nas bo opozarjala na napake, bomo uporabili orodje <a href="https://jshint.com"><i class="fa-solid fa-earth-europe"></i><strong>JSHint</strong></a>, ki ga nastavimo preprosto z vključitvijo datoteke <code>.jshintrc</code> v repozitorij, medtem ko mora razvojno orodje podpirati funkcionalnost JSHint.</p>
<p><code>.jshintrc</code></p>
<div class="sourceCode" id="cb369"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb369-1"><a href="Node-js.html#cb369-1" tabindex="-1"></a>{</span>
<span id="cb369-2"><a href="Node-js.html#cb369-2" tabindex="-1"></a>  <span class="st">&quot;strict&quot;</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb369-3"><a href="Node-js.html#cb369-3" tabindex="-1"></a>  <span class="st">&quot;node&quot;</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb369-4"><a href="Node-js.html#cb369-4" tabindex="-1"></a>  <span class="st">&quot;browser&quot;</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb369-5"><a href="Node-js.html#cb369-5" tabindex="-1"></a>  <span class="st">&quot;esversion&quot;</span><span class="op">:</span> <span class="dv">11</span><span class="op">,</span></span>
<span id="cb369-6"><a href="Node-js.html#cb369-6" tabindex="-1"></a>  <span class="st">&quot;multistr&quot;</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb369-7"><a href="Node-js.html#cb369-7" tabindex="-1"></a>  <span class="st">&quot;sub&quot;</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb369-8"><a href="Node-js.html#cb369-8" tabindex="-1"></a>  <span class="st">&quot;globals&quot;</span><span class="op">:</span> {</span>
<span id="cb369-9"><a href="Node-js.html#cb369-9" tabindex="-1"></a>    <span class="st">&quot;module&quot;</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb369-10"><a href="Node-js.html#cb369-10" tabindex="-1"></a>    <span class="st">&quot;$&quot;</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb369-11"><a href="Node-js.html#cb369-11" tabindex="-1"></a>    <span class="st">&quot;formatPercentage&quot;</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb369-12"><a href="Node-js.html#cb369-12" tabindex="-1"></a>    <span class="st">&quot;formatFlag&quot;</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb369-13"><a href="Node-js.html#cb369-13" tabindex="-1"></a>    <span class="st">&quot;formatDateOnly&quot;</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb369-14"><a href="Node-js.html#cb369-14" tabindex="-1"></a>    <span class="st">&quot;formatCurrency&quot;</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb369-15"><a href="Node-js.html#cb369-15" tabindex="-1"></a>    <span class="st">&quot;formatNull&quot;</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb369-16"><a href="Node-js.html#cb369-16" tabindex="-1"></a>    <span class="st">&quot;moment&quot;</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb369-17"><a href="Node-js.html#cb369-17" tabindex="-1"></a>    <span class="st">&quot;indexArray&quot;</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb369-18"><a href="Node-js.html#cb369-18" tabindex="-1"></a>    <span class="st">&quot;getData&quot;</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb369-19"><a href="Node-js.html#cb369-19" tabindex="-1"></a>    <span class="st">&quot;round&quot;</span><span class="op">:</span> <span class="kw">false</span></span>
<span id="cb369-20"><a href="Node-js.html#cb369-20" tabindex="-1"></a>  }</span>
<span id="cb369-21"><a href="Node-js.html#cb369-21" tabindex="-1"></a>}</span></code></pre></div>
<script>
  $(document).ready(function() {
    $("#dodajanje-podpore-za-jshint code:eq(0)").markRegExp(/.*/, options_dodaj);
  });
</script>
</div>
<div id="priporočljivi-vtičniki-razvojnegao-kolja-visual-studio-code" class="section level4 hasAnchor" number="5.2.2.6">
<h4><span class="header-section-number">5.2.2.6</span> Priporočljivi vtičniki razvojnegao kolja Visual Studio Code<a href="Node-js.html#priporočljivi-vtičniki-razvojnegao-kolja-visual-studio-code" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Če boste razvijali v razvojnem okolju <a href="https://code.visualstudio.com/"><i class="fa-solid fa-earth-europe"></i>Visual Studio Code</a>, potem se priporoča uporaba naslednjih vtičnikov:</p>
<ul>
<li><a href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode"><i class="fa-solid fa-code"></i><strong>Prettier</strong> - Code formatter</a> pomaga pri doslednem uveljavljanju izbranega sloga programiranja, ki izvorno kodo preoblikuje tako, da upošteva pravila (npr. največja dolžina vrstice, deljenje po vrsticah, uporaba presledkov oz. tabulatorjev ipd.),</li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=SonarSource.sonarlint-vscode"><i class="fa-solid fa-code"></i><strong>SonarLint</strong></a> pomaga pri odkrivanje napake med razvojem in opozarja na napake, ki lahko vodijo do hroščev, ranljivosti in slabe kode,</li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=GitHub.copilot"><i class="fa-solid fa-code"></i><strong>GitHub Copilot</strong></a> za pridobivanje predlogov pri programiranju v realnem času, neposredno v razvojno okolje (potrebna je prijava na storitev <a href="https://github.com/features/copilot"><i class="fa-brands fa-github"></i>GitHub Copilot</a>).</li>
</ul>
</div>
</div>
</div>
<div id="gradnja-aplikacije-z-mvc" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Gradnja aplikacije z MVC<a href="Node-js.html#gradnja-aplikacije-z-mvc" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller"><i class="fa-brands fa-wikipedia-w"></i><strong>MVC</strong></a> (Model-View-Controller) arhitektura predstavlja delitev programa na <strong>podatke</strong> (model), <strong>pogled</strong> (view) in <strong>aplikacijsko logiko</strong> (controller). Takšna delitev poskuša odstraniti neposredne povezave med komponentami, kar lahko posledično olajša vzdrževanje in ponovno uporabnost izvorne kode. Takšna delitev tudi zelo ustreza našemu pristopu hitrega prototipiranja, saj se lahko naenkrat osredotočamo na posamezen vidik programa.</p>
<div id="kratek-pregled-mvc-arhitekture" class="section level3 hasAnchor" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> Kratek pregled MVC arhitekture<a href="Node-js.html#kratek-pregled-mvc-arhitekture" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Večina spletnih aplikacij, ki jih razvijamo, je načrtovanih tako, da na podlagi prejete zahteve izvedejo določeno procesiranje na strežniku in nato vrnejo odgovor. Če pogledamo poenostavljeno, je takšna zanka v MVC arhitekturi sestavljena iz naslednjih korakov (glej sliko <a href="Node-js.html#fig:slika-Zahteva-odgovor-MVC">5.5</a>):</p>
<ol style="list-style-type: decimal">
<li>prihod zahteve v aplikacijo,</li>
<li>zahteva je usmerjena na krmilnik,</li>
<li>krmilnik lahko posreduje zahtevo v model,</li>
<li>model odgovori krmilniku,</li>
<li>krmilnik posreduje odgovor pogledu in</li>
<li>pogled posreduje odgovor uporabniku.</li>
</ol>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:slika-Zahteva-odgovor-MVC"></span>
<img src="assets/img/Zahteva_odgovor_MVC.png" alt="Procesni tok zahteve in odgovora pri osnovni MVC arhitekturi" width="600" />
<p class="caption">
Slika 5.5: Procesni tok zahteve in odgovora pri osnovni MVC arhitekturi
</p>
</div>
</div>
<div id="kako-express-obdela-zahteve" class="section level3 hasAnchor" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> Kako Express obdela zahteve?<a href="Node-js.html#kako-express-obdela-zahteve" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Klasična začetna spletna stran, ki jo postreže Express strežnik, je ponavadi zelo enostavna. Vsebuje nekaj HTML kode, ki se zgenerira na strani strežnika, dodana je lahko tudi CSS datoteka, kjer je opredeljen uporabljen slog.</p>
<p>Vse zahteve na Express strežniku se najprej obdelajo na opredeljenih vmesnih slojih (npr. obdelava zahteve z vidika piškotov). Poleg ostalih vmesnih slojev je eden izmed njih tudi strežba statičnih datotek. Ko vmesni sloj identificira takšno datoteko, jo Express vrne na asinhron način, da ne blokira delovanja ostale logike spletne aplikacije. Ko Express obdela vse vmesne sloje, se začne v usmerjevalniku iskanje ujemanja zahteve. Na sliki <a href="Node-js.html#fig:slika-Express-procesiranje">5.6</a> so prikazane ključne interakcije in procesi, ki se izvedejo pri odgovoru ogrodja Express na zahtevo po začetni spletni strani.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:slika-Express-procesiranje"></span>
<img src="assets/img/Express_procesiranje.png" alt="Ključne interakcije in procesi, ki se izvedejo pri odgovoru ogrodja Express na zahtevo po začetni spletni strani. HTML spletno stran sprocesira Node, ki prevede podatke in predlogo pogleda, CSS datoteka pa je asinhrono vrnjena iz mape &quot;statične&quot; vsebine" width="650" />
<p class="caption">
Slika 5.6: Ključne interakcije in procesi, ki se izvedejo pri odgovoru ogrodja Express na zahtevo po začetni spletni strani. HTML spletno stran sprocesira Node, ki prevede podatke in predlogo pogleda, CSS datoteka pa je asinhrono vrnjena iz mape “statične” vsebine
</p>
</div>
</div>
<div id="gradnja-statične-aplikacije-z-node-in-express" class="section level3 hasAnchor" number="5.3.3">
<h3><span class="header-section-number">5.3.3</span> Gradnja statične aplikacije z Node in Express<a href="Node-js.html#gradnja-statične-aplikacije-z-node-in-express" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Naš cilj je sedaj implementacija statične spletne strani, ki navidezno deluje in kjer lahko uporabnik klika na povezave. Kar se tiče arhitekture, se bomo ukvarjali z aplikacijo, ki je prikazana na sliki <a href="Node-js.html#fig:slika-Express-in-Node-za-staticno-aplikacijo">5.7</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:slika-Express-in-Node-za-staticno-aplikacijo"></span>
<img src="assets/img/Express_in_Node_za_staticno_aplikacijo.png" alt="Uporaba Express in Node pri gradnji statične spletne strani za testiranje pogledov" width="500" />
<p class="caption">
Slika 5.7: Uporaba Express in Node pri gradnji statične spletne strani za testiranje pogledov
</p>
</div>
</div>
<div id="prilagoditev-ogrodja-express-za-mvc" class="section level3 hasAnchor" number="5.3.4">
<h3><span class="header-section-number">5.3.4</span> Prilagoditev ogrodja Express za MVC<a href="Node-js.html#prilagoditev-ogrodja-express-za-mvc" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Na strani strežnika bomo uporabili pristop MVC, kjer bodo funkcionalnosti opredeljene v novi mapi <code>hbs</code> s posameznimi komponentami, organiziranimi v podmapah <code>controllers</code>, <code>routes</code> in <code>views</code>, kot je prikazano spodaj.</p>
<ul style="list-style-type: none;">
<li>
<dodaj><i class="fa-regular fa-folder-open"></i> <b>hbs</b></dodaj>
<ul style="list-style-type: none;">
<li>
<dodaj><i class="fa-regular fa-folder-open"></i> <b>controllers</b></dodaj>
<ul style="list-style-type: none;">
<li>
<dodaj><i class="fa-brands fa-js"></i> index.js</dodaj>
</li>
</ul>
</li>
<li>
<dodaj><i class="fa-regular fa-folder-open"></i> <b>routes</b></dodaj>
<ul style="list-style-type: none;">
<li>
<dodaj><i class="fa-brands fa-js"></i> hbs.js</dodaj>
</li>
</ul>
</li>
<li>
<dodaj><i class="fa-regular fa-folder-open"></i> <b>views</b></dodaj>
<ul style="list-style-type: none;">
<li>
<dodaj><i class="fa-brands fa-html5"></i> index.hbs</dodaj>
</li>
</ul>
</li>
</ul>
</li>
<li>
…
</li>
<li>
<i class="fa-brands fa-js"></i> server.js
</li>
</ul>
<p>Najprej bomo opredelili pogled v <code>index.hbs</code>, ki ima pričakuje vhodni parameter <code>title</code> te ga zgolj prikaže kot naslov in temu doda enostavno besedilo.</p>
<p><code>hbs/views/index.hbs</code></p>
<div class="sourceCode" id="cb370"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb370-1"><a href="Node-js.html#cb370-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">h1</span><span class="dt">&gt;</span>{{title}}<span class="dt">&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span></span>
<span id="cb370-2"><a href="Node-js.html#cb370-2" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span>Welcome to <span class="dt">&lt;</span><span class="kw">b</span><span class="dt">&gt;</span>{{title}}<span class="dt">&lt;/</span><span class="kw">b</span><span class="dt">&gt;&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span></code></pre></div>
<p>Strežnik v datoteki <code>server.js</code> je treba nastaviti za delo s <strong>pogledi</strong>, in sicer opredelimo mapo <code>hbs/views</code>, kjer se pogledi nahajajo ter registriramo izvajalno okolje <code>hbs</code>, ki skrbi za generiranje pogledov na strani strežnika.</p>
<p>Usmeranje uporabniških zahtev je trenutno zelo poenostavljeno, saj vedno vrnemo isti odgovor, tj. <code>Welcome to Web Programming!</code>. To funkcionalnost preslikovalne tabele bomo predali naprej <strong>usmerjevalniku</strong>, ki bo implementiran v <code>hbs/routes/hbs.js</code>.</p>
<p><code>server.js</code></p>
<div class="sourceCode" id="cb371"><pre class="sourceCode javascript rocno"><code class="sourceCode javascript"><span id="cb371-1"><a href="Node-js.html#cb371-1" tabindex="-1"></a><span class="kw">const</span> express <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;express&quot;</span>)<span class="op">;</span></span>
<span id="cb371-2"><a href="Node-js.html#cb371-2" tabindex="-1"></a><span class="kw">const</span> path <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;path&quot;</span>)<span class="op">;</span></span>
<span id="cb371-3"><a href="Node-js.html#cb371-3" tabindex="-1"></a><span class="kw">const</span> hbsRouter <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;./hbs/routes/hbs&quot;</span>)<span class="op">;</span></span>
<span id="cb371-4"><a href="Node-js.html#cb371-4" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb371-5"><a href="Node-js.html#cb371-5" tabindex="-1"></a><span class="co"> * Create server</span></span>
<span id="cb371-6"><a href="Node-js.html#cb371-6" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb371-7"><a href="Node-js.html#cb371-7" tabindex="-1"></a><span class="kw">const</span> port <span class="op">=</span> <span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">PORT</span> <span class="op">||</span> <span class="dv">3000</span><span class="op">;</span></span>
<span id="cb371-8"><a href="Node-js.html#cb371-8" tabindex="-1"></a><span class="kw">const</span> app <span class="op">=</span> <span class="fu">express</span>()<span class="op">;</span></span>
<span id="cb371-9"><a href="Node-js.html#cb371-9" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb371-10"><a href="Node-js.html#cb371-10" tabindex="-1"></a><span class="co"> * View engine (HBS) setup</span></span>
<span id="cb371-11"><a href="Node-js.html#cb371-11" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb371-12"><a href="Node-js.html#cb371-12" tabindex="-1"></a>app<span class="op">.</span><span class="fu">set</span>(<span class="st">&quot;views&quot;</span><span class="op">,</span> path<span class="op">.</span><span class="fu">join</span>(<span class="bu">__dirname</span><span class="op">,</span> <span class="st">&quot;hbs&quot;</span><span class="op">,</span> <span class="st">&quot;views&quot;</span>))<span class="op">;</span></span>
<span id="cb371-13"><a href="Node-js.html#cb371-13" tabindex="-1"></a>app<span class="op">.</span><span class="fu">set</span>(<span class="st">&quot;view engine&quot;</span><span class="op">,</span> <span class="st">&quot;hbs&quot;</span>)<span class="op">;</span></span>
<span id="cb371-14"><a href="Node-js.html#cb371-14" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb371-15"><a href="Node-js.html#cb371-15" tabindex="-1"></a><span class="co"> * HBS routing</span></span>
<span id="cb371-16"><a href="Node-js.html#cb371-16" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb371-17"><a href="Node-js.html#cb371-17" tabindex="-1"></a>app<span class="op">.</span><span class="fu">use</span>(<span class="st">&quot;/&quot;</span><span class="op">,</span> hbsRouter)<span class="op">;</span></span>
<span id="cb371-18"><a href="Node-js.html#cb371-18" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb371-19"><a href="Node-js.html#cb371-19" tabindex="-1"></a><span class="co"> * Default response</span></span>
<span id="cb371-20"><a href="Node-js.html#cb371-20" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb371-21"><a href="Node-js.html#cb371-21" tabindex="-1"></a>app<span class="op">.</span><span class="fu">get</span>(<span class="st">&quot;/&quot;</span><span class="op">,</span> (req<span class="op">,</span> res) <span class="kw">=&gt;</span> {</span>
<span id="cb371-22"><a href="Node-js.html#cb371-22" tabindex="-1"></a>  res<span class="op">.</span><span class="fu">send</span>(<span class="st">&quot;&lt;h1&gt;Welcome to Web Programming!&lt;/h1&gt;&quot;</span>)<span class="op">;</span></span>
<span id="cb371-23"><a href="Node-js.html#cb371-23" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb371-24"><a href="Node-js.html#cb371-24" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb371-25"><a href="Node-js.html#cb371-25" tabindex="-1"></a><span class="co"> * Start server</span></span>
<span id="cb371-26"><a href="Node-js.html#cb371-26" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb371-27"><a href="Node-js.html#cb371-27" tabindex="-1"></a>app<span class="op">.</span><span class="fu">listen</span>(port<span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb371-28"><a href="Node-js.html#cb371-28" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Demo app listening on port </span><span class="sc">${</span>port<span class="sc">}</span><span class="vs">!`</span>)<span class="op">;</span></span>
<span id="cb371-29"><a href="Node-js.html#cb371-29" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>Pomembno je, da v <strong>usmerjevalniku</strong> ne vključujemo dejanske logike, ki se izvede ob obdelavi zahteve, ampak je na tem mestu opredeljena zgolj <strong>preslikovalna tabela med zahtevo uporabnika in metodo krmilnika</strong>, ki naj zahtevo obdela. Usmerjevalnik je tako nov modul, opredeljen v datoteki <code>hbs.js</code>, ki vrača nastavitve v objektu <code>router</code>.</p>
<p><code>hbs/routes/hbs.js</code></p>
<div class="sourceCode" id="cb372"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb372-1"><a href="Node-js.html#cb372-1" tabindex="-1"></a><span class="kw">const</span> express <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;express&quot;</span>)<span class="op">;</span></span>
<span id="cb372-2"><a href="Node-js.html#cb372-2" tabindex="-1"></a><span class="kw">const</span> router <span class="op">=</span> express<span class="op">.</span><span class="fu">Router</span>()<span class="op">;</span></span>
<span id="cb372-3"><a href="Node-js.html#cb372-3" tabindex="-1"></a><span class="kw">const</span> ctrlMain <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;../controllers/main&quot;</span>)<span class="op">;</span></span>
<span id="cb372-4"><a href="Node-js.html#cb372-4" tabindex="-1"></a>router<span class="op">.</span><span class="fu">get</span>(<span class="st">&quot;/&quot;</span><span class="op">,</span> ctrlMain<span class="op">.</span><span class="at">main</span>)<span class="op">;</span></span>
<span id="cb372-5"><a href="Node-js.html#cb372-5" tabindex="-1"></a>module<span class="op">.</span><span class="at">exports</span> <span class="op">=</span> router<span class="op">;</span></span></code></pre></div>
<p>Sedaj manjka še <strong>krmilnik</strong> <code>main.js</code>, ki dejansko <strong>obdela uporabniško zahtevo</strong>, kar v našem primeru pomeni <strong>klic pogleda</strong> <code>index.hbs</code> s parametrom <code>title</code> nastavljenim na vrednost <code>Welcome to Web Programming!</code>.</p>
<p><code>hbs/controllers/main.js</code></p>
<div class="sourceCode" id="cb373"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb373-1"><a href="Node-js.html#cb373-1" tabindex="-1"></a><span class="kw">const</span> main <span class="op">=</span> (req<span class="op">,</span> res) <span class="kw">=&gt;</span> {</span>
<span id="cb373-2"><a href="Node-js.html#cb373-2" tabindex="-1"></a>  res<span class="op">.</span><span class="fu">render</span>(<span class="st">&quot;index&quot;</span><span class="op">,</span> { <span class="dt">title</span><span class="op">:</span> <span class="st">&quot;Welcome to Web Programming!&quot;</span> })<span class="op">;</span></span>
<span id="cb373-3"><a href="Node-js.html#cb373-3" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb373-4"><a href="Node-js.html#cb373-4" tabindex="-1"></a>module<span class="op">.</span><span class="at">exports</span> <span class="op">=</span> {</span>
<span id="cb373-5"><a href="Node-js.html#cb373-5" tabindex="-1"></a>  main<span class="op">,</span></span>
<span id="cb373-6"><a href="Node-js.html#cb373-6" tabindex="-1"></a>}<span class="op">;</span></span></code></pre></div>
<p>Do tega trenutka smo vzpostavili arhitekturo, ki je prikazana na sliki <a href="Node-js.html#fig:slika-Locitev-logike-krmilnika-in-usmerjevalnika">5.8</a>, kjer v datoteki <code>server.js</code> zahtevamo <code>routes/hbs.js</code>, ki nato zahteva še <code>controllers/main.js</code>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:slika-Locitev-logike-krmilnika-in-usmerjevalnika"></span>
<img src="assets/img/Locitev_logike_krmilnika_in_usmerjevalnika.png" alt="Ločitev logike krmilnika in usmerjevalnika" width="450" />
<p class="caption">
Slika 5.8: Ločitev logike krmilnika in usmerjevalnika
</p>
</div>
<script>
  $(document).ready(function() {
    $("#prilagoditev-ogrodja-express-za-mvc code:eq(6)").markRegExp(/index\.hbs/, options_dodaj);
    $("#prilagoditev-ogrodja-express-za-mvc code:eq(17)").markRegExp(/hbs\.js/, options_dodaj);
    $("#prilagoditev-ogrodja-express-za-mvc code:eq(23)").markRegExp(/main\.js/, options_dodaj);
    $("#prilagoditev-ogrodja-express-za-mvc pre.javascript:eq(0)").markRegExp(/const path.+/, options_dodaj);
    $("#prilagoditev-ogrodja-express-za-mvc pre.javascript:eq(0)").markRegExp(/const hbsRouter.+/, options_dodaj);
    $("#prilagoditev-ogrodja-express-za-mvc pre.javascript:eq(0)").markRegExp(/app\.(set|use).+/, options_dodaj);
    $("#prilagoditev-ogrodja-express-za-mvc pre.javascript:eq(0)").markRegExp(/app\.get[\s\S]+?}\);/, options_izbrisi);
    $("#prilagoditev-ogrodja-express-za-mvc pre.javascript:eq(1)").markRegExp(/.+/, options_dodaj);
  });
</script>
</div>
<div id="dodajanje-zunanjih-knjižnic-za-prilagoditev-izgleda-strani" class="section level3 hasAnchor" number="5.3.5">
<h3><span class="header-section-number">5.3.5</span> Dodajanje zunanjih knjižnic za prilagoditev izgleda strani<a href="Node-js.html#dodajanje-zunanjih-knjižnic-za-prilagoditev-izgleda-strani" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Naša aplikacija bo uporabljala Bootstrap ogrodje za lažji razvoj prilagodljive spletne aplikacije, dodatno pa jo bomo prilagodili še z uporabo teme.</p>
<p>CSS stile in podporno JavaScript knjižnico ogrodja <a href="https://getbootstrap.com/"><i class="fa-solid fa-earth-europe"></i><strong>Bootstrap</strong></a>, ter ikone <a href="https://fontawesome.com/"><i class="fa-solid fa-earth-europe"></i><strong>Font Awesome</strong></a> bomo uporabljali neposredno preko uvoženih datotek v našem projektu, da ne bomo odvisni od zunanjih virov (v okviru predavanja <span class="sklop1">P1.2</span> smo uporabili gostovanje CDN). Za prilagoditev izgleda bomo uporabili temo <a href="https://bootswatch.com/sandstone/"><i class="fa-solid fa-earth-europe"></i><strong>Sandstone</strong></a> na strani <a href="https://bootswatch.com/"><i class="fa-solid fa-earth-europe"></i>Bootswatch</a>, ki nadgradi Bootstrap s celovito spremenjenim izgledom. Prav tako pa bomo za naslove dodali tudi pisavo <a href="https://fonts.google.com/specimen/Black+Ops+One"><i class="fa-brands fa-fonticons-fi"></i><strong>Black Ops One</strong></a> ter ikono spletne strani <code>favicon.ico</code>.</p>
<p>Omenjeno dodatno gradivo bomo hranili v mapi <code>public</code>, zato moramo strežniku sporočiti naj vse datoteke v tej mapi postreže kot statično vsebino.</p>
<p><code>server.js</code></p>
<div class="sourceCode" id="cb374"><pre class="sourceCode javascript rocno rocnoStatic"><code class="sourceCode javascript"><span id="cb374-1"><a href="Node-js.html#cb374-1" tabindex="-1"></a><span class="kw">const</span> express <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;express&quot;</span>)<span class="op">;</span></span>
<span id="cb374-2"><a href="Node-js.html#cb374-2" tabindex="-1"></a><span class="kw">const</span> path <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;path&quot;</span>)<span class="op">;</span></span>
<span id="cb374-3"><a href="Node-js.html#cb374-3" tabindex="-1"></a><span class="kw">const</span> hbsRouter <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;./hbs/routes/hbs&quot;</span>)<span class="op">;</span></span>
<span id="cb374-4"><a href="Node-js.html#cb374-4" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb374-5"><a href="Node-js.html#cb374-5" tabindex="-1"></a><span class="co"> * Create server</span></span>
<span id="cb374-6"><a href="Node-js.html#cb374-6" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb374-7"><a href="Node-js.html#cb374-7" tabindex="-1"></a><span class="kw">const</span> port <span class="op">=</span> <span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">PORT</span> <span class="op">||</span> <span class="dv">3000</span><span class="op">;</span></span>
<span id="cb374-8"><a href="Node-js.html#cb374-8" tabindex="-1"></a><span class="kw">const</span> app <span class="op">=</span> <span class="fu">express</span>()<span class="op">;</span></span>
<span id="cb374-9"><a href="Node-js.html#cb374-9" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb374-10"><a href="Node-js.html#cb374-10" tabindex="-1"></a><span class="co"> * Static pages</span></span>
<span id="cb374-11"><a href="Node-js.html#cb374-11" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb374-12"><a href="Node-js.html#cb374-12" tabindex="-1"></a>app<span class="op">.</span><span class="fu">use</span>(express<span class="op">.</span><span class="fu">static</span>(path<span class="op">.</span><span class="fu">join</span>(<span class="bu">__dirname</span><span class="op">,</span> <span class="st">&quot;public&quot;</span>)))<span class="op">;</span></span>
<span id="cb374-13"><a href="Node-js.html#cb374-13" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb374-14"><a href="Node-js.html#cb374-14" tabindex="-1"></a><span class="co"> * View engine (HBS) setup</span></span>
<span id="cb374-15"><a href="Node-js.html#cb374-15" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb374-16"><a href="Node-js.html#cb374-16" tabindex="-1"></a>app<span class="op">.</span><span class="fu">set</span>(<span class="st">&quot;views&quot;</span><span class="op">,</span> path<span class="op">.</span><span class="fu">join</span>(<span class="bu">__dirname</span><span class="op">,</span> <span class="st">&quot;hbs&quot;</span><span class="op">,</span> <span class="st">&quot;views&quot;</span>))<span class="op">;</span></span>
<span id="cb374-17"><a href="Node-js.html#cb374-17" tabindex="-1"></a>app<span class="op">.</span><span class="fu">set</span>(<span class="st">&quot;view engine&quot;</span><span class="op">,</span> <span class="st">&quot;hbs&quot;</span>)<span class="op">;</span></span>
<span id="cb374-18"><a href="Node-js.html#cb374-18" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb374-19"><a href="Node-js.html#cb374-19" tabindex="-1"></a><span class="co"> * HBS routing</span></span>
<span id="cb374-20"><a href="Node-js.html#cb374-20" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb374-21"><a href="Node-js.html#cb374-21" tabindex="-1"></a>app<span class="op">.</span><span class="fu">use</span>(<span class="st">&quot;/&quot;</span><span class="op">,</span> hbsRouter)<span class="op">;</span></span>
<span id="cb374-22"><a href="Node-js.html#cb374-22" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb374-23"><a href="Node-js.html#cb374-23" tabindex="-1"></a><span class="co"> * Start server</span></span>
<span id="cb374-24"><a href="Node-js.html#cb374-24" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb374-25"><a href="Node-js.html#cb374-25" tabindex="-1"></a>app<span class="op">.</span><span class="fu">listen</span>(port<span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb374-26"><a href="Node-js.html#cb374-26" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Demo app listening on port </span><span class="sc">${</span>port<span class="sc">}</span><span class="vs">!`</span>)<span class="op">;</span></span>
<span id="cb374-27"><a href="Node-js.html#cb374-27" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>Statično gradivo v mapi <code>public</code> nadalje organiziramo v podmape <code>javascript</code>, <code>styles</code> in <code>webfonts</code>, kot je prikazano spodaj.</p>
<ul style="list-style-type: none;">
<li>
<dodaj><i class="fa-regular fa-folder-open"></i> <b>public</b></dodaj>
<ul style="list-style-type: none;">
<li>
<dodaj><i class="fa-regular fa-folder-open"></i> <b>javascript</b></dodaj>
<ul style="list-style-type: none;">
<li>
<dodaj><i class="fa-brands fa-js"></i> bootstrap.bundle.min.js</dodaj> ← podporna JavaScript koda za <a href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/"><i class="fa-brands fa-bootstrap"></i>Bootstrap</a>
</li>
<li>
<dodaj><i class="fa-brands fa-js"></i> bootstrap.bundle.min.js.map</dodaj> ← kazalci na izvorno kodo za zgornjo datoteko
</li>
</ul>
</li>
<li>
<dodaj><i class="fa-regular fa-folder-open"></i> <b>styles</b></dodaj>
<ul style="list-style-type: none;">
<li>
<dodaj><i class="fa-brands fa-css3"></i> bootstrap.sandstone.min.css</dodaj> ← <a href="https://github.com/thomaspark/bootswatch/tree/v5/dist/sandstone"><i class="fa-brands fa-bootstrap"></i>Sandstone</a> prilagoditev Bootstrap ogrodja
</li>
<li>
<dodaj><i class="fa-brands fa-css3"></i> fa.all.min.css</dodaj> ← stilske predloge za ikone <a href="https://cdnjs.com/libraries/font-awesome"><i class="fa-brands fa-fonticons-fi"></i>Font Awesome</a>
</li>
<li>
<dodaj><i class="fa-brands fa-css3"></i> style.css</dodaj> ← lastne stilske prilagoditve
</li>
</ul>
</li>
<li>
<dodaj><i class="fa-regular fa-folder-open"></i> <b>webfonts</b></dodaj>
<ul style="list-style-type: none;">
<li>
<dodaj><i class="fa-brands fa-fonticons-fi"></i> BlackOpsOneLatin.woff2</dodaj> ← Google Fonts pisava <a href="https://fonts.google.com/specimen/Black+Ops+One"><i class="fa-brands fa-fonticons-fi"></i>Blacks Ops One</a> (Latin)
</li>
<li>
<dodaj><i class="fa-brands fa-fonticons-fi"></i> BlackOpsOneLatinExt.woff2</dodaj> ← Google Fonts pisava <a href="https://fonts.google.com/specimen/Black+Ops+One"><i class="fa-brands fa-fonticons-fi"></i>Blacks Ops One</a> (Latin Extended)
</li>
<li>
<dodaj><i class="fa-brands fa-fonticons-fi"></i> fa-regular-400.ttf</dodaj> ← Font Awesome pisava (Regular 400)
</li>
<li>
<dodaj><i class="fa-brands fa-fonticons-fi"></i> fa-solid-900.woff2</dodaj> ← Font Awesome pisava (Solid 900)
</li>
<li>
<dodaj><i class="fa-brands fa-fonticons-fi"></i> fa-brands-400.ttf</dodaj> ← Font Awesome pisava (Brands 400)
</li>
<li>
<dodaj><i class="fa-brands fa-fonticons-fi"></i> fa-regular-400.woff2</dodaj> ← Font Awesome pisava (Regular 400)
</li>
<li>
<dodaj><i class="fa-brands fa-fonticons-fi"></i> fa-v4compatibility.ttf</dodaj> ← Font Awesome pisava (združljivost za nazaj)
</li>
<li>
<dodaj><i class="fa-brands fa-fonticons-fi"></i> fa-brands-400.woff2</dodaj> ← Font Awesome pisava (Brands 400)
</li>
<li>
<dodaj><i class="fa-brands fa-fonticons-fi"></i> fa-solid-900.ttf</dodaj> ← Font Awesome pisava (Solid 900)
</li>
<li>
<dodaj><i class="fa-brands fa-fonticons-fi"></i> fa-v4compatibility.woff2</dodaj> ← Font Awesome pisava (združljivost za nazaj)
</li>
</ul>
</li>
<li>
<dodaj><i class="fa-regular fa-star"></i> favicon.ico</dodaj> ← ikona spletne strani
</li>
</ul>
</li>
</ul>
<script>
  $(document).ready(function() {
    $(".rocnoStatic").markRegExp(/app\.use.+?express.+/, options_dodaj);
  });
</script>
<div id="uporaba-bootstrapa-v-aplikaciji" class="section level4 hasAnchor" number="5.3.5.1">
<h4><span class="header-section-number">5.3.5.1</span> Uporaba Bootstrapa v aplikaciji<a href="Node-js.html#uporaba-bootstrapa-v-aplikaciji" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Ko imamo pripravljene vse datoteke, jih moramo referencirati v projektu, in sicer moramo prilagoditi predloge Handlebars. Pri uporabi predlog Handlebars je pogosto uporabljen pristop, da opredelimo osrednjo postavitveno datoteko z različnimi območji, ki so opredeljena v ločenih datotekah. To se izkaže še posebej koristno pri straneh, kjer se deli strani ponavljajo na več straneh in jih moramo v tem primeru opredeliti zgolj enkrat.</p>
<p>Trenutno imamo opredeljen zgolj en pogled <code>index.hbs</code>, kateremu bomo dodali predlogo <code>layout.hbs</code>, ki bo vseboval povezave na prej omenjene statične datoteke.</p>
<p><code>hbs/views/layout.hbs</code></p>
<div class="sourceCode" id="cb375"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb375-1"><a href="Node-js.html#cb375-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="ot"> lang</span><span class="op">=</span><span class="st">&quot;en&quot;</span><span class="dt">&gt;</span></span>
<span id="cb375-2"><a href="Node-js.html#cb375-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb375-3"><a href="Node-js.html#cb375-3" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">meta</span><span class="ot"> charset</span><span class="op">=</span><span class="st">&quot;utf-8&quot;</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb375-4"><a href="Node-js.html#cb375-4" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">meta</span><span class="ot"> name</span><span class="op">=</span><span class="st">&quot;viewport&quot;</span><span class="ot"> content</span><span class="op">=</span><span class="st">&quot;width=device-width, initial-scale=1&quot;</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb375-5"><a href="Node-js.html#cb375-5" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> rel</span><span class="op">=</span><span class="st">&quot;icon&quot;</span><span class="ot"> type</span><span class="op">=</span><span class="st">&quot;image/x-icon&quot;</span><span class="ot"> href</span><span class="op">=</span><span class="st">&quot;/favicon.ico&quot;</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb375-6"><a href="Node-js.html#cb375-6" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> rel</span><span class="op">=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href</span><span class="op">=</span><span class="st">&quot;/styles/fa.all.min.css&quot;</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb375-7"><a href="Node-js.html#cb375-7" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> rel</span><span class="op">=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href</span><span class="op">=</span><span class="st">&quot;/styles/bootstrap.sandstone.min.css&quot;</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb375-8"><a href="Node-js.html#cb375-8" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> rel</span><span class="op">=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href</span><span class="op">=</span><span class="st">&quot;/styles/style.css&quot;</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb375-9"><a href="Node-js.html#cb375-9" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>{{title}}<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb375-10"><a href="Node-js.html#cb375-10" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb375-11"><a href="Node-js.html#cb375-11" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb375-12"><a href="Node-js.html#cb375-12" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;container p-4&quot;</span><span class="dt">&gt;</span></span>
<span id="cb375-13"><a href="Node-js.html#cb375-13" tabindex="-1"></a>      {{{body}}}</span>
<span id="cb375-14"><a href="Node-js.html#cb375-14" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb375-15"><a href="Node-js.html#cb375-15" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">&quot;/javascript/bootstrap.bundle.min.js&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb375-16"><a href="Node-js.html#cb375-16" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb375-17"><a href="Node-js.html#cb375-17" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code></pre></div>
<p>Vse Handlebars predloge privzeto razširjajo predlogo <code>layout.hbs</code>. V datoteki <code>index.hbs</code> nato zgolj opredelimo sekcijo, ki se bo vključila v predlogo <code>layout.hbs</code>, znotraj katere bomo izpisali vrednost parametra <code>title</code> v naslov in kot del odstavka. Z manjšo spremembo pokažemo, da lahko sedaj v pogledu <code>index.hbs</code> neposredno uporabljamo Bootstrap razrede, ki so opredeljeni v predlogi <code>layout.hbs</code>.</p>
<p><code>app_server/views/index.hbs</code></p>
<div class="sourceCode" id="cb376"><pre class="sourceCode html rocno"><code class="sourceCode html"><span id="cb376-1"><a href="Node-js.html#cb376-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">h1</span><span class="dt">&gt;</span>{{title}}<span class="dt">&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span></span>
<span id="cb376-2"><a href="Node-js.html#cb376-2" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">p</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;pt-4&quot;</span><span class="dt">&gt;</span>Welcome to <span class="dt">&lt;</span><span class="kw">b</span><span class="dt">&gt;</span>{{title}}<span class="dt">&lt;/</span><span class="kw">b</span><span class="dt">&gt;&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span></code></pre></div>
<p>V datoteki <code>index.hbs</code> ni nobenih referenc na HTML gradnike <code>head</code> ali <code>body</code> in tudi nobenih referenc na zunanje CSS sloge. Vse te informacije so namreč zajete v datoteki <code>layout.hbs</code>, ki predstavlja globalno strukturo naše spletne strani. Opazimo lahko zgolj sekcijo <code>{{{body}}}</code>, ki pa je podrobneje definirana v datoteki <code>index.hbs</code>.</p>
<p>Nekoliko prilagodimo tudi obstoječe lastne sloge v datoteki <code>style.css</code>, kjer za naslove vseh velikosti od <code>h1</code> do <code>h6</code> uporabimo pisavo <strong>Black Ops One</strong>.</p>
<p><code>public/styles/style.css</code></p>
<div class="sourceCode" id="cb377"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb377-1"><a href="Node-js.html#cb377-1" tabindex="-1"></a><span class="co">/* latin-ext */</span></span>
<span id="cb377-2"><a href="Node-js.html#cb377-2" tabindex="-1"></a><span class="im">@font-face</span> {</span>
<span id="cb377-3"><a href="Node-js.html#cb377-3" tabindex="-1"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">&#39;Black Ops One&#39;</span><span class="op">;</span></span>
<span id="cb377-4"><a href="Node-js.html#cb377-4" tabindex="-1"></a>  <span class="kw">font-style</span><span class="ch">:</span> <span class="dv">normal</span><span class="op">;</span></span>
<span id="cb377-5"><a href="Node-js.html#cb377-5" tabindex="-1"></a>  <span class="kw">font-weight</span><span class="ch">:</span> <span class="dv">400</span><span class="op">;</span></span>
<span id="cb377-6"><a href="Node-js.html#cb377-6" tabindex="-1"></a>  <span class="kw">font-display</span><span class="ch">:</span> <span class="dv">swap</span><span class="op">;</span></span>
<span id="cb377-7"><a href="Node-js.html#cb377-7" tabindex="-1"></a>  <span class="kw">src</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">../webfonts/BlackOpsOneLatinExt.woff2</span><span class="fu">)</span> <span class="fu">format(</span><span class="st">&#39;woff2&#39;</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb377-8"><a href="Node-js.html#cb377-8" tabindex="-1"></a>  <span class="kw">unicode-range</span><span class="ch">:</span> <span class="dv">U+0100-024F</span><span class="op">,</span> <span class="dv">U+0259</span><span class="op">,</span> <span class="dv">U+1E00-1EFF</span><span class="op">,</span> <span class="dv">U+2020</span><span class="op">,</span> <span class="dv">U+20A0-20AB</span><span class="op">,</span> <span class="dv">U+20AD-20CF</span><span class="op">,</span> <span class="dv">U+2113</span><span class="op">,</span> <span class="dv">U+2C60-2C7F</span><span class="op">,</span> <span class="dv">U</span>+<span class="dv">A720-A7FF</span><span class="op">;</span></span>
<span id="cb377-9"><a href="Node-js.html#cb377-9" tabindex="-1"></a>}</span>
<span id="cb377-10"><a href="Node-js.html#cb377-10" tabindex="-1"></a><span class="co">/* latin */</span></span>
<span id="cb377-11"><a href="Node-js.html#cb377-11" tabindex="-1"></a><span class="im">@font-face</span> {</span>
<span id="cb377-12"><a href="Node-js.html#cb377-12" tabindex="-1"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">&#39;Black Ops One&#39;</span><span class="op">;</span></span>
<span id="cb377-13"><a href="Node-js.html#cb377-13" tabindex="-1"></a>  <span class="kw">font-style</span><span class="ch">:</span> <span class="dv">normal</span><span class="op">;</span></span>
<span id="cb377-14"><a href="Node-js.html#cb377-14" tabindex="-1"></a>  <span class="kw">font-weight</span><span class="ch">:</span> <span class="dv">400</span><span class="op">;</span></span>
<span id="cb377-15"><a href="Node-js.html#cb377-15" tabindex="-1"></a>  <span class="kw">font-display</span><span class="ch">:</span> <span class="dv">swap</span><span class="op">;</span></span>
<span id="cb377-16"><a href="Node-js.html#cb377-16" tabindex="-1"></a>  <span class="kw">src</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">../webfonts/BlackOpsOneLatin.woff2</span><span class="fu">)</span> <span class="fu">format(</span><span class="st">&#39;woff2&#39;</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb377-17"><a href="Node-js.html#cb377-17" tabindex="-1"></a>  <span class="kw">unicode-range</span><span class="ch">:</span> <span class="dv">U+0000-00FF</span><span class="op">,</span> <span class="dv">U+0131</span><span class="op">,</span> <span class="dv">U+0152-0153</span><span class="op">,</span> <span class="dv">U+02BB-02BC</span><span class="op">,</span> <span class="dv">U+02C6</span><span class="op">,</span> <span class="dv">U+02DA</span><span class="op">,</span> <span class="dv">U+02DC</span><span class="op">,</span> <span class="dv">U+2000-206F</span><span class="op">,</span> <span class="dv">U+2074</span><span class="op">,</span> <span class="dv">U+20AC</span><span class="op">,</span> <span class="dv">U+2122</span><span class="op">,</span> <span class="dv">U+2191</span><span class="op">,</span> <span class="dv">U+2193</span><span class="op">,</span> <span class="dv">U+2212</span><span class="op">,</span> <span class="dv">U+2215</span><span class="op">,</span> <span class="dv">U</span>+<span class="dv">FEFF</span><span class="op">,</span> <span class="dv">U</span>+<span class="dv">FFFD</span><span class="op">;</span></span>
<span id="cb377-18"><a href="Node-js.html#cb377-18" tabindex="-1"></a>}</span>
<span id="cb377-19"><a href="Node-js.html#cb377-19" tabindex="-1"></a>h1<span class="op">,</span></span>
<span id="cb377-20"><a href="Node-js.html#cb377-20" tabindex="-1"></a>h2<span class="op">,</span></span>
<span id="cb377-21"><a href="Node-js.html#cb377-21" tabindex="-1"></a>h3<span class="op">,</span></span>
<span id="cb377-22"><a href="Node-js.html#cb377-22" tabindex="-1"></a>h4<span class="op">,</span></span>
<span id="cb377-23"><a href="Node-js.html#cb377-23" tabindex="-1"></a>h5<span class="op">,</span></span>
<span id="cb377-24"><a href="Node-js.html#cb377-24" tabindex="-1"></a>h6 {</span>
<span id="cb377-25"><a href="Node-js.html#cb377-25" tabindex="-1"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">&quot;Black Ops One&quot;</span><span class="op">,</span> <span class="dv">sans-serif</span><span class="op">;</span></span>
<span id="cb377-26"><a href="Node-js.html#cb377-26" tabindex="-1"></a>}</span></code></pre></div>
<p>Ko preverimo delovanje aplikacije, lahko opazimo, da je sedaj apliciran Bootstrap slog z vključeno Sandstone temo in pisavo Black Ops One, kar prikazuje tudi slika <a href="Node-js.html#fig:slika-Express-zacetna-stran-tema">5.9</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:slika-Express-zacetna-stran-tema"></span>
<img src="assets/img/Express_zacetna_stran_tema.png" alt="Začetna stran testne Express spletne strani z vključenimi prilagoditvami" width="500" />
<p class="caption">
Slika 5.9: Začetna stran testne Express spletne strani z vključenimi prilagoditvami
</p>
</div>
<script>
  $(document).ready(function() {
    $("#uporaba-bootstrapa-v-aplikaciji code:eq(2)").markRegExp(/layout\.hbs/, options_dodaj);
    $("#uporaba-bootstrapa-v-aplikaciji code:eq(21)").markRegExp(/style\.css/, options_dodaj);
    $("#uporaba-bootstrapa-v-aplikaciji pre.html:eq(1)").markRegExp(/ class="pt-4"/, options_dodaj);
    $("#uporaba-bootstrapa-v-aplikaciji pre.css:eq(0)").markRegExp(/.+/, options_dodaj);
  });
</script>
</div>
</div>
<div id="opredelitev-usmerjevalnikov-v-express" class="section level3 hasAnchor" number="5.3.6">
<h3><span class="header-section-number">5.3.6</span> Opredelitev usmerjevalnikov v Express<a href="Node-js.html#opredelitev-usmerjevalnikov-v-express" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Že pri predavanju <span class="sklop1 oznaka">P1.1</span> v okviru poglavja <a href="P11.html#osnovni-namen-aplikacije-brez-tehnicnih-podrobnosti">1.6.2.1</a> smo predstavili osnovne zaslone (glej sliko <a href="Node-js.html#fig:slika-Skupine-zaslonov-ponovno">5.10</a>) in opisali ključne korake pri razvoju naše spletne aplikacije.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:slika-Skupine-zaslonov-ponovno"></span>
<img src="assets/img/Skupine_zaslonov.png" alt="Vsebinsko združevanje načrtovanih zaslonov uporabniškega vmesnika." width="300" />
<p class="caption">
Slika 5.10: Vsebinsko združevanje načrtovanih zaslonov uporabniškega vmesnika.
</p>
</div>
<p>Predstavitev aplikacije v obliki zaslonov je zelo pomembna, vendar jih moramo sedaj v nadaljevanju povezati z URL spletnimi naslovi, kjer se bodo nahajali, kar je predstavljeno v tabeli <a href="Node-js.html#tab:tabela-URL-naslovi-zaslonskih-mask">5.1</a>.</p>
<table class="tabela-manjsa table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:tabela-URL-naslovi-zaslonskih-mask">Tabela 5.1: </span>Opredelitev URL naslovov za vsako zaslonsko masko
</caption>
<thead>
<tr>
<th style="text-align:left;">
Sklop
</th>
<th style="text-align:left;">
Zaslonska maska
</th>
<th style="text-align:left;">
URL naslov
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Lokacije
</td>
<td style="text-align:left;">
seznam lokacij (to bo naša začetna spletna stran)
</td>
<td style="text-align:left;">
<code>/</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
Lokacije
</td>
<td style="text-align:left;">
podrobnosti lokacije
</td>
<td style="text-align:left;">
<code>/location</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
Lokacije
</td>
<td style="text-align:left;">
obrazec za dodajanje komentarja lokacije
</td>
<td style="text-align:left;">
<code>/location/comment/new</code>
</td>
</tr>
<tr>
<td style="text-align:left;">
Ostalo
</td>
<td style="text-align:left;">
dodatne informacije o aplikaciji
</td>
<td style="text-align:left;">
<code>/about</code>
</td>
</tr>
</tbody>
</table>
<p>To predstavlja osnovo za naš mehanizem usmerjanja, ki bo implementiran v obliki usmerjevalnikov znotraj Node.js aplikacije. Ko bo uporabnik obiskal spletni naslov <code>/about</code>, se mu bo prikazala zaslonska maska z dodatnimi informacijami o aplikaciji.</p>
<p>Naša aplikacija bo uporabljala 2 sklopa krmilnikov (glej sliko <a href="Node-js.html#fig:slika-Predlagana-arhitektura-usmerjevalnikov-in-krmilnikov">5.11</a>):</p>
<ul>
<li><strong>Lokacije</strong> (v povezavi z lokacijo - seznam, podrobnosti in obrazec za dodajanje komentarja) in</li>
<li><strong>Ostalo</strong> (dodatne informacije o aplikaciji).</li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:slika-Predlagana-arhitektura-usmerjevalnikov-in-krmilnikov"></span>
<img src="assets/img/Predlagana_arhitektura_usmerjevalnikov_in_krmilnikov.png" alt="Ločitev logike krmilnika in usmerjevalnika" width="450" />
<p class="caption">
Slika 5.11: Ločitev logike krmilnika in usmerjevalnika
</p>
</div>
<p>Zato bomo v usmerjevalniku <code>hbs.js</code> najprej razdelili obstoječi krmilnik <code>ctrlMain</code> v omenjena 2 krmilnika in opredelili preslikovalno tabelo s funkcijami krmilnikom, kot je predvideno v tabeli <a href="Node-js.html#tab:tabela-URL-naslovi-zaslonskih-mask">5.1</a>.</p>
<p><code>app_server/routes/hbs.js</code></p>
<div class="sourceCode" id="cb378"><pre class="sourceCode javascript rocno"><code class="sourceCode javascript"><span id="cb378-1"><a href="Node-js.html#cb378-1" tabindex="-1"></a><span class="kw">const</span> express <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;express&quot;</span>)<span class="op">;</span></span>
<span id="cb378-2"><a href="Node-js.html#cb378-2" tabindex="-1"></a><span class="kw">const</span> router <span class="op">=</span> express<span class="op">.</span><span class="fu">Router</span>()<span class="op">;</span></span>
<span id="cb378-3"><a href="Node-js.html#cb378-3" tabindex="-1"></a><span class="kw">const</span> ctrlMain <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;../controllers/main&quot;</span>)<span class="op">;</span></span>
<span id="cb378-4"><a href="Node-js.html#cb378-4" tabindex="-1"></a><span class="kw">const</span> ctrlLocations <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;../controllers/locations&quot;</span>)<span class="op">;</span></span>
<span id="cb378-5"><a href="Node-js.html#cb378-5" tabindex="-1"></a><span class="kw">const</span> ctrlOther <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;../controllers/other&quot;</span>)<span class="op">;</span></span>
<span id="cb378-6"><a href="Node-js.html#cb378-6" tabindex="-1"></a></span>
<span id="cb378-7"><a href="Node-js.html#cb378-7" tabindex="-1"></a>router<span class="op">.</span><span class="fu">get</span>(<span class="st">&quot;/&quot;</span><span class="op">,</span> ctrlMain<span class="op">.</span><span class="at">main</span>)<span class="op">;</span></span>
<span id="cb378-8"><a href="Node-js.html#cb378-8" tabindex="-1"></a>router<span class="op">.</span><span class="fu">get</span>(<span class="st">&quot;/&quot;</span><span class="op">,</span> ctrlLocations<span class="op">.</span><span class="at">list</span>)<span class="op">;</span></span>
<span id="cb378-9"><a href="Node-js.html#cb378-9" tabindex="-1"></a>router<span class="op">.</span><span class="fu">get</span>(<span class="st">&quot;/location&quot;</span><span class="op">,</span> ctrlLocations<span class="op">.</span><span class="at">details</span>)<span class="op">;</span></span>
<span id="cb378-10"><a href="Node-js.html#cb378-10" tabindex="-1"></a>router<span class="op">.</span><span class="fu">get</span>(<span class="st">&quot;/location/comment/new&quot;</span><span class="op">,</span> ctrlLocations<span class="op">.</span><span class="at">addComment</span>)<span class="op">;</span></span>
<span id="cb378-11"><a href="Node-js.html#cb378-11" tabindex="-1"></a>router<span class="op">.</span><span class="fu">get</span>(<span class="st">&quot;/about&quot;</span><span class="op">,</span> ctrlOther<span class="op">.</span><span class="at">about</span>)<span class="op">;</span></span>
<span id="cb378-12"><a href="Node-js.html#cb378-12" tabindex="-1"></a>module<span class="op">.</span><span class="at">exports</span> <span class="op">=</span> router<span class="op">;</span></span></code></pre></div>
<script>
  $(document).ready(function() {
    $("#opredelitev-usmerjevalnikov-v-express code.javascript:eq(0)").markRegExp(/const ctrlMain.+/, options_izbrisi);
    $("#opredelitev-usmerjevalnikov-v-express code.javascript:eq(0)").markRegExp(/router\.get.+?ctrlMain.+/, options_izbrisi);
    $("#opredelitev-usmerjevalnikov-v-express code.javascript:eq(0)").markRegExp(/.+?ctrl(Locations|Other).+/, options_dodaj);
  });
</script>
</div>
<div id="izdelava-osnovnih-krmilnikov" class="section level3 hasAnchor" number="5.3.7">
<h3><span class="header-section-number">5.3.7</span> Izdelava osnovnih krmilnikov<a href="Node-js.html#izdelava-osnovnih-krmilnikov" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Na začetku bomo pripravili zelo preprosto različico krmilnikov, ki bodo zgolj izpisali nekaj informacij, da bomo lahko preverili delovanje naše aplikacije.</p>
<div id="nastavitev-krmilnikov" class="section level4 hasAnchor" number="5.3.7.1">
<h4><span class="header-section-number">5.3.7.1</span> Nastavitev krmilnikov<a href="Node-js.html#nastavitev-krmilnikov" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Sedaj moramo pripraviti še datoteki z izvorno kodo krmilnikov <code>locations.js</code> in <code>other.js</code> v mapi <code>hbs/controllers</code>. Za začetek preimenujmo obstoječo datoteko <code>main.js</code> v datoteko <code>other.js</code>, ter jo posodobimo, kot je prikazano spodaj:</p>
<p><code>app_server/controllers/other.js</code></p>
<div class="sourceCode" id="cb379"><pre class="sourceCode javascript rocno"><code class="sourceCode javascript"><span id="cb379-1"><a href="Node-js.html#cb379-1" tabindex="-1"></a><span class="kw">const</span> aboutmain <span class="op">=</span> (req<span class="op">,</span> res) <span class="kw">=&gt;</span> {</span>
<span id="cb379-2"><a href="Node-js.html#cb379-2" tabindex="-1"></a>  res<span class="op">.</span><span class="fu">render</span>(<span class="st">&quot;index&quot;</span><span class="op">,</span> { <span class="dt">title</span><span class="op">:</span> <span class="st">&quot;Information about the application!Welcome to Web Programming!&quot;</span> })<span class="op">;</span></span>
<span id="cb379-3"><a href="Node-js.html#cb379-3" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb379-4"><a href="Node-js.html#cb379-4" tabindex="-1"></a>module<span class="op">.</span><span class="at">exports</span> <span class="op">=</span> {</span>
<span id="cb379-5"><a href="Node-js.html#cb379-5" tabindex="-1"></a>  aboutmain<span class="op">,</span></span>
<span id="cb379-6"><a href="Node-js.html#cb379-6" tabindex="-1"></a>}<span class="op">;</span></span></code></pre></div>
<p>Nato dodajmo še krmilnik <code>locations.js</code> in pripravimo ustrezne metode, ki smo jih zahtevali v usmerjevalniku <code>hbs.js</code>.</p>
<p><code>app_server/controllers/locations.js</code></p>
<div class="sourceCode" id="cb380"><pre class="sourceCode javascript locationsNew"><code class="sourceCode javascript"><span id="cb380-1"><a href="Node-js.html#cb380-1" tabindex="-1"></a><span class="kw">const</span> list <span class="op">=</span> (req<span class="op">,</span> res) <span class="kw">=&gt;</span> {</span>
<span id="cb380-2"><a href="Node-js.html#cb380-2" tabindex="-1"></a>  res<span class="op">.</span><span class="fu">render</span>(<span class="st">&quot;index&quot;</span><span class="op">,</span> { <span class="dt">title</span><span class="op">:</span> <span class="st">&quot;List of cultural heritages!&quot;</span> })<span class="op">;</span></span>
<span id="cb380-3"><a href="Node-js.html#cb380-3" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb380-4"><a href="Node-js.html#cb380-4" tabindex="-1"></a><span class="kw">const</span> details <span class="op">=</span> (req<span class="op">,</span> res) <span class="kw">=&gt;</span> {</span>
<span id="cb380-5"><a href="Node-js.html#cb380-5" tabindex="-1"></a>  res<span class="op">.</span><span class="fu">render</span>(<span class="st">&quot;index&quot;</span><span class="op">,</span> { <span class="dt">title</span><span class="op">:</span> <span class="st">&quot;Details of cultural heritage!&quot;</span> })<span class="op">;</span></span>
<span id="cb380-6"><a href="Node-js.html#cb380-6" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb380-7"><a href="Node-js.html#cb380-7" tabindex="-1"></a><span class="kw">const</span> addComment <span class="op">=</span> (req<span class="op">,</span> res) <span class="kw">=&gt;</span> {</span>
<span id="cb380-8"><a href="Node-js.html#cb380-8" tabindex="-1"></a>  res<span class="op">.</span><span class="fu">render</span>(<span class="st">&quot;index&quot;</span><span class="op">,</span> { <span class="dt">title</span><span class="op">:</span> <span class="st">&quot;Add comment!&quot;</span> })<span class="op">;</span></span>
<span id="cb380-9"><a href="Node-js.html#cb380-9" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb380-10"><a href="Node-js.html#cb380-10" tabindex="-1"></a>module<span class="op">.</span><span class="at">exports</span> <span class="op">=</span> {</span>
<span id="cb380-11"><a href="Node-js.html#cb380-11" tabindex="-1"></a>  list<span class="op">,</span></span>
<span id="cb380-12"><a href="Node-js.html#cb380-12" tabindex="-1"></a>  details<span class="op">,</span></span>
<span id="cb380-13"><a href="Node-js.html#cb380-13" tabindex="-1"></a>  addComment</span>
<span id="cb380-14"><a href="Node-js.html#cb380-14" tabindex="-1"></a>}<span class="op">;</span></span></code></pre></div>
<script>
  $(document).ready(function() {
    $("#nastavitev-krmilnikov code:eq(3)").markRegExp(/.+/, options_izbrisi);
    $("#nastavitev-krmilnikov code:eq(4)").markRegExp(/.+/, options_dodaj);
    $("#nastavitev-krmilnikov code:eq(9)").markRegExp(/locations\.js/, options_dodaj);
    $("#nastavitev-krmilnikov code.javascript:eq(0)").markRegExp(/about/, options_dodaj);
    $("#nastavitev-krmilnikov code.javascript:eq(0)").markRegExp(/Information about the application/, options_dodaj);
    $("#nastavitev-krmilnikov code.javascript:eq(0)").markRegExp(/Welcome to Web Programming/, options_izbrisi);
    $("#nastavitev-krmilnikov code.javascript:eq(0)").markRegExp(/main/, options_izbrisi);
    $(".locationsNew").markRegExp(/.+/, options_dodaj)
  });
</script>
</div>
<div id="testiranje-krmilnikov-in-usmerjevalnikov" class="section level4 hasAnchor" number="5.3.7.2">
<h4><span class="header-section-number">5.3.7.2</span> Testiranje krmilnikov in usmerjevalnikov<a href="Node-js.html#testiranje-krmilnikov-in-usmerjevalnikov" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Sedaj lahko preverimo delovanje naše aplikacije na naslednjih spletnih naslovih:</p>
<ul>
<li><a href="http://localhost:3000/"><i class="fa-solid fa-earth-europe"></i><code>http://localhost:3000/</code></a> (list of cultural heritage),</li>
<li><a href="http://localhost:3000/location"><i class="fa-solid fa-earth-europe"></i><code>http://localhost:3000/location</code></a> (details of cultural heritage),</li>
<li><a href="http://localhost:3000/location/comment/new"><i class="fa-solid fa-earth-europe"></i><code>http://localhost:3000/location/comment/new</code></a> (add comment) in</li>
<li><a href="http://localhost:3000/about"><i class="fa-solid fa-earth-europe"></i><code>http://localhost:3000/about</code></a> (information about the application).</li>
</ul>
<script>
  $(document).ready(function() {
    $("#testiranje-krmilnikov-in-usmerjevalnikov code:eq(0)").markRegExp(/\/$/m, options_dodaj);
    $("#testiranje-krmilnikov-in-usmerjevalnikov code:eq(1)").markRegExp(/\/location/, options_dodaj);
    $("#testiranje-krmilnikov-in-usmerjevalnikov code:eq(2)").markRegExp(/\/location.+/, options_dodaj);
    $("#testiranje-krmilnikov-in-usmerjevalnikov code:eq(3)").markRegExp(/\/about/, options_dodaj);
  });
</script>
</div>
</div>
<div id="dopolnitev-pogledov" class="section level3 hasAnchor" number="5.3.8">
<h3><span class="header-section-number">5.3.8</span> Dopolnitev pogledov<a href="Node-js.html#dopolnitev-pogledov" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Pri izgledu vseh strani aplikacije imamo določene skupne zahteve, ki so prikazane na sliki <a href="Node-js.html#fig:slika-Ponovno-uporabna-struktura-strani">5.12</a>. Na vrhu strani potrebujemo standardno navigacijsko vrstico, na dnu strani je noga in osrednji del je namenjen razširljivi in izmenljivi osrednji vsebini strani.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:slika-Ponovno-uporabna-struktura-strani"></span>
<img src="assets/img/Ponovno_uporabna_struktura_strani.png" alt="Osnovna struktura ponovno uporabljive postavitve, ki jo sestavlja standardna navigacijska vrstica in noga z razširljivo in izmenljivo osrednjo vsebino strani" width="200" />
<p class="caption">
Slika 5.12: Osnovna struktura ponovno uporabljive postavitve, ki jo sestavlja standardna navigacijska vrstica in noga z razširljivo in izmenljivo osrednjo vsebino strani
</p>
</div>
<p>Na obstoječo spletno stran dodajmo možnost navigacije z glavo in nogo spletne strani, kar naj velja kar za vse strani, zato bomo spremenili datoteko <code>layout.hbs</code>.</p>
<p><code>hbs/views/layout.hbs</code></p>
<div class="sourceCode" id="cb381"><pre class="sourceCode html rocno"><code class="sourceCode html"><span id="cb381-1"><a href="Node-js.html#cb381-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="ot"> lang</span><span class="op">=</span><span class="st">&quot;en&quot;</span><span class="dt">&gt;</span></span>
<span id="cb381-2"><a href="Node-js.html#cb381-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb381-3"><a href="Node-js.html#cb381-3" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">meta</span><span class="ot"> charset</span><span class="op">=</span><span class="st">&quot;utf-8&quot;</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb381-4"><a href="Node-js.html#cb381-4" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">meta</span><span class="ot"> name</span><span class="op">=</span><span class="st">&quot;viewport&quot;</span><span class="ot"> content</span><span class="op">=</span><span class="st">&quot;width=device-width, initial-scale=1&quot;</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb381-5"><a href="Node-js.html#cb381-5" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> rel</span><span class="op">=</span><span class="st">&quot;icon&quot;</span><span class="ot"> type</span><span class="op">=</span><span class="st">&quot;image/x-icon&quot;</span><span class="ot"> href</span><span class="op">=</span><span class="st">&quot;/favicon.ico&quot;</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb381-6"><a href="Node-js.html#cb381-6" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> rel</span><span class="op">=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href</span><span class="op">=</span><span class="st">&quot;/styles/fa.all.min.css&quot;</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb381-7"><a href="Node-js.html#cb381-7" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> rel</span><span class="op">=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href</span><span class="op">=</span><span class="st">&quot;/styles/bootstrap.sandstone.min.css&quot;</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb381-8"><a href="Node-js.html#cb381-8" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> rel</span><span class="op">=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href</span><span class="op">=</span><span class="st">&quot;/styles/style.css&quot;</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb381-9"><a href="Node-js.html#cb381-9" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>{{title}}<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb381-10"><a href="Node-js.html#cb381-10" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb381-11"><a href="Node-js.html#cb381-11" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb381-12"><a href="Node-js.html#cb381-12" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;container p-4&quot;</span><span class="dt">&gt;</span></span>
<span id="cb381-13"><a href="Node-js.html#cb381-13" tabindex="-1"></a>      <span class="dt">&lt;</span><span class="kw">nav</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;mb-4&quot;</span><span class="dt">&gt;&lt;</span><span class="kw">a</span></span>
<span id="cb381-14"><a href="Node-js.html#cb381-14" tabindex="-1"></a><span class="ot">          href</span><span class="op">=</span><span class="st">&quot;/&quot;</span></span>
<span id="cb381-15"><a href="Node-js.html#cb381-15" tabindex="-1"></a><span class="ot">          class</span><span class="op">=</span><span class="st">&quot;btn btn-sm btn-outline-dark mt-4&quot;</span></span>
<span id="cb381-16"><a href="Node-js.html#cb381-16" tabindex="-1"></a><span class="ot">          role</span><span class="op">=</span><span class="st">&quot;button&quot;</span></span>
<span id="cb381-17"><a href="Node-js.html#cb381-17" tabindex="-1"></a><span class="ot">        </span><span class="dt">&gt;&lt;</span><span class="kw">i</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;fa-solid fa-house-chimney pe-1&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">i</span><span class="dt">&gt;</span>List of locations<span class="dt">&lt;/</span><span class="kw">a</span><span class="dt">&gt;</span></span>
<span id="cb381-18"><a href="Node-js.html#cb381-18" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">a</span></span>
<span id="cb381-19"><a href="Node-js.html#cb381-19" tabindex="-1"></a><span class="ot">          href</span><span class="op">=</span><span class="st">&quot;/location&quot;</span></span>
<span id="cb381-20"><a href="Node-js.html#cb381-20" tabindex="-1"></a><span class="ot">          class</span><span class="op">=</span><span class="st">&quot;btn btn-sm btn-outline-dark mt-4&quot;</span></span>
<span id="cb381-21"><a href="Node-js.html#cb381-21" tabindex="-1"></a><span class="ot">          role</span><span class="op">=</span><span class="st">&quot;button&quot;</span></span>
<span id="cb381-22"><a href="Node-js.html#cb381-22" tabindex="-1"></a><span class="ot">        </span><span class="dt">&gt;&lt;</span><span class="kw">i</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;fa-solid fa-map-location-dot pe-1&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">i</span><span class="dt">&gt;</span>Location details<span class="dt">&lt;/</span><span class="kw">a</span><span class="dt">&gt;</span></span>
<span id="cb381-23"><a href="Node-js.html#cb381-23" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">a</span></span>
<span id="cb381-24"><a href="Node-js.html#cb381-24" tabindex="-1"></a><span class="ot">          href</span><span class="op">=</span><span class="st">&quot;/location/comment/new&quot;</span></span>
<span id="cb381-25"><a href="Node-js.html#cb381-25" tabindex="-1"></a><span class="ot">          class</span><span class="op">=</span><span class="st">&quot;btn btn-sm btn-outline-dark mt-4&quot;</span></span>
<span id="cb381-26"><a href="Node-js.html#cb381-26" tabindex="-1"></a><span class="ot">          role</span><span class="op">=</span><span class="st">&quot;button&quot;</span></span>
<span id="cb381-27"><a href="Node-js.html#cb381-27" tabindex="-1"></a><span class="ot">        </span><span class="dt">&gt;&lt;</span><span class="kw">i</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;fa-solid fa-map-location-dot pe-1&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">i</span><span class="dt">&gt;</span>Add comment<span class="dt">&lt;/</span><span class="kw">a</span><span class="dt">&gt;</span></span>
<span id="cb381-28"><a href="Node-js.html#cb381-28" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">a</span></span>
<span id="cb381-29"><a href="Node-js.html#cb381-29" tabindex="-1"></a><span class="ot">          href</span><span class="op">=</span><span class="st">&quot;/about&quot;</span></span>
<span id="cb381-30"><a href="Node-js.html#cb381-30" tabindex="-1"></a><span class="ot">          class</span><span class="op">=</span><span class="st">&quot;btn btn-sm btn-outline-dark mt-4&quot;</span></span>
<span id="cb381-31"><a href="Node-js.html#cb381-31" tabindex="-1"></a><span class="ot">          role</span><span class="op">=</span><span class="st">&quot;button&quot;</span></span>
<span id="cb381-32"><a href="Node-js.html#cb381-32" tabindex="-1"></a><span class="ot">        </span><span class="dt">&gt;&lt;</span><span class="kw">i</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;fa-solid fa-map-location-dot pe-1&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">i</span><span class="dt">&gt;</span>About<span class="dt">&lt;/</span><span class="kw">a</span><span class="dt">&gt;&lt;/</span><span class="kw">nav</span><span class="dt">&gt;</span></span>
<span id="cb381-33"><a href="Node-js.html#cb381-33" tabindex="-1"></a>      {{{body}}}</span>
<span id="cb381-34"><a href="Node-js.html#cb381-34" tabindex="-1"></a>      <span class="dt">&lt;</span><span class="kw">footer</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;mt-4&quot;</span><span class="dt">&gt;</span><span class="dv">&amp;copy;</span> Dejan Lavbič<span class="dt">&lt;/</span><span class="kw">footer</span><span class="dt">&gt;</span></span>
<span id="cb381-35"><a href="Node-js.html#cb381-35" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb381-36"><a href="Node-js.html#cb381-36" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">&quot;/javascript/bootstrap.bundle.min.js&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb381-37"><a href="Node-js.html#cb381-37" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb381-38"><a href="Node-js.html#cb381-38" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code></pre></div>
<script>
  $(document).ready(function() {
    $("#dopolnitev-pogledov pre.html:eq(0)").markRegExp(/\s+?<nav[\s\S]+?<\/nav>/, options_dodaj);
    $("#dopolnitev-pogledov pre.html:eq(0)").markRegExp(/\s+?<footer.+?<\/footer>/, options_dodaj);
  });
</script>
<p>Povzetek vlog krmilnika in pogleda sta podrobneje predstavljeni na sliki <a href="Node-js.html#fig:slika-Vloga-krmilnika-in-pogleda-pri-MVC">5.13</a>, kjer je razvidno, da se vsebina med krmilnikom in pogledom pošilja preko vrednosti spremenljivk, za katere poskrbi krmilnik, pogled pa vsebino teh spremenljivk vključi pri pripravi končne oblike HTML strani.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:slika-Vloga-krmilnika-in-pogleda-pri-MVC"></span>
<img src="assets/img/Vloga_krmilnika_in_pogleda_pri_MVC.png" alt="Vloga krmilnika in pogleda pri MVC načrtovalskem vzorcu" width="550" />
<p class="caption">
Slika 5.13: Vloga krmilnika in pogleda pri MVC načrtovalskem vzorcu
</p>
</div>
</div>
</div>
<div id="strežba-aplikacije-v-različnih-okoljih" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Strežba aplikacije v različnih okoljih<a href="Node-js.html#strežba-aplikacije-v-različnih-okoljih" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="docker" class="section level3 hasAnchor" number="5.4.1">
<h3><span class="header-section-number">5.4.1</span> Strežba aplikacije v okolju Docker<a href="Node-js.html#docker" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="https://www.docker.com/"><i class="fa-solid fa-earth-europe"></i><strong>Docker</strong></a> predstavlja množico orodij, ki podpirajo <a href="https://en.wikipedia.org/wiki/Platform_as_a_service"><i class="fa-brands fa-wikipedia-w"></i><strong>PaaS</strong> (Platform as a Service)</a> in omogočajo razvoj, izvajanje in obvladovanje aplikacije brez kompleksnosti vzdrževanja infrastrukture, ki je ponavadi povezana z razvojem in gostovanjem aplikacij.</p>
<p>Z uporabo Docker-ja želimo omogočiti enostavno izgradnjo in zagon razvite aplikacije, kjer vnaprej poskrbimo za vse ustrezne nastavitve in tako s pomočjo virtualizacije omogočimo zagon na poljubnem sistemu z nameščenim Docker-jem.</p>
<blockquote>
<p><strong>Namig</strong>: Pri nameščanju okolja Docker na operacijskem sistemu Windows poskrbite tudi za <a href="https://docs.microsoft.com/sl-si/windows/wsl/wsl2-kernel"><i class="fa-solid fa-earth-europe"></i>WSL2 Linux kernel</a>.</p>
</blockquote>
<p>Najprej pripravimo datoteko <code>dockerfile</code>, kjer opredelimo pravila za pripravo Docker slike. V datoteki opredelimo kateri operacijski sistem bomo uporabljali kot osnovo. V našem primeru je to <a href="https://hub.docker.com/_/node"><i class="fa-solid fa-earth-europe"></i><code>node:16-alpine</code></a>, ki temelji na osnovni verziji Linux-a, kjer je nameščen Node.js v18. Ob kreiranju Docker slike se najprej požene <code>npm install</code> in na koncu izvede zagon z ukazom <code>npm run start</code>.</p>
<p><code>dockerfile</code></p>
<div class="sourceCode" id="cb382"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb382-1"><a href="Node-js.html#cb382-1" tabindex="-1"></a><span class="ex">FROM</span> node:16-alpine</span>
<span id="cb382-2"><a href="Node-js.html#cb382-2" tabindex="-1"></a><span class="ex">ARG</span> NODE_ENV=production</span>
<span id="cb382-3"><a href="Node-js.html#cb382-3" tabindex="-1"></a><span class="ex">ENV</span> NODE_ENV=<span class="va">${NODE_ENV}</span></span>
<span id="cb382-4"><a href="Node-js.html#cb382-4" tabindex="-1"></a><span class="co"># Default application directory for all subsequent commands (COPY, RUN, CMD etc.).</span></span>
<span id="cb382-5"><a href="Node-js.html#cb382-5" tabindex="-1"></a><span class="ex">WORKDIR</span> /usr/src/app</span>
<span id="cb382-6"><a href="Node-js.html#cb382-6" tabindex="-1"></a><span class="co"># Copy package.json and install dependencies.</span></span>
<span id="cb382-7"><a href="Node-js.html#cb382-7" tabindex="-1"></a><span class="co"># Docker will cache node_modules, if package.json and package-lock.json are not changed.</span></span>
<span id="cb382-8"><a href="Node-js.html#cb382-8" tabindex="-1"></a><span class="ex">COPY</span> package.json ./</span>
<span id="cb382-9"><a href="Node-js.html#cb382-9" tabindex="-1"></a><span class="ex">RUN</span> npm install</span>
<span id="cb382-10"><a href="Node-js.html#cb382-10" tabindex="-1"></a><span class="co"># Copy source code of the application</span></span>
<span id="cb382-11"><a href="Node-js.html#cb382-11" tabindex="-1"></a><span class="ex">COPY</span> . .</span>
<span id="cb382-12"><a href="Node-js.html#cb382-12" tabindex="-1"></a><span class="ex">EXPOSE</span> 3000</span>
<span id="cb382-13"><a href="Node-js.html#cb382-13" tabindex="-1"></a><span class="ex">CMD</span> [ <span class="st">&quot;npm&quot;</span>, <span class="st">&quot;run&quot;</span>, <span class="st">&quot;start&quot;</span> ]</span></code></pre></div>
<p>Nato v datoteko <code>.dockerignore</code> dodamo poti, ki jih pri ukazu <code>COPY</code> iz prejšnjega koraka izpustimo (tj. datoteke, ki jih v sliki naše aplikacije ne potrebujemo).</p>
<p><code>.dockerignore</code></p>
<div class="sourceCode" id="cb383"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb383-1"><a href="Node-js.html#cb383-1" tabindex="-1"></a><span class="ex">.git*</span></span>
<span id="cb383-2"><a href="Node-js.html#cb383-2" tabindex="-1"></a><span class="ex">dockerfile</span></span>
<span id="cb383-3"><a href="Node-js.html#cb383-3" tabindex="-1"></a><span class="ex">docker-compose*</span></span>
<span id="cb383-4"><a href="Node-js.html#cb383-4" tabindex="-1"></a><span class="ex">.dockerignore</span></span>
<span id="cb383-5"><a href="Node-js.html#cb383-5" tabindex="-1"></a><span class="ex">.jshintrc</span></span>
<span id="cb383-6"><a href="Node-js.html#cb383-6" tabindex="-1"></a><span class="ex">package-lock.json</span></span>
<span id="cb383-7"><a href="Node-js.html#cb383-7" tabindex="-1"></a><span class="ex">node_modules</span></span>
<span id="cb383-8"><a href="Node-js.html#cb383-8" tabindex="-1"></a><span class="ex">*.md</span></span></code></pre></div>
<p>Na koncu pripravimo še datoteko <code>docker-compose.yml</code>, kjer lažje obvladujemo vse komponente, ki sodelujejo v naši aplikaciji. Zaenkrat je ta postavitev sicer zelo enostavna, saj imamo zgolj Node.js strežnik, kasneje pa bomo dodali še ostale komponente, npr. podatkovno bazo.</p>
<p><code>docker-compose.yml</code></p>
<div class="sourceCode" id="cb384"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb384-1"><a href="Node-js.html#cb384-1" tabindex="-1"></a><span class="ex">version:</span> <span class="st">&quot;3.5&quot;</span></span>
<span id="cb384-2"><a href="Node-js.html#cb384-2" tabindex="-1"></a><span class="ex">services:</span></span>
<span id="cb384-3"><a href="Node-js.html#cb384-3" tabindex="-1"></a>  <span class="ex">node-api:</span></span>
<span id="cb384-4"><a href="Node-js.html#cb384-4" tabindex="-1"></a>    <span class="ex">container_name:</span> sp-app</span>
<span id="cb384-5"><a href="Node-js.html#cb384-5" tabindex="-1"></a>    <span class="ex">ports:</span></span>
<span id="cb384-6"><a href="Node-js.html#cb384-6" tabindex="-1"></a>      <span class="ex">-</span> <span class="st">&quot;3000:3000&quot;</span></span>
<span id="cb384-7"><a href="Node-js.html#cb384-7" tabindex="-1"></a>    <span class="ex">image:</span> sp-server</span>
<span id="cb384-8"><a href="Node-js.html#cb384-8" tabindex="-1"></a>    <span class="ex">build:</span> ./</span>
<span id="cb384-9"><a href="Node-js.html#cb384-9" tabindex="-1"></a>    <span class="ex">networks:</span></span>
<span id="cb384-10"><a href="Node-js.html#cb384-10" tabindex="-1"></a>      <span class="ex">-</span> sp-network</span>
<span id="cb384-11"><a href="Node-js.html#cb384-11" tabindex="-1"></a><span class="ex">networks:</span></span>
<span id="cb384-12"><a href="Node-js.html#cb384-12" tabindex="-1"></a>  <span class="ex">sp-network:</span></span>
<span id="cb384-13"><a href="Node-js.html#cb384-13" tabindex="-1"></a>    <span class="ex">name:</span> sp-network</span>
<span id="cb384-14"><a href="Node-js.html#cb384-14" tabindex="-1"></a>    <span class="ex">driver:</span> bridge</span></code></pre></div>
<p>Zagon aplikacije izvedemo z ukazom <code>docker-compose up</code>, kjer s parametrom <code>--detach</code> zahtevamo izvajanje v ozadju.</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode bash docker-compose-up"><code class="sourceCode bash"><span id="cb385-1"><a href="Node-js.html#cb385-1" tabindex="-1"></a><span class="ex">$</span> docker-compose up <span class="at">--detach</span></span>
<span id="cb385-2"><a href="Node-js.html#cb385-2" tabindex="-1"></a></span>
<span id="cb385-3"><a href="Node-js.html#cb385-3" tabindex="-1"></a> <span class="ex">⠿</span> Network sp-network  Created</span>
<span id="cb385-4"><a href="Node-js.html#cb385-4" tabindex="-1"></a> <span class="ex">⠿</span> Container sp-app    Started</span></code></pre></div>
<p>Ob uspešnem zagonu lahko do aplikacije dostopate preko spletne povezave <a href="http://localhost:3000"><i class="fa-solid fa-earth-europe"></i><code>http://localhost:3000</code></a>.</p>
<p>Če želite Docker vsebnik ustaviti, uporabite naslednji ukaz.</p>
<div class="sourceCode" id="cb386"><pre class="sourceCode bash docker-compose-stop"><code class="sourceCode bash"><span id="cb386-1"><a href="Node-js.html#cb386-1" tabindex="-1"></a><span class="ex">$</span> docker-compose stop</span>
<span id="cb386-2"><a href="Node-js.html#cb386-2" tabindex="-1"></a></span>
<span id="cb386-3"><a href="Node-js.html#cb386-3" tabindex="-1"></a> <span class="ex">⠿</span> Container sp-app  Stopped</span></code></pre></div>
<p>Za ponovni zagon ustavljenega Docker vsebnika je na voljo ukaz <code>start</code>.</p>
<div class="sourceCode" id="cb387"><pre class="sourceCode bash docker-compose-start"><code class="sourceCode bash"><span id="cb387-1"><a href="Node-js.html#cb387-1" tabindex="-1"></a><span class="ex">$</span> docker-compose start</span>
<span id="cb387-2"><a href="Node-js.html#cb387-2" tabindex="-1"></a></span>
<span id="cb387-3"><a href="Node-js.html#cb387-3" tabindex="-1"></a> <span class="ex">⠿</span> Container sp-app  Started</span></code></pre></div>
<p>Za dostop do dnevniških zapisov Docker vsebnika lahko uporabite ukaz <code>logs</code>, kjer s parametrov <code>--follow</code> zahtevamo posodabljanje v realnem času.</p>
<div class="sourceCode" id="cb388"><pre class="sourceCode bash docker-compose-logs"><code class="sourceCode bash"><span id="cb388-1"><a href="Node-js.html#cb388-1" tabindex="-1"></a><span class="ex">$</span> docker-compose logs <span class="at">--follow</span></span>
<span id="cb388-2"><a href="Node-js.html#cb388-2" tabindex="-1"></a></span>
<span id="cb388-3"><a href="Node-js.html#cb388-3" tabindex="-1"></a><span class="ex">Attaching</span> to sp-app</span>
<span id="cb388-4"><a href="Node-js.html#cb388-4" tabindex="-1"></a><span class="ex">sp-app</span>  <span class="kw">|</span> </span>
<span id="cb388-5"><a href="Node-js.html#cb388-5" tabindex="-1"></a><span class="ex">sp-app</span>  <span class="kw">|</span> <span class="op">&gt;</span> demo@0.1.0 <span class="ex">start</span></span>
<span id="cb388-6"><a href="Node-js.html#cb388-6" tabindex="-1"></a><span class="ex">sp-app</span>  <span class="kw">|</span> <span class="op">&gt;</span> node <span class="ex">server.js</span></span>
<span id="cb388-7"><a href="Node-js.html#cb388-7" tabindex="-1"></a><span class="ex">sp-app</span>  <span class="kw">|</span> </span>
<span id="cb388-8"><a href="Node-js.html#cb388-8" tabindex="-1"></a><span class="ex">sp-app</span>  <span class="kw">|</span> <span class="ex">Demo</span> app listening on port 3000!</span></code></pre></div>
<p>Če želite izbrisati Docker vsebnik, omrežje in pripadajočo sliko, lahko uporabite naslednji ukaz.</p>
<div class="sourceCode" id="cb389"><pre class="sourceCode bash docker-compose-down"><code class="sourceCode bash"><span id="cb389-1"><a href="Node-js.html#cb389-1" tabindex="-1"></a><span class="ex">$</span> docker-compose down <span class="at">--rmi</span> all</span>
<span id="cb389-2"><a href="Node-js.html#cb389-2" tabindex="-1"></a><span class="ex">[+]</span> Running 3/3</span>
<span id="cb389-3"><a href="Node-js.html#cb389-3" tabindex="-1"></a> <span class="ex">✔</span> Container sp-app        Removed</span>
<span id="cb389-4"><a href="Node-js.html#cb389-4" tabindex="-1"></a> <span class="ex">✔</span> Image sp-server:latest  Removed</span>
<span id="cb389-5"><a href="Node-js.html#cb389-5" tabindex="-1"></a> <span class="ex">✔</span> Network sp-network      Removed</span></code></pre></div>
<script>
  $(document).ready(function() {
    $("#docker code:eq(4)").markRegExp(/.*/, options_dodaj);
    $("#docker pre.bash:eq(0)").markRegExp(/.+/, options_dodaj);
    $("#docker code:eq(8)").markRegExp(/.*/, options_dodaj);
    $("#docker pre.bash:eq(1)").markRegExp(/.+/, options_dodaj);
    $("#docker code:eq(11)").markRegExp(/.*/, options_dodaj);
    $("#docker pre.bash:eq(2)").markRegExp(/.+/, options_dodaj);
    $(".docker-compose-up").markRegExp(/docker-compose up --detach/, options_dodaj);
    $(".docker-compose-stop").markRegExp(/docker-compose stop/, options_dodaj);
    $(".docker-compose-start").markRegExp(/docker-compose start/, options_dodaj);
    $(".docker-compose-logs").markRegExp(/docker-compose logs --follow/, options_dodaj);
    $(".docker-compose-down").markRegExp(/docker-compose down --rmi all/, options_dodaj);
  });
</script>
</div>
<div id="strežba-aplikacije-na-fly" class="section level3 hasAnchor" number="5.4.2">
<h3><span class="header-section-number">5.4.2</span> Strežba aplikacije na Fly<a href="Node-js.html#strežba-aplikacije-na-fly" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="https://fly.io/"><i class="fa-solid fa-earth-europe"></i><strong>Fly</strong></a> je oblačna platforma za gostovanje celostnih aplikacij in podatkovnih baz. V okviru paketa uporabe <a href="https://fly.io/docs/about/pricing/"><i class="fa-solid fa-earth-europe"></i>Hobby Plan</a> omogoča brezplačno uporabo platorme, in sicer pod naslednjimi pogoji:</p>
<ul>
<li>obvezna registracija kreditne kartice, ki se uporabi ob prekoračenju brezplačnih virov,</li>
<li>brezplačni viri so naslednji:
<ul>
<li>do 3x virtualni stroj v skupni rabi z 1 CPU in 256mb RAM-a,</li>
<li>3GB skupne trajne hrambe podatkov in</li>
<li>160GB odhodnega prenosa podatkov.</li>
</ul></li>
</ul>
<div id="fly-cli" class="section level4 hasAnchor" number="5.4.2.1">
<h4><span class="header-section-number">5.4.2.1</span> Fly CLI<a href="Node-js.html#fly-cli" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><a href="https://fly.io/docs/hands-on/install-flyctl/"><i class="fa-solid fa-terminal"></i><strong>Flyctl</strong></a> je pripomoček v ukazni vrstici, ki omogoča delo s platformo <a href="https://fly.io/"><i class="fa-solid fa-earth-europe"></i>Fly.io</a>, od kreiranja računa do nameščanja aplikacij. Deluje na lokalni napravi, kjer so na voljo <a href="https://fly.io/docs/hands-on/install-flyctl/"><i class="fa-solid fa-earth-europe"></i>namestitve za vse priljubljene operacijske sisteme</a>.</p>
<p>Če sistem uporabljate prvič, se je treba naprej <a href="https://fly.io/docs/hands-on/sign-up/"><i class="fa-solid fa-earth-europe"></i><strong>registrirati</strong></a>.</p>
<div class="sourceCode" id="cb390"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb390-1"><a href="Node-js.html#cb390-1" tabindex="-1"></a><span class="ex">$</span> fly auth signup</span>
<span id="cb390-2"><a href="Node-js.html#cb390-2" tabindex="-1"></a></span>
<span id="cb390-3"><a href="Node-js.html#cb390-3" tabindex="-1"></a><span class="ex">Opening</span> https://fly.io/app/auth/cli/...</span>
<span id="cb390-4"><a href="Node-js.html#cb390-4" tabindex="-1"></a><span class="ex">Waiting</span> for session... Done</span>
<span id="cb390-5"><a href="Node-js.html#cb390-5" tabindex="-1"></a><span class="ex">successfully</span> logged in as dejan@lavbic.net</span></code></pre></div>
<p>V nasprotnem primeru, ko račun že imate, se zgolj <a href="https://fly.io/docs/hands-on/sign-in/"><i class="fa-solid fa-earth-europe"></i><strong>prijavite</strong></a>.</p>
<div class="sourceCode" id="cb391"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb391-1"><a href="Node-js.html#cb391-1" tabindex="-1"></a><span class="ex">$</span> fly auth login</span>
<span id="cb391-2"><a href="Node-js.html#cb391-2" tabindex="-1"></a></span>
<span id="cb391-3"><a href="Node-js.html#cb391-3" tabindex="-1"></a><span class="ex">Opening</span> https://fly.io/app/auth/cli/...</span>
<span id="cb391-4"><a href="Node-js.html#cb391-4" tabindex="-1"></a><span class="ex">Waiting</span> for session... Done</span>
<span id="cb391-5"><a href="Node-js.html#cb391-5" tabindex="-1"></a><span class="ex">successfully</span> logged in as dejan@lavbic.net</span></code></pre></div>
<p>Sledi <a href="https://fly.io/docs/hands-on/launch-app/"><i class="fa-solid fa-earth-europe"></i><strong>namestitev aplikacije</strong></a>, kjer lahko poženemo poljubno aplikacijo, ki je zapakirana v sliko Docker. To pomeni, da lahko našo aplikacijo, ki smo jo v prejšnjem poglavju <a href="Node-js.html#docker">5.4.1</a> že pripravili za okolje Docker, neposredno namestimo na oblačno platformo Fly z naslednjim ukazom.</p>
<div class="sourceCode" id="cb392"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb392-1"><a href="Node-js.html#cb392-1" tabindex="-1"></a><span class="ex">$</span> fly launch</span>
<span id="cb392-2"><a href="Node-js.html#cb392-2" tabindex="-1"></a></span>
<span id="cb392-3"><a href="Node-js.html#cb392-3" tabindex="-1"></a><span class="ex">Creating</span> app in ./Demo</span>
<span id="cb392-4"><a href="Node-js.html#cb392-4" tabindex="-1"></a><span class="ex">Scanning</span> source code</span>
<span id="cb392-5"><a href="Node-js.html#cb392-5" tabindex="-1"></a><span class="ex">Detected</span> a NodeJS app</span>
<span id="cb392-6"><a href="Node-js.html#cb392-6" tabindex="-1"></a></span>
<span id="cb392-7"><a href="Node-js.html#cb392-7" tabindex="-1"></a><span class="ex">?</span> Choose an app name <span class="er">(</span><span class="ex">leave</span> blank to generate one<span class="kw">)</span><span class="bu">:</span> sp-2023-2024</span>
<span id="cb392-8"><a href="Node-js.html#cb392-8" tabindex="-1"></a><span class="ex">automatically</span> selected personal organization: Dejan Lavbič</span>
<span id="cb392-9"><a href="Node-js.html#cb392-9" tabindex="-1"></a><span class="ex">Some</span> regions require a paid plan <span class="er">(</span><span class="ex">bom,</span> fra, maa<span class="kw">)</span><span class="bu">.</span></span>
<span id="cb392-10"><a href="Node-js.html#cb392-10" tabindex="-1"></a><span class="ex">See</span> https://fly.io/plans to set up a plan.</span>
<span id="cb392-11"><a href="Node-js.html#cb392-11" tabindex="-1"></a></span>
<span id="cb392-12"><a href="Node-js.html#cb392-12" tabindex="-1"></a><span class="ex">?</span> Choose a region for deployment: Amsterdam, Netherlands <span class="er">(</span><span class="ex">ams</span><span class="kw">)</span></span>
<span id="cb392-13"><a href="Node-js.html#cb392-13" tabindex="-1"></a><span class="ex">App</span> will use <span class="st">&#39;ams&#39;</span> region as primary</span>
<span id="cb392-14"><a href="Node-js.html#cb392-14" tabindex="-1"></a></span>
<span id="cb392-15"><a href="Node-js.html#cb392-15" tabindex="-1"></a><span class="ex">Created</span> app <span class="st">&#39;sp-2023-2024&#39;</span> in organization <span class="st">&#39;personal&#39;</span></span>
<span id="cb392-16"><a href="Node-js.html#cb392-16" tabindex="-1"></a><span class="ex">Admin</span> URL: https://fly.io/apps/sp-2023-2024</span>
<span id="cb392-17"><a href="Node-js.html#cb392-17" tabindex="-1"></a><span class="ex">Hostname:</span> sp-2023-2024.fly.dev</span>
<span id="cb392-18"><a href="Node-js.html#cb392-18" tabindex="-1"></a><span class="ex">Wrote</span> config file fly.toml</span>
<span id="cb392-19"><a href="Node-js.html#cb392-19" tabindex="-1"></a><span class="ex">Validating</span> ./Demo/fly.toml</span>
<span id="cb392-20"><a href="Node-js.html#cb392-20" tabindex="-1"></a><span class="ex">Platform:</span> machines</span>
<span id="cb392-21"><a href="Node-js.html#cb392-21" tabindex="-1"></a><span class="ex">✓</span> Configuration is valid</span>
<span id="cb392-22"><a href="Node-js.html#cb392-22" tabindex="-1"></a></span>
<span id="cb392-23"><a href="Node-js.html#cb392-23" tabindex="-1"></a><span class="ex">$</span> fly deploy</span>
<span id="cb392-24"><a href="Node-js.html#cb392-24" tabindex="-1"></a></span>
<span id="cb392-25"><a href="Node-js.html#cb392-25" tabindex="-1"></a><span class="ex">==</span><span class="op">&gt;</span> Verifying app config</span>
<span id="cb392-26"><a href="Node-js.html#cb392-26" tabindex="-1"></a><span class="ex">Validating</span> ./Demo/fly.toml</span>
<span id="cb392-27"><a href="Node-js.html#cb392-27" tabindex="-1"></a><span class="ex">Platform:</span> machines</span>
<span id="cb392-28"><a href="Node-js.html#cb392-28" tabindex="-1"></a><span class="ex">✓</span> Configuration is valid</span>
<span id="cb392-29"><a href="Node-js.html#cb392-29" tabindex="-1"></a><span class="ex">--</span><span class="op">&gt;</span> Verified app config</span>
<span id="cb392-30"><a href="Node-js.html#cb392-30" tabindex="-1"></a><span class="ex">==</span><span class="op">&gt;</span> Building image</span>
<span id="cb392-31"><a href="Node-js.html#cb392-31" tabindex="-1"></a><span class="ex">Remote</span> builder fly-builder-lively-snow-2550 ready</span>
<span id="cb392-32"><a href="Node-js.html#cb392-32" tabindex="-1"></a><span class="ex">==</span><span class="op">&gt;</span> Building image with Docker</span>
<span id="cb392-33"><a href="Node-js.html#cb392-33" tabindex="-1"></a><span class="ex">--</span><span class="op">&gt;</span> docker host: 20.10.12 linux x86_64</span>
<span id="cb392-34"><a href="Node-js.html#cb392-34" tabindex="-1"></a><span class="ex">[+]</span> Building 11.6s <span class="er">(</span><span class="ex">10/10</span><span class="kw">)</span> <span class="ex">FINISHED</span></span>
<span id="cb392-35"><a href="Node-js.html#cb392-35" tabindex="-1"></a> <span class="ex">=</span><span class="op">&gt;</span> <span class="pp">[</span><span class="ss">1/5</span><span class="pp">]</span> FROM docker.io/library/node:18-alpine@sha256:3482a20c97e401b56ac50ba8920cc7b5b2022bfc6aa7d4e4c231755770cf892f</span>
<span id="cb392-36"><a href="Node-js.html#cb392-36" tabindex="-1"></a> <span class="ex">=</span><span class="op">&gt;</span> <span class="pp">[</span><span class="ss">2/5</span><span class="pp">]</span> WORKDIR /usr/src/app</span>
<span id="cb392-37"><a href="Node-js.html#cb392-37" tabindex="-1"></a> <span class="ex">=</span><span class="op">&gt;</span> <span class="pp">[</span><span class="ss">3/5</span><span class="pp">]</span> COPY package.json ./</span>
<span id="cb392-38"><a href="Node-js.html#cb392-38" tabindex="-1"></a> <span class="ex">=</span><span class="op">&gt;</span> <span class="pp">[</span><span class="ss">4/5</span><span class="pp">]</span> RUN npm install</span>
<span id="cb392-39"><a href="Node-js.html#cb392-39" tabindex="-1"></a> <span class="ex">=</span><span class="op">&gt;</span> <span class="pp">[</span><span class="ss">5/5</span><span class="pp">]</span> COPY . .</span>
<span id="cb392-40"><a href="Node-js.html#cb392-40" tabindex="-1"></a><span class="ex">--</span><span class="op">&gt;</span> Building image done</span>
<span id="cb392-41"><a href="Node-js.html#cb392-41" tabindex="-1"></a><span class="ex">==</span><span class="op">&gt;</span> Pushing image to fly</span>
<span id="cb392-42"><a href="Node-js.html#cb392-42" tabindex="-1"></a><span class="ex">The</span> push refers to repository <span class="pp">[</span><span class="ss">registry.fly.io/sp</span><span class="pp">-</span><span class="ss">2023</span><span class="pp">-</span><span class="ss">2024</span><span class="pp">]</span></span>
<span id="cb392-43"><a href="Node-js.html#cb392-43" tabindex="-1"></a><span class="ex">85597e9e02ca:</span> Pushed </span>
<span id="cb392-44"><a href="Node-js.html#cb392-44" tabindex="-1"></a><span class="ex">3a1776e8c3d1:</span> Pushed </span>
<span id="cb392-45"><a href="Node-js.html#cb392-45" tabindex="-1"></a><span class="ex">b5bd01a59a6f:</span> Pushed </span>
<span id="cb392-46"><a href="Node-js.html#cb392-46" tabindex="-1"></a><span class="ex">b4ba75c3c172:</span> Pushed </span>
<span id="cb392-47"><a href="Node-js.html#cb392-47" tabindex="-1"></a><span class="ex">498c77a984f9:</span> Pushed </span>
<span id="cb392-48"><a href="Node-js.html#cb392-48" tabindex="-1"></a><span class="ex">69b50a78845f:</span> Pushed </span>
<span id="cb392-49"><a href="Node-js.html#cb392-49" tabindex="-1"></a><span class="ex">ea2a97a3209c:</span> Pushed </span>
<span id="cb392-50"><a href="Node-js.html#cb392-50" tabindex="-1"></a><span class="ex">4693057ce236:</span> Pushed </span>
<span id="cb392-51"><a href="Node-js.html#cb392-51" tabindex="-1"></a><span class="ex">deployment-01H9N2G61TPFGFQBPQDPPEBRQ3:</span> digest: sha256:62b33f83d525140d52a7fb5cb6683e488cbba85b206a0f0f718bc06fe3434271 size: 1993</span>
<span id="cb392-52"><a href="Node-js.html#cb392-52" tabindex="-1"></a><span class="ex">--</span><span class="op">&gt;</span> Pushing image done</span>
<span id="cb392-53"><a href="Node-js.html#cb392-53" tabindex="-1"></a><span class="ex">image:</span> registry.fly.io/sp-2023-2024:deployment-01H9N2G61TPFGFQBPQDPPEBRQ3</span>
<span id="cb392-54"><a href="Node-js.html#cb392-54" tabindex="-1"></a><span class="ex">image</span> size: 193 MB</span>
<span id="cb392-55"><a href="Node-js.html#cb392-55" tabindex="-1"></a></span>
<span id="cb392-56"><a href="Node-js.html#cb392-56" tabindex="-1"></a><span class="ex">Watch</span> your deployment at https://fly.io/apps/sp-2023-2024/monitoring</span>
<span id="cb392-57"><a href="Node-js.html#cb392-57" tabindex="-1"></a></span>
<span id="cb392-58"><a href="Node-js.html#cb392-58" tabindex="-1"></a><span class="ex">Provisioning</span> ips for sp-2023-2024</span>
<span id="cb392-59"><a href="Node-js.html#cb392-59" tabindex="-1"></a>  <span class="ex">Dedicated</span> ipv6: 2a09:8280:1::37:6cdf</span>
<span id="cb392-60"><a href="Node-js.html#cb392-60" tabindex="-1"></a>  <span class="ex">Shared</span> ipv4: 66.241.125.62</span>
<span id="cb392-61"><a href="Node-js.html#cb392-61" tabindex="-1"></a>  <span class="ex">Add</span> a dedicated ipv4 with: fly ips allocate-v4</span>
<span id="cb392-62"><a href="Node-js.html#cb392-62" tabindex="-1"></a></span>
<span id="cb392-63"><a href="Node-js.html#cb392-63" tabindex="-1"></a><span class="ex">This</span> deployment will:</span>
<span id="cb392-64"><a href="Node-js.html#cb392-64" tabindex="-1"></a> <span class="ex">*</span> create 2 <span class="st">&quot;app&quot;</span> machines</span>
<span id="cb392-65"><a href="Node-js.html#cb392-65" tabindex="-1"></a></span>
<span id="cb392-66"><a href="Node-js.html#cb392-66" tabindex="-1"></a><span class="ex">No</span> machines in group app, launching a new machine</span>
<span id="cb392-67"><a href="Node-js.html#cb392-67" tabindex="-1"></a>  <span class="ex">Machine</span> 6e8257ec749758 <span class="pp">[</span><span class="ss">app</span><span class="pp">]</span> update finished: success</span>
<span id="cb392-68"><a href="Node-js.html#cb392-68" tabindex="-1"></a><span class="ex">Creating</span> a second machine to increase service availability</span>
<span id="cb392-69"><a href="Node-js.html#cb392-69" tabindex="-1"></a>  <span class="ex">Machine</span> 9080543a150528 <span class="pp">[</span><span class="ss">app</span><span class="pp">]</span> update finished: success</span>
<span id="cb392-70"><a href="Node-js.html#cb392-70" tabindex="-1"></a><span class="ex">Finished</span> launching new machines</span>
<span id="cb392-71"><a href="Node-js.html#cb392-71" tabindex="-1"></a></span>
<span id="cb392-72"><a href="Node-js.html#cb392-72" tabindex="-1"></a><span class="ex">NOTE:</span> The machines for <span class="pp">[</span><span class="ss">app</span><span class="pp">]</span> have services with <span class="st">&#39;auto_stop_machines = true&#39;</span> that will be stopped when idling</span>
<span id="cb392-73"><a href="Node-js.html#cb392-73" tabindex="-1"></a></span>
<span id="cb392-74"><a href="Node-js.html#cb392-74" tabindex="-1"></a><span class="ex">Visit</span> your newly deployed app at https://sp-2023-2024.fly.dev/</span></code></pre></div>
<p>Ob prvi namestitvi aplikacije, sistem Fly od zahteva določene podatke (npr. naziv aplikacije, lokacija gostovanja ipd.), na podlagi katerih se kreira nova datoteka <code>fly.toml</code>. Pri vsaki naslednji namestitvi se postavi naslednja višja verzija od <code>v0</code> naprej.</p>
<p><code>fly.toml</code></p>
<pre class="text"><code>app = &quot;sp-2023-2024&quot;
primary_region = &quot;ams&quot;
[build]
[http_service]
  internal_port = 3000
  force_https = true
  auto_stop_machines = true
  auto_start_machines = true
  min_machines_running = 0
  processes = [&quot;app&quot;]</code></pre>
<p>Ko je aplikacija nameščena, lahko z naslednjim ukazom <a href="https://fly.io/docs/hands-on/check-app-status/"><i class="fa-solid fa-earth-europe"></i>preverimo <strong>status namestitve</strong></a>.</p>
<div class="sourceCode" id="cb394"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb394-1"><a href="Node-js.html#cb394-1" tabindex="-1"></a><span class="ex">$</span> fly status</span>
<span id="cb394-2"><a href="Node-js.html#cb394-2" tabindex="-1"></a></span>
<span id="cb394-3"><a href="Node-js.html#cb394-3" tabindex="-1"></a><span class="ex">App</span></span>
<span id="cb394-4"><a href="Node-js.html#cb394-4" tabindex="-1"></a>  <span class="ex">Name</span>     = sp-2023-2024                                        </span>
<span id="cb394-5"><a href="Node-js.html#cb394-5" tabindex="-1"></a>  <span class="ex">Owner</span>    = personal                                            </span>
<span id="cb394-6"><a href="Node-js.html#cb394-6" tabindex="-1"></a>  <span class="ex">Hostname</span> = sp-2023-2024.fly.dev                                </span>
<span id="cb394-7"><a href="Node-js.html#cb394-7" tabindex="-1"></a>  <span class="ex">Image</span>    = sp-2023-2024:deployment-01H9N2G61TPFGFQBPQDPPEBRQ3  </span>
<span id="cb394-8"><a href="Node-js.html#cb394-8" tabindex="-1"></a>  <span class="ex">Platform</span> = machines                                            </span>
<span id="cb394-9"><a href="Node-js.html#cb394-9" tabindex="-1"></a></span>
<span id="cb394-10"><a href="Node-js.html#cb394-10" tabindex="-1"></a><span class="ex">Machines</span></span>
<span id="cb394-11"><a href="Node-js.html#cb394-11" tabindex="-1"></a><span class="ex">PROCESS</span> ID              VERSION REGION  STATE   ROLE    CHECKS  LAST UPDATED         </span>
<span id="cb394-12"><a href="Node-js.html#cb394-12" tabindex="-1"></a><span class="ex">app</span>     6e8257ec749758  1       ams     started                 2023-09-06T11:02:57Z</span>
<span id="cb394-13"><a href="Node-js.html#cb394-13" tabindex="-1"></a><span class="ex">app</span>     9080543a150528  1       ams     started                 2023-09-06T11:03:09Z</span></code></pre></div>
<p>Če je bila namestitev uspešna, to potrjuje status <code>running</code>, na voljo pa je tudi spletni naslov na katerem je aplikacija na voljo - v našem primeru je to <a href="https://sp-2023-2024.fly.dev/"><i class="fa-solid fa-earth-europe"></i><code>https://sp-2023-2024.fly.dev/</code></a></p>
<p>Na voljo pa nam je tudi ukaz, s katerim lahko <a href="https://fly.io/docs/hands-on/open-app/"><i class="fa-solid fa-earth-europe"></i>aplikacijo odpremo</a>.</p>
<div class="sourceCode" id="cb395"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb395-1"><a href="Node-js.html#cb395-1" tabindex="-1"></a><span class="ex">$</span> fly app open</span>
<span id="cb395-2"><a href="Node-js.html#cb395-2" tabindex="-1"></a></span>
<span id="cb395-3"><a href="Node-js.html#cb395-3" tabindex="-1"></a><span class="ex">opening</span> http://sp-2023-2024.fly.dev ...</span></code></pre></div>
<script>
  $(document).ready(function() {
    $("#fly-cli pre.bash:eq(0)").markRegExp(/fly.+/, options_dodaj);
    $("#fly-cli pre.bash:eq(1)").markRegExp(/fly.+/, options_dodaj);
    $("#fly-cli pre.bash:eq(2)").markRegExp(/fly (deploy|launch)/, options_dodaj);
    $("#fly-cli code:eq(5)").markRegExp(/.+/, options_dodaj);
    $("#fly-cli pre.text:eq(0)").markRegExp(/.+/, options_dodaj);
    $("#fly-cli pre.bash:eq(3)").markRegExp(/fly status/, options_dodaj);
    $("#fly-cli pre.bash:eq(3)").markRegExp(/sp-2023-2024\.fly\.dev/, options_dodaj);
    $("#fly-cli pre.bash:eq(4)").markRegExp(/fly .+/, options_dodaj);
  });
</script>
<h3>
Dodatno gradivo
</h3>
<table class="dodatnoGradivo">
<tr>
<td>
<p><img src="assets/img/Haverbeke_2018.jpg" width="200" style="display: block; margin: auto;" /></p>
</td>
<td>
<ul>
<li><strong>Eloquent JavaScript: A Modern Introduction to Programming</strong>, 3<sup>rd</sup> edition <span class="citation">(<a href="literatura.html#ref-haverbeke2018">Haverbeke 2018</a>)</span>
<ul>
<li><strong>Part I</strong>: Language
<ul>
<li><strong>Chapter 11</strong>: Asynchronous Programming</li>
<li><strong>Chapter 12</strong>: Project: A Programming Language</li>
</ul></li>
<li><strong>Part II</strong>: Browser
<ul>
<li><strong>Chapter 13</strong>: JavaScript and the Browser</li>
<li><strong>Chapter 14</strong>: The Document Object Model</li>
<li><strong>Chapter 15</strong>: Handling Events</li>
<li><strong>Chapter 16</strong>: Project: A Platform Game</li>
<li><strong>Chapter 17</strong>: Drawing on Canvas</li>
<li><strong>Chapter 18</strong>: HTTP and Forms</li>
<li><strong>Chapter 19</strong>: Project: A Pixel Art Editor</li>
</ul></li>
<li><strong>Part III</strong>: Beyond
<ul>
<li><strong>Chapter 20</strong>: Node.js</li>
<li><strong>Chapter 21</strong>: Skill-Sharing Website</li>
</ul></li>
</ul></li>
</ul>
</td>
</tr>
<tr>
<td>
<p><img src="assets/img/Deitel_2011.jpg" width="200" style="display: block; margin: auto;" /></p>
</td>
<td>
<ul>
<li><strong>Internet &amp; World Wide Web: How to program, 5<sup>th</sup> edition</strong> <span class="citation">(<a href="literatura.html#ref-deitel2011">Deitel, Deitel, and Deitel 2011</a>)</span>
<ul>
<li><strong>Chapter 12</strong>: Document Object Model (DOM): Objects and Collections</li>
<li><strong>Chapter 13</strong>: JavaScript Event Handling: A Deeper Look</li>
<li><strong>Chapter 16</strong>: Ajax-Enabled Rich Internet Applications with XML and JSON</li>
</ul></li>
</ul>
</td>
</tr>
<tr>
<td>
<p><img src="assets/img/Holmes_2019.jpg" width="200" style="display: block; margin: auto;" /></p>
</td>
<td>
<ul>
<li><strong>Getting MEAN with Mongo, Express, Angular, and Node</strong>, 2<sup>nd</sup> edition <span class="citation">(<a href="literatura.html#ref-holmes2019">Holmes and Herber 2019</a>)</span>
<ul>
<li><strong>Part 2</strong>: Building a Node web application
<ul>
<li><strong>Chapter 3</strong>: Creating and setting up a MEAN project</li>
<li><strong>Chapter 4</strong>: Building a static site with Node and Express</li>
</ul></li>
</ul></li>
</ul>
</td>
</tr>
</table>

</div>
</div>
</div>
</div>



<div class="footnotes">
<hr />
<ol start="122">
<li id="fn122"><p>slo. vhod/izhod (V/I), angl. input/output (I/O)<a href="Node-js.html#fnref122" class="footnote-back">↩︎</a></p></li>
<li id="fn123"><p>angl. Long Term Support<a href="Node-js.html#fnref123" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
<script type="text/javascript">
  $(document).ready(function() {
    
    $("a").click(function(e) {
      if (
        $(this).has(".fa-solid").length == 1 || 
        $(this).has(".fa-brands").length == 1 || 
        $(this).has(".fa-regular").length == 1 || 
        $(this).has("img.git").length == 1
      ) {
        e.preventDefault();
        window.open($(this).attr("href"), '_blank');
      }
    });
  });
</script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Q6109Y2092"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Q6109Y2092');
</script>
<h3><i class="fas fa-globe-europe" style="padding-right:5px"></i>Choose your language</h3>

<p>Students whose mother tongue is not Slovene can choose to <a onclick="loadGoogleTranslate()" class="google-translate-povezava"><i class="fas fa-sync-alt" style="padding-right:3px"></i>translate the contents of the script</a> into the selected language.</p>

<div id="google_translate_element"></div>

<script type="text/javascript">
  function googleTranslateElementInit() {
    new google.translate.TranslateElement({
      pageLanguage: 'sl', 
      includedLanguages: 'en,mk', 
      layout: google.translate.TranslateElement.InlineLayout.SIMPLE, 
      multilanguagePage: true
    }, 'google_translate_element');
  }
  
  function loadGoogleTranslate() {
    if ($("script[src='//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit']").length == 0) {
      var googleTranslateScript = document.createElement('script');
      googleTranslateScript.type = 'text/javascript';
      googleTranslateScript.async = true;
      googleTranslateScript.src = '//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0] ).appendChild(googleTranslateScript);    
    }
  }
  
  $(document).ready(function() {
    // Če gre za administrativno stran, potem skrij obrazec za komentarje
    $("h1:contains('Administracija'),h1:contains('Komentarji'),h1:contains('Analiza začetnega vprašalnika'),h1:contains('Lastni projekt'),h1:contains('pisni izpit'),h1:contains('Pisni izpiti')").filter(function() {
      $("h3:contains('Choose your language')").next().hide();
      $("h3:contains('Choose your language')").hide();
    });
  });
</script>
            </section>

          </div>
        </div>
      </div>
<a href="JavaScript.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="PB-REST-API.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/lib/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/lib/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="assets/lib/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/lib/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/lib/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/lib/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/lib/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="assets/lib/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": {}
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 1
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
